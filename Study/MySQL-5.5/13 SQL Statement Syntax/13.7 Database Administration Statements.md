

## 13.7 Database Administration Statements



### 13.7.1 Account Management Statements

MySQL account information is stored in the tables of the      `mysql` database. This database and the access      control system are discussed extensively in      [Chapter 5, *MySQL Server Administration*](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html), which you should consult      for additional details.

>  **Important**
>
>  Some MySQL releases introduce changes to the structure of the        grant tables to add new privileges or features. To make sure        that you can take advantage of any new capabilities, update your        grant tables to have the current structure whenever you upgrade        MySQL. See [Section 4.4.7, “**mysql_upgrade** — Check and Upgrade MySQL Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-upgrade).

When the [`read_only`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_read_only) system      variable is enabled, account-management statements require the      [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege, in addition to any      other required privileges. This is because they modify tables in      the `mysql` database.

#### 13.7.1.1 CREATE USER Syntax

```
CREATE USER
    user [auth_option] [, user [auth_option]] ...

user:
    (see Section 6.2.3, “Specifying Account Names”)

auth_option: {
    IDENTIFIED BY 'auth_string'
  | IDENTIFIED BY PASSWORD 'hash_string'
  | IDENTIFIED WITH auth_plugin
  | IDENTIFIED WITH auth_plugin AS 'hash_string'
}

```

​        The [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) statement creates        new MySQL accounts. An error occurs if you try to create an        account that already exists.      

​        To use [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user), you must have        the global [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-user) privilege,        or the [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privilege for the        `mysql` database. When the        [`read_only`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_read_only) system variable is        enabled, [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) additionally        requires the [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege.

Important

​          [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) may be recorded in          server logs or on the client side in a history file such as          `~/.mysql_history`, which means that          cleartext passwords may be read by anyone having read access          to that information. For information about password logging in          the server logs, see [Section 6.1.2.3, “Passwords and Logging”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#password-logging). For          similar information about client-side logging, see          [Section 4.5.1.3, “mysql Logging”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-logging).

​        For each account, [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user)        creates a new row in the `mysql.user` system        table with no privileges and assigns the account an        authentication plugin. Depending on the syntax used,        [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) may also assign the        account a password.      

​        An account when first created has no privileges. To assign        privileges, use the [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant)        statement.      

​        Each *user* value naming an account may        be followed by an optional        *auth_option* value that specifies how        authentication occurs for clients that use the account. This        part of [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) syntax is        shared with [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant), so the        description here applies to [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant)        as well.      

​        Each account name uses the format described in        [Section 6.2.3, “Specifying Account Names”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#account-names). For example:      

```
CREATE USER 'jeffrey'@'localhost' IDENTIFIED BY 'password';

```

​        The host name part of the account name, if omitted, defaults to        `'%'`.      

​        The server assigns an authentication plugin and password to each        account as follows, depending on whether the user specification        clause includes `IDENTIFIED WITH` to specify a        plugin or `IDENTIFIED BY` to specify a        password:

- ​            With `IDENTIFIED WITH`, the server assigns            the specified plugin and the account has no password. If the            optional `AS            '*hash_string*'` clause is            also given, the string is stored as is in the            `authentication_string` column (it is            assumed to be already hashed in the format required by the            plugin).          
- ​            With `IDENTIFIED BY`, the server assigns no            plugin and assigns the specified password.          
- ​            With neither `IDENTIFIED WITH` nor            `IDENTIFIED BY`, the server assigns no            plugin and the account has no password.

​        If the account has no password, the `Password`        column in the account's `mysql.user` table row        remains empty, which is insecure. To set the password, use        [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password). See        [Section 13.7.1.6, “SET PASSWORD Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password).      

​        If the server assigns no plugin to the account, the        `plugin` column in the account's        `mysql.user` table row remains empty.      

​        For client connections that use a given account, the server        invokes the authentication plugin assigned to the account and        the client must provide credentials as required by the        authentication method that the plugin implements. If the server        cannot find the plugin, either at account-creation time or        connect time, an error occurs.      

​        If an account's `mysql.user` table row has a        nonempty `plugin` column:

- ​            The server authenticates client connection attempts using            the named plugin.          
- ​            Changes to the account password using            [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) with            [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password) must be made with            the [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords) system            variable set to the value required by the authentication            plugin, so that [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password)            uses the appropriate password hashing method. If the plugin            is `mysql_old_password`, the password can            also be changed using [`SET            PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) with            [`OLD_PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_old-password), which uses            pre-4.1 password hashing regardless of the value of            [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords).

​        If an account's `mysql.user` table row has an        empty `plugin` column:

- ​            The server authenticates client connection attempts using            the `mysql_native_password` or            `mysql_old_password` authentication plugin,            depending on the hash format of the password stored in the            `Password` column.          
- ​            Changes to the account password using            [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) can be made with            [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password), with            [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords) set to 0 or 1            for 4.1 or pre-4.1 password hashing, respectively, or with            [`OLD_PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_old-password), which uses            pre-4.1 password hashing regardless of the value of            [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords).

​        [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) examples:

- ​            To specify an authentication plugin for an account, use            `IDENTIFIED WITH            *auth_plugin*`. The plugin            name can be a quoted string literal or an unquoted name.            `'*auth_string*'`            is an optional quoted string literal to pass to the plugin.            The plugin interprets the meaning of the string, so its            format is plugin specific and it is stored in the            `authentication_string` column as given.            (This value is meaningful only for plugins that use that            column.) Consult the documentation for a given plugin for            information about the authentication string values it            accepts, if any.          

  ```
  CREATE USER 'jeffrey'@'localhost' IDENTIFIED WITH mysql_native_password;

  ```

  ​            The server assigns the given authentication plugin to the            account but no password. Clients must provide no password            when they connect. However, an account with no password is            insecure. To ensure that an account uses a specific            authentication plugin and has a password with the            corresponding hash format, specify the plugin explicitly            with `IDENTIFIED WITH`, then use            [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) to set the            password:          

  ```
  CREATE USER 'jeffrey'@'localhost' IDENTIFIED WITH mysql_native_password;
  SET old_passwords = 0;
  SET PASSWORD FOR 'jeffrey'@'localhost' = PASSWORD('password');

  ```

  ​            Changes to the account password using            [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) with            [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password) must be made with            the [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords) system            variable set to the value required by the account's            authentication plugin, so that            [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password) uses the            appropriate password hashing method. Therefore, to use the            `mysql_old_password` plugin instead, name            that plugin in the [`CREATE            USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) statement and set            [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords) to 1 before            using [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password).          

- ​            To specify a password for an account at account-creation            time, use `IDENTIFIED BY` with the literal            cleartext password value:          

  ```
  CREATE USER 'jeffrey'@'localhost' IDENTIFIED BY 'password';

  ```

  ​            The server assigns the given password to the account but no            authentication plugin. Clients must provide the password            when they connect.          

- ​            To avoid specifying the cleartext password if you know its            hash value (the value that            [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password) would return for            the password), specify the hash value preceded by the            keyword `PASSWORD`:          

  ```
  CREATE USER 'jeffrey'@'localhost'
  IDENTIFIED BY PASSWORD '*90E462C37378CED12064BB3388827D2BA3A9B689';

  ```

  ​            The server assigns the given password to the account but no            authentication plugin. Clients must provide the password            when they connect.          

- ​            To enable the user to connect with no password, include no            `IDENTIFIED BY` clause:          

  ```
  CREATE USER 'jeffrey'@'localhost';

  ```

  ​            The server assigns no authentication plugin or password to            the account. Clients must provide no password when they            connect. However, an account with no password is insecure.            To avoid this, use [`SET            PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) to set the account password.

​        For additional information about setting passwords and        authentication plugins, see        [Section 6.3.5, “Assigning Account Passwords”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#assigning-passwords), and        [Section 6.3.6, “Pluggable Authentication”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#pluggable-authentication).

#### 13.7.1.2 DROP USER Syntax

```
DROP USER user [, user] ...

```

​        The [`DROP USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user) statement removes        one or more MySQL accounts and their privileges. It removes        privilege rows for the account from all grant tables. An error        occurs for accounts that do not exist.      

​        To use [`DROP USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user), you must have        the global [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-user) privilege,        or the [`DELETE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_delete) privilege for the        `mysql` database. When the        [`read_only`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_read_only) system variable is        enabled, [`DROP USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user) additionally        requires the [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege.      

​        Each account name uses the format described in        [Section 6.2.3, “Specifying Account Names”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#account-names). For example:      

```
DROP USER 'jeffrey'@'localhost';

```

​        The host name part of the account name, if omitted, defaults to        `'%'`.

Important

​          [`DROP USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user) does not          automatically close any open user sessions. Rather, in the          event that a user with an open session is dropped, the          statement does not take effect until that user's session is          closed. Once the session is closed, the user is dropped, and          that user's next attempt to log in will fail. *This          is by design*.

​        [`DROP USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user) does not automatically        drop or invalidate databases or objects within them that the old        user created. This includes stored programs or views for which        the `DEFINER` attribute names the dropped user.        Attempts to access such objects may produce an error if they        execute in definer security context. (For information about        security context, see        [Section 20.6, “Access Control for Stored Programs and Views”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/stored-programs-views.html#stored-programs-security).)

#### 13.7.1.3 GRANT Syntax

```
GRANT
    priv_type [(column_list)]
      [, priv_type [(column_list)]] ...
    ON [object_type] priv_level
    TO user [auth_option] [, user [auth_option]] ...
    [REQUIRE {NONE | tls_option [[AND] tls_option] ...}]
    [WITH {GRANT OPTION | resource_option} ...]

GRANT PROXY ON user
    TO user [, user] ...
    [WITH GRANT OPTION]

object_type: {
    TABLE
  | FUNCTION
  | PROCEDURE
}

priv_level: {
    *
  | *.*
  | db_name.*
  | db_name.tbl_name
  | tbl_name
  | db_name.routine_name
}

user:
    (see Section 6.2.3, “Specifying Account Names”)

auth_option: {
    IDENTIFIED BY 'auth_string'
  | IDENTIFIED BY PASSWORD 'hash_string'
  | IDENTIFIED WITH auth_plugin
  | IDENTIFIED WITH auth_plugin AS 'hash_string'
}

tls_option: {
    SSL
  | X509
  | CIPHER 'cipher'
  | ISSUER 'issuer'
  | SUBJECT 'subject'
}

resource_option: {
  | MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
}

```

​        The [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statement grants        privileges to MySQL user accounts.        [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) also serves to specify        other account characteristics such as use of secure connections        and limits on access to server resources.      

​        To use [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant), you must have the        [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option) privilege, and you        must have the privileges that you are granting. When the        [`read_only`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_read_only) system variable is        enabled, [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) additionally        requires the [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege.      

​        The [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke) statement is related        to [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) and enables        administrators to remove account privileges. See        [Section 13.7.1.5, “REVOKE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke).      

​        Each account name uses the format described in        [Section 6.2.3, “Specifying Account Names”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#account-names). For example:      

```
GRANT ALL ON db1.* TO 'jeffrey'@'localhost';

```

​        The host name part of the account, if omitted, defaults to        `'%'`.      

​        Normally, a database administrator first uses        [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) to create an account,        then [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) to define its        privileges and characteristics. For example:      

```
CREATE USER 'jeffrey'@'localhost' IDENTIFIED BY 'password';
GRANT ALL ON db1.* TO 'jeffrey'@'localhost';
GRANT SELECT ON db2.invoice TO 'jeffrey'@'localhost';
GRANT USAGE ON *.* TO 'jeffrey'@'localhost' WITH MAX_QUERIES_PER_HOUR 90;

```

Note

​          Examples shown here include no `IDENTIFIED`          clause. It is assumed that you establish passwords with          [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) at account-creation          time to avoid creating insecure accounts.

​        If an account named in a [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant)        statement does not already exist,        [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) may create it under the        conditions described later in the discussion of the        [`NO_AUTO_CREATE_USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sqlmode_no_auto_create_user) SQL mode.      

​        From the [**mysql**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql) program,        [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) responds with        `Query OK, 0 rows affected` when executed        successfully. To determine what privileges result from the        operation, use [`SHOW GRANTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants). See        [Section 13.7.5.22, “SHOW GRANTS Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants).

Important

​          [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) may be recorded in server          logs or on the client side in a history file such as          `~/.mysql_history`, which means that          cleartext passwords may be read by anyone having read access          to that information. For information about password logging in          the server logs, see [Section 6.1.2.3, “Passwords and Logging”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#password-logging). For          similar information about client-side logging, see          [Section 4.5.1.3, “mysql Logging”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-logging).

​        [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) supports host names up to        60 characters long. User names can be up to 16 characters.        Database, table, column, and routine names can be up to 64        characters.

Warning

​          *Do not attemt to change the permissible length for          user names by altering the mysql.user          table. Doing so results in unpredictable behavior which may          even make it impossible for users to log in to the MySQL          server*. Never alter the structure of tables in the          `mysql` database in any manner except by          means of the procedure described in          [Section 4.4.7, “**mysql_upgrade** — Check and Upgrade MySQL Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-upgrade).

​        There are several aspects to the        [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statement, described under        the following topics:

- [Object Quoting Guidelines](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-quoting)
- [Privileges Supported by MySQL](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-privileges)
- [Global Privileges](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-global-privileges)
- [Database Privileges](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-database-privileges)
- [Table Privileges](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-table-privileges)
- [Column Privileges](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-column-privileges)
- [Stored Routine Privileges](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-routine-privileges)
- [Proxy User Privileges](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-proxy-privileges)
- [Account Names and Passwords](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-accounts-passwords)
- [Implicit Account Creation](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-account-creation)
- [Other Account Characteristics](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-other-characteristics)
- [MySQL and Standard SQL Versions of GRANT](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant-mysql-vs-standard-sql)

##### Object Quoting Guidelines

​          Several objects within [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant)          statements are subject to quoting, although quoting is          optional in many cases: Account, database, table, column, and          routine names. For example, if a          *user_name* or          *host_name* value in an account name          is legal as an unquoted identifier, you need not quote it.          However, quotation marks are necessary to specify a          *user_name* string containing special          characters (such as `-`), or a          *host_name* string containing special          characters or wildcard characters (such as          `%`); for example,          `'test-user'@'%.com'`. Quote the user name          and host name separately.        

​          To specify quoted values, quote database, table, column, and          routine names as identifiers. Quote user names and host names          as identifiers or as strings. Quote passwords as strings. For          string-quoting and identifier-quoting guidelines, see          [Section 9.1.1, “String Literals”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/language-structure.html#string-literals), and          [Section 9.2, “Schema Object Names”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/language-structure.html#identifiers).        

​          The `_` and `%` wildcards          are permitted when specifying database names in          [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statements that grant          privileges at the database level. This means, for example,          that if you want to use a `_` character as          part of a database name, you should specify it as          `\_` in the          [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statement, to prevent the          user from being able to access additional databases matching          the wildcard pattern; for example, `GRANT ... ON          `foo\_bar`.* TO ...`.

##### Privileges Supported by MySQL

​          The following table summarizes the permissible          *priv_type* privilege types that can          be specified for the [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) and          [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke) statements, and the          levels at which each privilege can be granted. For additional          information about each privilege, see          [Section 6.2.1, “Privileges Provided by MySQL”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#privileges-provided).

**Table 13.3 Permissible Privileges for GRANT and REVOKE**

| Privilege                                | Meaning and Grantable Levels             |
| ---------------------------------------- | ---------------------------------------- |
| [`ALL [PRIVILEGES\]`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_all) | Grant all privileges at specified access level except                  [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option) and                  [`PROXY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_proxy). |
| [`ALTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_alter) | Enable use of [`ALTER TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table). Levels:                  Global, database, table. |
| [`ALTER ROUTINE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_alter-routine) | Enable stored routines to be altered or dropped. Levels: Global,                  database, procedure. |
| [`CREATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create) | Enable database and table creation. Levels: Global, database, table. |
| [`CREATE ROUTINE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-routine) | Enable stored routine creation. Levels: Global, database. |
| [`CREATE TABLESPACE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-tablespace) | Enable tablespaces and log file groups to be created, altered, or                  dropped. Level: Global. |
| [`CREATE TEMPORARY TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-temporary-tables) | Enable use of [`CREATE                  TEMPORARY TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table). Levels: Global, database. |
| [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-user) | Enable use of [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user),                  [`DROP USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user),                  [`RENAME USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#rename-user), and                  [`REVOKE ALL                  PRIVILEGES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke). Level: Global. |
| [`CREATE VIEW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-view) | Enable views to be created or altered. Levels: Global, database, table. |
| [`DELETE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_delete) | Enable use of [`DELETE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#delete). Level: Global,                  database, table. |
| [`DROP`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_drop) | Enable databases, tables, and views to be dropped. Levels: Global,                  database, table. |
| [`EVENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_event) | Enable use of events for the Event Scheduler. Levels: Global, database. |
| [`EXECUTE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_execute) | Enable the user to execute stored routines. Levels: Global, database,                  table. |
| [`FILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_file) | Enable the user to cause the server to read or write files. Level:                  Global. |
| [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option) | Enable privileges to be granted to or removed from other accounts.                  Levels: Global, database, table, procedure, proxy. |
| [`INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_index) | Enable indexes to be created or dropped. Levels: Global, database,                  table. |
| [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) | Enable use of [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#insert). Levels: Global,                  database, table, column. |
| [`LOCK TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_lock-tables) | Enable use of [`LOCK TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) on tables for                  which you have the                  [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) privilege.                  Levels: Global, database. |
| [`PROCESS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_process) | Enable the user to see all processes with [`SHOW                  PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist). Level: Global. |
| [`PROXY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_proxy) | Enable user proxying. Level: From user to user. |
| [`REFERENCES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_references) | Enable foreign key creation. Levels: Global, database, table, column. |
| [`RELOAD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_reload) | Enable use of [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) operations. Level:                  Global. |
| [`REPLICATION CLIENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_replication-client) | Enable the user to ask where master or slave servers are. Level: Global. |
| [`REPLICATION SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_replication-slave) | Enable replication slaves to read binary log events from the master.                  Level: Global. |
| [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select) | Enable use of [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select). Levels: Global,                  database, table, column. |
| [`SHOW DATABASES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_show-databases) | Enable [`SHOW DATABASES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-databases) to show all                  databases. Level: Global. |
| [`SHOW VIEW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_show-view) | Enable use of [`SHOW CREATE VIEW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-view). Levels:                  Global, database, table. |
| [`SHUTDOWN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_shutdown) | Enable use of [**mysqladmin shutdown**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin). Level: Global. |
| [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) | Enable use of other administrative operations such as                  [`CHANGE MASTER TO`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#change-master-to),                  [`KILL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill),                  [`PURGE BINARY LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#purge-binary-logs),                  [`SET                  GLOBAL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable), and [**mysqladmin                  debug**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin) command. Level: Global. |
| [`TRIGGER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_trigger) | Enable trigger operations. Levels: Global, database, table. |
| [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_update) | Enable use of [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#update). Levels: Global,database, table, column. |
| [`USAGE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_usage) | Synonym for “no privileges”              |

​          A trigger is associated with a table. To create or drop a          trigger, you must have the          [`TRIGGER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_trigger) privilege for the          table, not the trigger.        

​          In [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statements, the          [`ALL          [PRIVILEGES\]`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_all) or [`PROXY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_proxy)          privilege must be named by itself and cannot be specified          along with other privileges.          [`ALL          [PRIVILEGES\]`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_all) stands for all privileges available for          the level at which privileges are to be granted except for the          [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option) and          [`PROXY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_proxy) privileges.        

​          [`USAGE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_usage) can be specified to          create a user that has no privileges, or to specify the          `REQUIRE` or `WITH` clauses          for an account without changing its existing privileges.        

​          MySQL account information is stored in the tables of the          `mysql` database. For additional details,          consult [Section 6.2, “The MySQL Access Privilege System”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#privilege-system), which discusses          the `mysql` database and the access control          system extensively.        

​          If the grant tables hold privilege rows that contain          mixed-case database or table names and the          [`lower_case_table_names`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_lower_case_table_names) system          variable is set to a nonzero value,          [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke) cannot be used to revoke          these privileges. It will be necessary to manipulate the grant          tables directly. ([`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) will          not create such rows when          [`lower_case_table_names`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_lower_case_table_names) is          set, but such rows might have been created prior to setting          that variable.)        

​          Privileges can be granted at several levels, depending on the          syntax used for the `ON` clause. For          [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke), the same          `ON` syntax specifies which privileges to          remove.        

​          For the global, database, table, and routine levels,          [`GRANT ALL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant)          assigns only the privileges that exist at the level you are          granting. For example, `GRANT ALL ON          *db_name*.*` is a          database-level statement, so it does not grant any global-only          privileges such as [`FILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_file).          Granting [`ALL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_all) does not assign          the [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option) or          [`PROXY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_proxy) privilege.        

​          The *object_type* clause, if present,          should be specified as `TABLE`,          `FUNCTION`, or `PROCEDURE`          when the following object is a table, a stored function, or a          stored procedure.        

​          The privileges for a database, table, column, or routine are          formed additively as the logical          [`OR`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_or) of the privileges at each of          the privilege levels. For example, if a user has a global          [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select) privilege, the privilege          cannot be denied by an absence of the privilege at the          database, table, or column level. Details of the          privilege-checking procedure are presented in          [Section 6.2.5, “Access Control, Stage 2: Request Verification”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#request-access).        

​          If you are using table, column, or routine privileges for even          one user, the server examines table, column, and routine          privileges for all users and this slows down MySQL a bit.          Similarly, if you limit the number of queries, updates, or          connections for any users, the server must monitor these          values.        

​          MySQL enables you to grant privileges on databases or tables          that do not exist. For tables, the privileges to be granted          must include the [`CREATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create)          privilege. *This behavior is by design*,          and is intended to enable the database administrator to          prepare user accounts and privileges for databases or tables          that are to be created at a later time.

Important

​            *MySQL does not automatically revoke any privileges            when you drop a database or table*. However, if            you drop a routine, any routine-level privileges granted for            that routine are revoked.

##### Global Privileges

​          Global privileges are administrative or apply to all databases          on a given server. To assign global privileges, use          `ON *.*` syntax:        

```
GRANT ALL ON *.* TO 'someuser'@'somehost';
GRANT SELECT, INSERT ON *.* TO 'someuser'@'somehost';

```

​          The [`CREATE TABLESPACE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-tablespace),          [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-user),          [`FILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_file),          [`PROCESS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_process),          [`RELOAD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_reload),          [`REPLICATION CLIENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_replication-client),          [`REPLICATION SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_replication-slave),          [`SHOW DATABASES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_show-databases),          [`SHUTDOWN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_shutdown), and          [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privileges are          administrative and can only be granted globally.        

​          Other privileges can be granted globally or at more specific          levels.        

​          [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option) granted at the          global level for any global privilege applies to all global          privileges.        

​          MySQL stores global privileges in the          `mysql.user` system table.

##### Database Privileges

​          Database privileges apply to all objects in a given database.          To assign database-level privileges, use `ON          *db_name*.*` syntax:        

```
GRANT ALL ON mydb.* TO 'someuser'@'somehost';
GRANT SELECT, INSERT ON mydb.* TO 'someuser'@'somehost';

```

​          If you use `ON *` syntax (rather than          `ON *.*`) and you have selected a default          database, privileges are assigned at the database level for          the default database. An error occurs if there is no default          database.        

​          The [`CREATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create),          [`DROP`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_drop),          [`EVENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_event),          [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option),          [`LOCK TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_lock-tables), and          [`REFERENCES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_references) privileges can be          specified at the database level. Table or routine privileges          also can be specified at the database level, in which case          they apply to all tables or routines in the database.        

​          MySQL stores database privileges in the          `mysql.db` system table.

##### Table Privileges

​          Table privileges apply to all columns in a given table. To          assign table-level privileges, use `ON          *db_name.tbl_name*` syntax:        

```
GRANT ALL ON mydb.mytbl TO 'someuser'@'somehost';
GRANT SELECT, INSERT ON mydb.mytbl TO 'someuser'@'somehost';

```

​          If you specify *tbl_name* rather than          *db_name.tbl_name*, the statement          applies to *tbl_name* in the default          database. An error occurs if there is no default database.        

​          The permissible *priv_type* values at          the table level are [`ALTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_alter),          [`CREATE VIEW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-view),          [`CREATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create),          [`DELETE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_delete),          [`DROP`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_drop),          [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option),          [`INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_index),          [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert),          [`REFERENCES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_references),          [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select),          [`SHOW VIEW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_show-view),          [`TRIGGER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_trigger), and          [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_update).        

​          MySQL stores table privileges in the          `mysql.tables_priv` system table.

##### Column Privileges

​          Column privileges apply to single columns in a given table.          Each privilege to be granted at the column level must be          followed by the column or columns, enclosed within          parentheses.        

```
GRANT SELECT (col1), INSERT (col1,col2) ON mydb.mytbl TO 'someuser'@'somehost';

```

​          The permissible *priv_type* values          for a column (that is, when you use a          *column_list* clause) are          [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert),          [`REFERENCES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_references),          [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select), and          [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_update).        

​          MySQL stores column privileges in the          `mysql.columns_priv` system table.

##### Stored Routine Privileges

​          The [`ALTER ROUTINE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_alter-routine),          [`CREATE ROUTINE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-routine),          [`EXECUTE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_execute), and          [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option) privileges apply          to stored routines (procedures and functions). They can be          granted at the global and database levels. Except for          [`CREATE ROUTINE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-routine), these          privileges can be granted at the routine level for individual          routines.        

```
GRANT CREATE ROUTINE ON mydb.* TO 'someuser'@'somehost';
GRANT EXECUTE ON PROCEDURE mydb.myproc TO 'someuser'@'somehost';

```

​          The permissible *priv_type* values at          the routine level are [`ALTER          ROUTINE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_alter-routine), [`EXECUTE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_execute), and          [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option).          [`CREATE ROUTINE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-routine) is not a          routine-level privilege because you must have this privilege          to create a routine in the first place.        

​          MySQL stores routine-level privileges in the          `mysql.procs_priv` system table.

##### Proxy User Privileges

​          The [`PROXY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_proxy) privilege enables one          user to be a proxy for another. The proxy user impersonates or          takes the identity of the proxied user.        

```
GRANT PROXY ON 'localuser'@'localhost' TO 'externaluser'@'somehost';

```

​          When [`PROXY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_proxy) is granted, it must          be the only privilege named in the          [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statement, the          `REQUIRE` clause cannot be given, and the          only permitted `WITH` option is `WITH          GRANT OPTION`.        

​          Proxying requires that the proxy user authenticate through a          plugin that returns the name of the proxied user to the server          when the proxy user connects, and that the proxy user have the          `PROXY` privilege for the proxied user. For          details and examples, see [Section 6.3.7, “Proxy Users”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#proxy-users).        

​          MySQL stores proxy privileges in the          `mysql.proxies_priv` system table.

##### Account Names and Passwords

​          A *user* value in a          [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statement indicates a          MySQL account to which the statement applies. To accommodate          granting rights to users from arbitrary hosts, MySQL supports          specifying the *user* value in the          form          `'*user_name*'@'*host_name*'`.        

​          You can specify wildcards in the host name. For example,          `'*user_name*'@'%.example.com'`          applies to *user_name* for any host          in the `example.com` domain, and          `'*user_name*'@'198.51.100.%'`          applies to *user_name* for any host          in the `198.51.100` class C subnet.        

​          The simple form          `'*user_name*'` is a          synonym for          `'*user_name*'@'%'`.        

​          *MySQL does not support wildcards in user          names*. To refer to an anonymous user, specify an          account with an empty user name with the          [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statement:        

```
GRANT ALL ON test.* TO ''@'localhost' ...;

```

​          In this case, any user who connects from the local host with          the correct password for the anonymous user will be permitted          access, with the privileges associated with the anonymous-user          account.        

​          For additional information about user name and host name          values in account names, see [Section 6.2.3, “Specifying Account Names”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#account-names).

Warning

​            If you permit local anonymous users to connect to the MySQL            server, you should also grant privileges to all local users            as            `'*user_name*'@'localhost'`.            Otherwise, the anonymous user account for            `localhost` in the            `mysql.user` system table (created during            MySQL installation) is used when named users try to log in            to the MySQL server from the local machine. For details, see            [Section 6.2.4, “Access Control, Stage 1: Connection Verification”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#connection-access).          

​            To determine whether this issue applies to you, execute the            following query, which lists any anonymous users:          

```
SELECT Host, User FROM mysql.user WHERE User='';

```

​            To avoid the problem just described, delete the local            anonymous user account using this statement:          

```
DROP USER ''@'localhost';

```

​          For [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) syntaxes that permit          an *auth_option* value to follow a          *user* value,          *auth_option* begins with          `IDENTIFIED` and indicates how the account          authenticates by specifying an account authentication plugin,          credentials (for example, a password), or both. Syntax of the          *auth_option* clause is the same as          for the [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user) statement.          For details, see [Section 13.7.1.1, “CREATE USER Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user).        

​          When `IDENTIFIED` is present and you have the          global grant privilege ([`GRANT          OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option)), any password specified becomes the new          password for the account, even if the account exists and          already has a password. Without `IDENTIFIED`,          the account password remains unchanged.

##### Implicit Account Creation

​          If an account named in a [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant)          statement does not exist, the action taken depends on the          [`NO_AUTO_CREATE_USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sqlmode_no_auto_create_user) SQL          mode:

- ​              If [`NO_AUTO_CREATE_USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sqlmode_no_auto_create_user)              is not enabled, [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant)              creates the account. *This is very              insecure* unless you specify a nonempty password              using `IDENTIFIED BY`.            
- ​              If [`NO_AUTO_CREATE_USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sqlmode_no_auto_create_user)              is enabled, [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) fails and              does not create the account, unless you specify a nonempty              password using `IDENTIFIED BY` or name an              authentication plugin using `IDENTIFIED              WITH`.

##### Other Account Characteristics

​          MySQL can check X509 certificate attributes in addition to the          usual authentication that is based on the user name and          credentials. For background information on the use of SSL with          MySQL, see [Section 6.4, “Using Encrypted Connections”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#encrypted-connections).        

​          The optional `REQUIRE` clause specifies          SSL-related options for a MySQL account, using one or more          *tls_option* values.        

​          Order of `REQUIRE` options does not matter,          but no option can be specified twice. The          `AND` keyword is optional between          `REQUIRE` options.        

​          [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) permits these          *tls_option* values:

- ​              `NONE`            

  ​              Indicates that the account has no SSL or X509              requirements.            

  ```
  GRANT ALL PRIVILEGES ON test.* TO 'root'@'localhost'
    REQUIRE SSL;

  ```

  ​              Unencrypted connections are permitted if the user name and              password are valid. Encrypted connections can be used, at              the client's option, if the client has the proper              certificate and key files. That is, the client need not              specify any SSL command options, in which case the              connection will be unencrypted. To use an encrypted              connection, the client must specify either the              [`--ssl-ca`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-ca) option, or all              three of the [`--ssl-ca`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-ca),              [`--ssl-key`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-key), and              [`--ssl-cert`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-cert) options.            

  ​              `NONE` is the default if no SSL-related              `REQUIRE` options are specified.            

- ​              `SSL`            

  ​              Tells the server to permit only encrypted connections for              the account.            

  ```
  GRANT ALL PRIVILEGES ON test.* TO 'root'@'localhost'
    REQUIRE NONE;

  ```

  ​              To connect, the client must specify the              [`--ssl-ca`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-ca) option to              authenticate the server certificate, and may additionally              specify the [`--ssl-key`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-key) and              [`--ssl-cert`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-cert) options. If              neither the [`--ssl-ca`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-ca)              option nor [`--ssl-capath`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-capath)              option is specified, the client does not authenticate the              server certificate.            

- ​              `X509`            

  ​              Requires that clients present a valid certificate, but the              exact certificate, issuer, and subject do not matter. The              only requirement is that it should be possible to verify              its signature with one of the CA certificates. Use of X509              certificates always implies encryption, so the              `SSL` option is unnecessary in this case.            

  ```
  GRANT ALL PRIVILEGES ON test.* TO 'root'@'localhost'
    REQUIRE X509;

  ```

  ​              For accounts with `REQUIRE X509`, clients              must specify the [`--ssl-key`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-key)              and [`--ssl-cert`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-cert) options to              connect. (It is recommended but not required that              [`--ssl-ca`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-ca) also be specified              so that the public certificate provided by the server can              be verified.) This is true for `ISSUER`              and `SUBJECT` as well because those              `REQUIRE` options imply the requirements              of `X509`.            

- ​              `ISSUER              '*issuer*'`            

  ​              Requires that clients present a valid X509 certificate              issued by CA              `'*issuer*'`. If              a client presents a certificate that is valid but has a              different issuer, the server rejects the connection. Use              of X509 certificates always implies encryption, so the              `SSL` option is unnecessary in this case.            

  ```
  GRANT ALL PRIVILEGES ON test.* TO 'root'@'localhost'
    REQUIRE ISSUER '/C=SE/ST=Stockholm/L=Stockholm/
      O=MySQL/CN=CA/emailAddress=ca@example.com';

  ```

  ​              Because `ISSUER` implies the requirements              of `X509`, clients must specify the              [`--ssl-key`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-key) and              [`--ssl-cert`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-cert) options to              connect. (It is recommended but not required that              [`--ssl-ca`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-ca) also be specified              so that the public certificate provided by the server can              be verified.)

  Note

  ​                If MySQL is linked against a version of OpenSSL older                than 0.9.6h, use `Email` rather than                `emailAddress` in the                `'*issuer*'`                value.

- ​              `SUBJECT              '*subject*'`            

  ​              Requires that clients present a valid X509 certificate              containing the subject *subject*.              If a client presents a certificate that is valid but has a              different subject, the server rejects the connection. Use              of X509 certificates always implies encryption, so the              `SSL` option is unnecessary in this case.            

  ```
  GRANT ALL PRIVILEGES ON test.* TO 'root'@'localhost'
    REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/
      O=MySQL demo client certificate/
      CN=client/emailAddress=client@example.com';

  ```

  ​              MySQL does a simple string comparison of the              `'*subject*'`              value to the value in the certificate, so lettercase and              component ordering must be given exactly as present in the              certificate.

  Note

  ​                Regarding `emailAddress`, see the note                in the description of `REQUIRE ISSUER`.

  ​              Because `SUBJECT` implies the              requirements of `X509`, clients must              specify the [`--ssl-key`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-key) and              [`--ssl-cert`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-cert) options to              connect. (It is recommended but not required that              [`--ssl-ca`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#option_general_ssl-ca) also be specified              so that the public certificate provided by the server can              be verified.)            

- ​              `CIPHER              '*cipher*'`            

  ​              Requires a specific cipher method for encrypting              connections. This option is needed to ensure that ciphers              and key lengths of sufficient strength are used. SSL              itself can be weak if old algorithms using short              encryption keys are used.            

  ```
  GRANT ALL PRIVILEGES ON test.* TO 'root'@'localhost'
    REQUIRE CIPHER 'EDH-RSA-DES-CBC3-SHA';

  ```

​          The `SUBJECT`, `ISSUER`, and          `CIPHER` options can be combined in the          `REQUIRE` clause like this:        

```
GRANT ALL PRIVILEGES ON test.* TO 'root'@'localhost'
  REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/
    O=MySQL demo client certificate/
    CN=client/emailAddress=client@example.com'
  AND ISSUER '/C=SE/ST=Stockholm/L=Stockholm/
    O=MySQL/CN=CA/emailAddress=ca@example.com'
  AND CIPHER 'EDH-RSA-DES-CBC3-SHA';

```

​          The optional `WITH` clause is used for these          purposes:

- ​              To enable a user to grant privileges to other users            
- ​              To specify resource limits for a user

​          The `WITH GRANT OPTION` clause gives the user          the ability to give to other users any privileges the user has          at the specified privilege level.        

​          To grant the [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option)          privilege to an account without otherwise changing its          privileges, do this:        

```
GRANT USAGE ON *.* TO 'someuser'@'somehost' WITH GRANT OPTION;

```

​          Be careful to whom you give the [`GRANT          OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option) privilege because two users with different          privileges may be able to combine privileges!        

​          You cannot grant another user a privilege which you yourself          do not have; the [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option)          privilege enables you to assign only those privileges which          you yourself possess.        

​          Be aware that when you grant a user the          [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option) privilege at a          particular privilege level, any privileges the user possesses          (or may be given in the future) at that level can also be          granted by that user to other users. Suppose that you grant a          user the [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privilege on a          database. If you then grant the          [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select) privilege on the          database and specify `WITH GRANT OPTION`,          that user can give to other users not only the          [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select) privilege, but also          [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert). If you then grant the          [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_update) privilege to the user on          the database, the user can grant          [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert),          [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select), and          [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_update).        

​          For a nonadministrative user, you should not grant the          [`ALTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_alter) privilege globally or for          the `mysql` database. If you do that, the          user can try to subvert the privilege system by renaming          tables!        

​          For additional information about security risks associated          with particular privileges, see          [Section 6.2.1, “Privileges Provided by MySQL”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#privileges-provided).        

​          It is possible to place limits on use of server resources by          an account, as discussed in [Section 6.3.4, “Setting Account Resource Limits”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#user-resources).          To do so, use a `WITH` clause that specifies          one or more *resource_option* values.          Limits not specified retain their current values.        

​          Order of `WITH` options does not matter,          except that if a given resource limit is specified multiple          times, the last instance takes precedence.        

​          [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) permits these          *resource_option* values:

- ​              `MAX_QUERIES_PER_HOUR              *count*`,              `MAX_UPDATES_PER_HOUR              *count*`,              `MAX_CONNECTIONS_PER_HOUR              *count*`            

  ​              These options restrict how many queries, updates, and              connections to the server are permitted to this account              during any given one-hour period. (Queries for which              results are served from the query cache do not count              against the `MAX_QUERIES_PER_HOUR`              limit.) If *count* is              `0` (the default), this means that there              is no limitation for the account.            

- ​              `MAX_USER_CONNECTIONS              *count*`            

  ​              Restricts the maximum number of simultaneous connections              to the server by the account. A nonzero              *count* specifies the limit for              the account explicitly. If              *count* is `0`              (the default), the server determines the number of              simultaneous connections for the account from the global              value of the              [`max_user_connections`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_user_connections)              system variable. If              [`max_user_connections`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_user_connections) is              also zero, there is no limit for the account.

​          To specify resource limits for an existing user without          affecting existing privileges, use          [`GRANT USAGE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant)          at the global level (`ON *.*`) and name the          limits to be changed. For example:        

```
GRANT USAGE ON *.* TO ...
  WITH MAX_QUERIES_PER_HOUR 500 MAX_UPDATES_PER_HOUR 100;

```

##### MySQL and Standard SQL Versions of GRANT

​          The biggest differences between the MySQL and standard SQL          versions of [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) are:

- ​              MySQL associates privileges with the combination of a host              name and user name and not with only a user name.            
- ​              Standard SQL does not have global or database-level              privileges, nor does it support all the privilege types              that MySQL supports.            
- ​              MySQL does not support the standard SQL              `UNDER` privilege.            
- ​              Standard SQL privileges are structured in a hierarchical              manner. If you remove a user, all privileges the user has              been granted are revoked. This is also true in MySQL if              you use [`DROP USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user). See              [Section 13.7.1.2, “DROP USER Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user).            
- ​              In standard SQL, when you drop a table, all privileges for              the table are revoked. In standard SQL, when you revoke a              privilege, all privileges that were granted based on that              privilege are also revoked. In MySQL, privileges can be              dropped only with explicit [`DROP              USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user) or [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke)              statements or by manipulating the MySQL grant tables              directly.            
- ​              In MySQL, it is possible to have the              [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privilege for only              some of the columns in a table. In this case, you can              still execute [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#insert)              statements on the table, provided that you insert values              only for those columns for which you have the              [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privilege. The              omitted columns are set to their implicit default values              if strict SQL mode is not enabled. In strict mode, the              statement is rejected if any of the omitted columns have              no default value. (Standard SQL requires you to have the              [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privilege on all              columns.) For information about strict SQL mode and              implicit default values, see [Section 5.1.8, “Server SQL Modes”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sql-mode),              and [Section 11.6, “Data Type Default Values”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#data-type-defaults).

#### 13.7.1.4 RENAME USER Syntax

```
RENAME USER old_user TO new_user
    [, old_user TO new_user] ...

```

​        The [`RENAME USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#rename-user) statement renames        existing MySQL accounts. An error occurs for old accounts that        do not exist or new accounts that already exist.      

​        To use [`RENAME USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#rename-user), you must have        the global [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-user) privilege,        or the [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_update) privilege for the        `mysql` database. When the        [`read_only`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_read_only) system variable is        enabled, [`RENAME USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#rename-user) additionally        requires the [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege.      

​        Each account name uses the format described in        [Section 6.2.3, “Specifying Account Names”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#account-names). For example:      

```
RENAME USER 'jeffrey'@'localhost' TO 'jeff'@'127.0.0.1';

```

​        The host name part of the account name, if omitted, defaults to        `'%'`.      

​        [`RENAME USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#rename-user) causes the privileges        held by the old user to be those held by the new user. However,        [`RENAME USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#rename-user) does not        automatically drop or invalidate databases or objects within        them that the old user created. This includes stored programs or        views for which the `DEFINER` attribute names        the old user. Attempts to access such objects may produce an        error if they execute in definer security context. (For        information about security context, see        [Section 20.6, “Access Control for Stored Programs and Views”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/stored-programs-views.html#stored-programs-security).)      

​        The privilege changes take effect as indicated in        [Section 6.2.6, “When Privilege Changes Take Effect”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#privilege-changes).

#### 13.7.1.5 REVOKE Syntax

```
REVOKE
    priv_type [(column_list)]
      [, priv_type [(column_list)]] ...
    ON [object_type] priv_level
    FROM user [, user] ...

REVOKE ALL [PRIVILEGES], GRANT OPTION
    FROM user [, user] ...

REVOKE PROXY ON user
    FROM user [, user] ...

```

​        The [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke) statement enables        system administrators to revoke privileges from MySQL accounts.      

​        When the [`read_only`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_read_only) system        variable is enabled, [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke)        requires the [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege in        addition to any other required privileges described in the        following discussion.      

​        Each account name uses the format described in        [Section 6.2.3, “Specifying Account Names”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#account-names). For example:      

```
REVOKE INSERT ON *.* FROM 'jeffrey'@'localhost';

```

​        The host name part of the account name, if omitted, defaults to        `'%'`.      

​        For details on the levels at which privileges exist, the        permissible *priv_type*,        *priv_level*, and        *object_type* values, and the syntax        for specifying users and passwords, see [Section 13.7.1.3, “GRANT Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant)      

​        To use the first [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke) syntax,        you must have the [`GRANT OPTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_grant-option)        privilege, and you must have the privileges that you are        revoking.      

​        To revoke all privileges, use the second syntax, which drops all        global, database, table, column, and routine privileges for the        named user or users:      

```
REVOKE ALL PRIVILEGES, GRANT OPTION FROM user [, user] ...

```

​        To use this [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke) syntax, you        must have the global [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_create-user)        privilege, or the [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_update)        privilege for the `mysql` database.      

​        User accounts from which privileges are to be revoked must        exist.      

​        [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke) removes privileges, but        does not drop `mysql.user` table entries. To        remove a user account entirely, use [`DROP        USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user). See [Section 13.7.1.2, “DROP USER Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user).      

​        If the grant tables hold privilege rows that contain mixed-case        database or table names and the        [`lower_case_table_names`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_lower_case_table_names) system        variable is set to a nonzero value,        [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke) cannot be used to revoke        these privileges. It will be necessary to manipulate the grant        tables directly. ([`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) will not        create such rows when        [`lower_case_table_names`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_lower_case_table_names) is set,        but such rows might have been created prior to setting the        variable.)      

​        When successfully executed from the [**mysql**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql)        program, [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke) responds with        `Query OK, 0 rows affected`. To determine what        privileges remain after the operation, use        [`SHOW GRANTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants). See        [Section 13.7.5.22, “SHOW GRANTS Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants).

#### 13.7.1.6 SET PASSWORD Syntax

```
SET PASSWORD [FOR user] = password_option

password_option: {
    PASSWORD('auth_string')
  | OLD_PASSWORD('auth_string')
  | 'hash_string'
}

```

​        The [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) statement        assigns a password to a MySQL user account, specified as either        a cleartext (unencrypted) or encrypted value:

- ​            `'*auth_string*'`            represents a cleartext password.          
- ​            `'*hash_string*'`            represents an encrypted password.

Important

​          [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) may be recorded in          server logs or on the client side in a history file such as          `~/.mysql_history`, which means that          cleartext passwords may be read by anyone having read access          to that information. For information about password logging in          the server logs, see [Section 6.1.2.3, “Passwords and Logging”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#password-logging). For          similar information about client-side logging, see          [Section 4.5.1.3, “mysql Logging”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-logging).

​        [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) can be used with or        without a `FOR` clause that explicitly names a        user account:

- ​            With a `FOR            *user*` clause, the            statement sets the password for the named account, which            must exist:          

  ```
  SET PASSWORD FOR 'jeffrey'@'localhost' = password_option;

  ```

- ​            With no `FOR            *user*` clause, the            statement sets the password for the current user:          

  ```
  SET PASSWORD = password_option;

  ```

  ​            Any client who connects to the server using a nonanonymous            account can change the password for that account. To see            which account the server authenticated you as, invoke the            [`CURRENT_USER()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_current-user) function:          

  ```
  SELECT CURRENT_USER();

  ```

​        Setting the password for a named account (with a        `FOR` clause) requires the        [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#update) privilege for the        `mysql` database. Setting the password for        yourself (for a nonanonymous account with no        `FOR` clause) requires no special privileges.        When the [`read_only`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_read_only) system        variable is enabled, [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password)        requires the [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege in        addition to any other required privileges.      

​        If a `FOR *user*`        clause is given, the account name uses the format described in        [Section 6.2.3, “Specifying Account Names”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#account-names). For example:      

```
SET PASSWORD FOR 'bob'@'%.example.org' = PASSWORD('auth_string');

```

​        The host name part of the account name, if omitted, defaults to        `'%'`.      

​        The password can be specified in these ways:

- ​            Use the [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password) function          

  ​            The [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password) argument is            the cleartext (unencrypted) password.            [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password) hashes the            password and returns the encrypted password string for            storage in the `mysql.user` account row.          

  ​            The [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password) function            hashes the password using the hashing method determined by            the value of the            [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords) system            variable value. It should be set to a value compatible with            the hash format required by the account authentication            plugin. For example, if the account uses the            `mysql_native_password` authentication            plugin, [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords)            should be 0 for [`PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_password) to            produce a hash value in the correct format. For            `mysql_old_password`,            [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords) should be 1.          

  ​            Permitted [`old_passwords`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_old_passwords)            values are described later in this section.          

- ​            Use the [`OLD_PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_old-password)            function:          

  ​            The            `'*auth_string*'`            function argument is the cleartext (unencrypted) password.            [`OLD_PASSWORD()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_old-password) hashes the            password using pre-4.1 hashing and returns the encrypted            password string for storage in the            `mysql.user` account row. This hashing            method is appropriate only for accounts that use the            `mysql_old_password` authentication plugin.          

- ​            Use an already encrypted password string          

  ​            The password is specified as a string literal. It must            represent the already encrypted password value, in the hash            format required by the authentication method used for the            account.

​        The following table shows, for each password hashing method, the        permitted value of `old_passwords` and which        authentication plugins use the hashing method.

| Password Hashing Method  | old_passwords Value | Associated Authentication Plugin |
| ------------------------ | ------------------- | -------------------------------- |
| MySQL 4.1 native hashing | `0` or `OFF`        | `mysql_native_password`          |
| Pre-4.1 (“old”) hashing  | `1` or `ON`         | `mysql_old_password`             |

Caution

​          If you are connecting to a MySQL 4.1 or later server using a          pre-4.1 client program, do not change your password without          first reading [Section 6.1.2.4, “Password Hashing in MySQL”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#password-hashing). The default          password hashing format changed in MySQL 4.1, and if you          change your password, it might be stored using a hashing          format that pre-4.1 clients cannot generate, thus preventing          you from connecting to the server afterward.

​        For additional information about setting passwords and        authentication plugins, see        [Section 6.3.5, “Assigning Account Passwords”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#assigning-passwords), and        [Section 6.3.6, “Pluggable Authentication”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#pluggable-authentication).

### 13.7.2 Table Maintenance Statements

- [13.7.2.1 ANALYZE TABLE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#analyze-table)
- [13.7.2.2 CHECK TABLE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table)
- [13.7.2.3 CHECKSUM TABLE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#checksum-table)
- [13.7.2.4 OPTIMIZE TABLE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table)
- [13.7.2.5 REPAIR TABLE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table)

#### 13.7.2.1 ANALYZE TABLE Syntax

```
ANALYZE [NO_WRITE_TO_BINLOG | LOCAL]
    TABLE tbl_name [, tbl_name] ...

```

​        [`ANALYZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#analyze-table) performs a key        distribution analysis and stores the distribution for the named        table or tables. For `MyISAM` tables, this        statement is equivalent to using [**myisamchk        --analyze**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk).      

​        This statement requires [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select)        and [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privileges for the        table.      

​        [`ANALYZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#analyze-table) works with        `InnoDB`, `NDB`, and        `MyISAM` tables. It does not work with views.      

​        [`ANALYZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#analyze-table) is supported for        partitioned tables, and you can use `ALTER TABLE ...        ANALYZE PARTITION` to analyze one or more partitions;        for more information, see [Section 13.1.7, “ALTER TABLE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table), and        [Section 19.3.3, “Maintenance of Partitions”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/partitioning.html#partitioning-maintenance).      

​        During the analysis, the table is locked with a read lock for        `InnoDB` and `MyISAM`.      

​        By default, the server writes [`ANALYZE        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#analyze-table) statements to the binary log so that they        replicate to replication slaves. To suppress logging, specify        the optional `NO_WRITE_TO_BINLOG` keyword or        its alias `LOCAL`.

- [ANALYZE TABLE Output](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#analyze-table-output)
- [Key Distribution Analysis](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#analyze-table-key-distribution-analysis)

##### ANALYZE TABLE Output

​          [`ANALYZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#analyze-table) returns a result          set with the columns shown in the following table.

| Column     | Value                                    |
| ---------- | ---------------------------------------- |
| `Table`    | The table name                           |
| `Op`       | Always `analyze`                         |
| `Msg_type` | `status`, `error`,                  `info`, `note`, or`warning` |
| `Msg_text` | An informational message                 |

##### Key Distribution Analysis

​          If the table has not changed since the last key distribution          analysis, the table is not analyzed again.        

​          MySQL uses the stored key distribution to decide the table          join order for joins on something other than a constant. In          addition, key distributions can be used when deciding which          indexes to use for a specific table within a query.        

​          For more information on how key distribution analysis works          within `InnoDB`, see          [Section 14.9.11, “Configuring Optimizer Statistics for InnoDB”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html#innodb-statistics-estimation). Also see          [Section 14.9.11.1, “Estimating ANALYZE TABLE Complexity for InnoDB Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html#innodb-analyze-table-complexity) and          [Section 14.11.1.7, “Limits on InnoDB Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html#innodb-restrictions).        

​          To check the stored key distribution cardinality, use the          [`SHOW INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-index) statement or the          [`INFORMATION_SCHEMA.STATISTICS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#statistics-table)          table. See [Section 13.7.5.23, “SHOW INDEX Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-index), and          [Section 21.20, “The INFORMATION_SCHEMA STATISTICS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#statistics-table).

#### 13.7.2.2 CHECK TABLE Syntax

```
CHECK TABLE tbl_name [, tbl_name] ... [option] ...

option = {
    FOR UPGRADE
  | QUICK
  | FAST
  | MEDIUM
  | EXTENDED
  | CHANGED
}

```

​        [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) checks a table or        tables for errors. For `MyISAM` tables, the key        statistics are updated as well. [`CHECK        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) can also check views for problems, such as        tables that are referenced in the view definition that no longer        exist.      

​        To check a table, you must have some privilege for it.      

​        [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) works for        [`InnoDB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html),        [`MyISAM`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#myisam-storage-engine),        [`ARCHIVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#archive-storage-engine), and        [`CSV`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#csv-storage-engine) tables.      

​        Before running [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) on        `InnoDB` tables, see        [CHECK TABLE Usage Notes for InnoDB Tables](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table-innodb).      

​        [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) is supported for        partitioned tables, and you can use `ALTER TABLE ...        CHECK PARTITION` to check one or more partitions; for        more information, see [Section 13.1.7, “ALTER TABLE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table), and        [Section 19.3.3, “Maintenance of Partitions”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/partitioning.html#partitioning-maintenance).

- [CHECK TABLE Output](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table-output)
- [Checking Version Compatibility](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table-version-compatibility)
- [Checking Data Consistency](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table-data-consistency)
- [CHECK TABLE Usage Notes for InnoDB Tables](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table-innodb)

##### CHECK TABLE Output

​          [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) returns a result          set with the columns shown in the following table.

| Column     | Value                                    |
| ---------- | ---------------------------------------- |
| `Table`    | The table name                           |
| `Op`       | Always `check`                           |
| `Msg_type` | `status`, `error`,                  `info`, `note`, or`warning` |
| `Msg_text` | An informational message                 |

​          The statement might produce many rows of information for each          checked table. The last row has a `Msg_type`          value of `status` and the          `Msg_text` normally should be          `OK`. For a `MyISAM` table,          if you don't get `OK` or `Table is          already up to date`, you should normally run a repair          of the table. See [Section 7.6, “MyISAM Table Maintenance and Crash Recovery”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/backup-and-recovery.html#myisam-table-maintenance).          `Table is already up to date` means that the          storage engine for the table indicated that there was no need          to check the table.

##### Checking Version Compatibility

​          The `FOR UPGRADE` option checks whether the          named tables are compatible with the current version of MySQL.          With `FOR UPGRADE`, the server checks each          table to determine whether there have been any incompatible          changes in any of the table's data types or indexes since the          table was created. If not, the check succeeds. Otherwise, if          there is a possible incompatibility, the server runs a full          check on the table (which might take some time). If the full          check succeeds, the server marks the table's          `.frm` file with the current MySQL version          number. Marking the `.frm` file ensures          that further checks for the table with the same version of the          server will be fast.        

​          Incompatibilities might occur because the storage format for a          data type has changed or because its sort order has changed.          Our aim is to avoid these changes, but occasionally they are          necessary to correct problems that would be worse than an          incompatibility between releases.        

​          `FOR UPGRADE` discovers these          incompatibilities:

- ​              The indexing order for end-space in              [`TEXT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#blob) columns for              `InnoDB` and `MyISAM`              tables changed between MySQL 4.1 and 5.0.            
- ​              The storage method of the new              [`DECIMAL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#fixed-point-types) data type changed              between MySQL 5.0.3 and 5.0.5.            
- ​              If your table was created by a different version of the              MySQL server than the one you are currently running,              `FOR UPGRADE` indicates that the table              has an `.frm` file with an incompatible              version. In this case, the result set returned by              [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) contains a line              with a `Msg_type` value of              `error` and a `Msg_text`              value of `Table upgrade required. Please do              "REPAIR TABLE `*tbl_name*`" to              fix it!`            
- ​              Changes are sometimes made to character sets or collations              that require table indexes to be rebuilt. For details              about such changes, see              [Section 2.11.1.1, “Changes Affecting Upgrades to MySQL 5.5”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/installing.html#upgrading-from-previous-series). For              information about rebuilding tables, see              [Section 2.11.3, “Rebuilding or Repairing Tables or Indexes”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/installing.html#rebuilding-tables).

##### Checking Data Consistency

​          The following table shows the other check options that can be          given. These options are passed to the storage engine, which          may use or ignore them.

| Type       | Meaning                                  |
| ---------- | ---------------------------------------- |
| `QUICK`    | Do not scan the rows to check for incorrect links. Applies to                  `InnoDB` and                  `MyISAM` tables and views. |
| `FAST`     | Check only tables that have not been closed properly. Applies only to                  `MyISAM` tables and views; ignored                  for `InnoDB`. |
| `CHANGED`  | Check only tables that have been changed since the last check or that                  have not been closed properly. Applies only to                  `MyISAM` tables and views; ignored                  for `InnoDB`. |
| `MEDIUM`   | Scan rows to verify that deleted links are valid. This also calculates a                  key checksum for the rows and verifies this with a                  calculated checksum for the keys. Applies only to                  `MyISAM` tables and views; ignored                  for `InnoDB`. |
| `EXTENDED` | Do a full key lookup for all keys for each row. This ensures that the                  table is 100% consistent, but takes a long time.                  Applies only to `MyISAM` tables andviews; ignored for `InnoDB`. |

​          If none of the options `QUICK`,          `MEDIUM`, or `EXTENDED` are          specified, the default check type for dynamic-format          `MyISAM` tables is `MEDIUM`.          This has the same result as running [**myisamchk          --medium-check tbl_name**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk)          on the table. The default check type also is          `MEDIUM` for static-format          `MyISAM` tables, unless          `CHANGED` or `FAST` is          specified. In that case, the default is          `QUICK`. The row scan is skipped for          `CHANGED` and `FAST` because          the rows are very seldom corrupted.        

​          You can combine check options, as in the following example          that does a quick check on the table to determine whether it          was closed properly:        

```
CHECK TABLE test_table FAST QUICK;

```

Note

​            If [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) finds no            problems with a table that is marked as            “corrupted” or “not closed            properly”, [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table)            may remove the mark.

​          If a table is corrupted, the problem is most likely in the          indexes and not in the data part. All of the preceding check          types check the indexes thoroughly and should thus find most          errors.        

​          To check a table that you assume is okay, use no check options          or the `QUICK` option. The latter should be          used when you are in a hurry and can take the very small risk          that `QUICK` does not find an error in the          data file. (In most cases, under normal usage, MySQL should          find any error in the data file. If this happens, the table is          marked as “corrupted” and cannot be used until it          is repaired.)        

​          `FAST` and `CHANGED` are          mostly intended to be used from a script (for example, to be          executed from **cron**) to check tables          periodically. In most cases, `FAST` is to be          preferred over `CHANGED`. (The only case when          it is not preferred is when you suspect that you have found a          bug in the `MyISAM` code.)        

​          `EXTENDED` is to be used only after you have          run a normal check but still get errors from a table when          MySQL tries to update a row or find a row by key. This is very          unlikely if a normal check has succeeded.        

​          Use of [`CHECK          TABLE ... EXTENDED`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) might influence execution plans          generated by the query optimizer.        

​          Some problems reported by [`CHECK          TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) cannot be corrected automatically:

- ​              `Found row where the auto_increment column has the              value 0`.            

  ​              This means that you have a row in the table where the              `AUTO_INCREMENT` index column contains              the value 0. (It is possible to create a row where the              `AUTO_INCREMENT` column is 0 by              explicitly setting the column to 0 with an              [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#update) statement.)            

  ​              This is not an error in itself, but could cause trouble if              you decide to dump the table and restore it or do an              [`ALTER TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table) on the table.              In this case, the `AUTO_INCREMENT` column              changes value according to the rules of              `AUTO_INCREMENT` columns, which could              cause problems such as a duplicate-key error.            

  ​              To get rid of the warning, execute an              [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#update) statement to set the              column to some value other than 0.

##### CHECK TABLE Usage Notes for InnoDB Tables

​          The following notes apply to          [`InnoDB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html) tables:

- ​              If [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) encounters a              corrupt page, the server exits to prevent error              propagation (Bug #10132). If the corruption occurs in a              secondary index but table data is readable, running              [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) can still cause              a server exit.            
- ​              If [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) encounters a              corrupted `DB_TRX_ID` or              `DB_ROLL_PTR` field in a clustered index,              [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) can cause              `InnoDB` to access an invalid undo log              record, resulting in an              [MVCC](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_mvcc)-related server exit.            
- ​              If [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) encounters              errors in `InnoDB` tables or indexes, it              reports an error, and usually marks the index and              sometimes marks the table as corrupted, preventing further              use of the index or table. Such errors include an              incorrect number of entries in a secondary index or              incorrect links.            
- ​              If [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) finds an              incorrect number of entries in a secondary index, it              reports an error but does not cause a server exit or              prevent access to the file.            
- ​              [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) surveys the              index page structure, then surveys each key entry. It does              not validate the key pointer to a clustered record or              follow the path for [`BLOB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#blob)              pointers.            
- ​              When an `InnoDB` table is stored in its              own              [`.ibd`              file](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_ibd_file), the first 3              [pages](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_page) of the              `.ibd` file contain header information              rather than table or index data. The              [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) statement does              not detect inconsistencies that affect only the header              data. To verify the entire contents of an              `InnoDB` `.ibd` file,              use the [**innochecksum**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#innochecksum) command.            
- ​              When running [`CHECK TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) on              large `InnoDB` tables, other threads may              be blocked during [`CHECK              TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) execution. To avoid timeouts, the              semaphore wait threshold (600 seconds) is extended by 2              hours (7200 seconds) for [`CHECK              TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) operations. If `InnoDB`              detects semaphore waits of 240 seconds or more, it starts              printing `InnoDB` monitor output to the              error log. If a lock request extends beyond the semaphore              wait threshold, `InnoDB` aborts the              process. To avoid the possibility of a semaphore wait              timeout entirely, run              [`CHECK TABLE              QUICK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table) instead of [`CHECK              TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table).

#### 13.7.2.3 CHECKSUM TABLE Syntax

```
CHECKSUM TABLE tbl_name [, tbl_name] ... [QUICK | EXTENDED]

```

​        [`CHECKSUM TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#checksum-table) reports a table        checksum.      

​        This statement requires the        [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select) privilege for the table.      

​        This statement is not supported for views. If you run        [`CHECKSUM TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#checksum-table) against a view,        the `Checksum` value is always        `NULL`, and a warning is returned.      

​        For a nonexistent table, [`CHECKSUM        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#checksum-table) returns `NULL` and generates a        warning.      

​        During the checksum operation, the table is locked with a read        lock for `InnoDB` and        `MyISAM`.      

​        With `QUICK`, the live table checksum is        reported if it is available, or `NULL`        otherwise. This is very fast. A live checksum is enabled by        specifying the `CHECKSUM=1` table option when        you create the table; currently, this is supported only for        `MyISAM` tables. The `QUICK`        method is not supported with `InnoDB` tables.        See [Section 13.1.17, “CREATE TABLE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table).      

​        With `EXTENDED`, the entire table is read row        by row and the checksum is calculated. This can be very slow for        large tables.      

​        If neither `QUICK` nor        `EXTENDED` is specified, MySQL returns a live        checksum if the table storage engine supports it and scans the        table otherwise.      

​        In MySQL 5.5, [`CHECKSUM        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#checksum-table) returns 0 for partitioned tables unless you        include the `EXTENDED` option. This issue is        resolved in MySQL 5.6. (Bug #11933226, Bug #60681)      

​        The checksum value depends on the table row format. If the row        format changes, the checksum also changes. For example, the        storage format for temporal types such as        [`TIME`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#time),        [`DATETIME`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#datetime), and        [`TIMESTAMP`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#datetime) changes in MySQL 5.6        prior to MySQL 5.6.5, so if a 5.5 table is upgraded to MySQL        5.6, the checksum value may change.

Important

​          If the checksums for two tables are different, then it is          almost certain that the tables are different in some way.          However, because the hashing function used by          [`CHECKSUM TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#checksum-table) is not          guaranteed to be collision-free, there is a slight chance that          two tables which are not identical can produce the same          checksum.

#### 13.7.2.4 OPTIMIZE TABLE Syntax

```
OPTIMIZE [NO_WRITE_TO_BINLOG | LOCAL]
    TABLE tbl_name [, tbl_name] ...

```

​        [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) reorganizes the        physical storage of table data and associated index data, to        reduce storage space and improve I/O efficiency when accessing        the table. The exact changes made to each table depend on the        [storage engine](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_storage_engine) used        by that table.      

​        Use [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) in these        cases, depending on the type of table:

- ​            After doing substantial insert, update, or delete operations            on an `InnoDB` table that has its own            [.ibd file](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_ibd_file) because it            was created with the            [`innodb_file_per_table`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html#sysvar_innodb_file_per_table)            option enabled. The table and indexes are reorganized, and            disk space can be reclaimed for use by the operating system.          
- ​            After deleting a large part of a `MyISAM`            or `ARCHIVE` table, or making many changes            to a `MyISAM` or `ARCHIVE            `table with variable-length rows (tables that have            [`VARCHAR`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#char),            [`VARBINARY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#binary-varbinary),            [`BLOB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#blob), or            [`TEXT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#blob) columns). Deleted rows            are maintained in a linked list and subsequent            [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#insert) operations reuse old            row positions. You can use [`OPTIMIZE            TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) to reclaim the unused space and to            defragment the data file. After extensive changes to a            table, this statement may also improve performance of            statements that use the table, sometimes significantly.

​        This statement requires [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select)        and [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privileges for the        table.      

​        [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) works for        [`InnoDB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html),        [`MyISAM`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#myisam-storage-engine), and        [`ARCHIVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#archive-storage-engine) tables.        [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) is also supported        for dynamic columns of in-memory        [`NDB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html) tables. It does not work for        fixed-width columns of in-memory tables, nor does it work for        Disk Data tables. The performance of `OPTIMIZE`        on NDB Cluster tables can be tuned using        [`--ndb_optimization_delay`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html#option_mysqld_ndb_optimization_delay), which        controls the length of time to wait between processing batches        of rows by [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table). For        more information, see        [Section 18.1.6.11, “Previous NDB Cluster Issues Resolved in MySQL 5.1, NDB Cluster 6.x, and        NDB Cluster 7.x”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html#mysql-cluster-limitations-resolved).      

​        For NDB Cluster tables, [`OPTIMIZE        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) can be interrupted by (for example) killing the        SQL thread performing the `OPTIMIZE` operation.      

​        By default, [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) does        *not* work for tables created using any other        storage engine and returns a result indicating this lack of        support. You can make [`OPTIMIZE        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) work for other storage engines by starting        [**mysqld**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqld) with the `--skip-new`        option. In this case, [`OPTIMIZE        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) is just mapped to [`ALTER        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table).      

​        This statement does not work with views.      

​        [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) is supported for        partitioned tables. For information about using this statement        with partitioned tables and table partitions, see        [Section 19.3.3, “Maintenance of Partitions”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/partitioning.html#partitioning-maintenance).      

​        By default, the server writes [`OPTIMIZE        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) statements to the binary log so that they        replicate to replication slaves. To suppress logging, specify        the optional `NO_WRITE_TO_BINLOG` keyword or        its alias `LOCAL`.

- [OPTIMIZE TABLE Output](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table-output)
- [InnoDB Details](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table-innodb-details)
- [MyISAM Details](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table-myisam-details)
- [Other Considerations](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table-other-considerations)

##### OPTIMIZE TABLE Output

​          [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) returns a result          set with the columns shown in the following table.

| Column     | Value                                    |
| ---------- | ---------------------------------------- |
| `Table`    | The table name                           |
| `Op`       | Always `optimize`                        |
| `Msg_type` | `status`, `error`,                  `info`, `note`, or`warning` |
| `Msg_text` | An informational message                 |

​          [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) table catches          and throws any errors that occur while copying table          statistics from the old file to the newly created file. For          example. if the user ID of the owner of the          `.frm`, `.MYD`, or          `.MYI` file is different from the user ID          of the [**mysqld**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqld) process,          [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) generates a          "cannot change ownership of the file" error unless          [**mysqld**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqld) is started by the          `root` user.

##### InnoDB Details

​          For `InnoDB` tables,          [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) is mapped to          [`ALTER TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table), which rebuilds the          table to update index statistics and free unused space in the          clustered index. This is displayed in the output of          [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) when you run it          on an `InnoDB` table, as shown here:        

```
mysql> OPTIMIZE TABLE foo;
+----------+----------+----------+-------------------------------------------------------------------+
| Table    | Op       | Msg_type | Msg_text                                                          |
+----------+----------+----------+-------------------------------------------------------------------+
| test.foo | optimize | note     | Table does not support optimize, doing recreate + analyze instead |
| test.foo | optimize | status   | OK                                                                |
+----------+----------+----------+-------------------------------------------------------------------+

```

​          This operation does not use fast index creation. Secondary          indexes are not created as efficiently because keys are          inserted in the order they appeared in the primary key. See          [Section 14.16.6, “Limitations of Fast Index Creation”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html#innodb-create-index-limitations).        

​          `InnoDB` stores data using a page-allocation          method and does not suffer from fragmentation in the same way          that legacy storage engines (such as          `MyISAM`) will. When considering whether or          not to run optimize, consider the workload of transactions          that your server will process:

- ​                Some level of fragmentation is expected.                `InnoDB` only fills                [pages](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_page) 93% full, to                leave room for updates without having to split pages.              
- ​                Delete operations might leave gaps that leave pages less                filled than desired, which could make it worthwhile to                optimize the table.              
- ​                Updates to rows usually rewrite the data within the same                page, depending on the data type and row format, when                sufficient space is available. See                [Section 14.12.5, “How Compression Works for InnoDB Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html#innodb-compression-internals) and                [Section 14.14.1, “Overview of InnoDB Row Storage”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html#innodb-row-format-overview).              
- ​                High-concurrency workloads might leave gaps in indexes                over time, as `InnoDB` retains multiple                versions of the same data due through its                [MVCC](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_mvcc) mechanism. See                [Section 14.6, “InnoDB Multi-Versioning”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html#innodb-multi-versioning).

##### MyISAM Details

​          For `MyISAM` tables,          [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) works as          follows:

1. ​              If the table has deleted or split rows, repair the table.            
2. ​              If the index pages are not sorted, sort them.            
3. ​              If the table's statistics are not up to date (and the              repair could not be accomplished by sorting the index),              update them.

##### Other Considerations

​          Note that MySQL [locks the          table](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_table_lock) during the time [`OPTIMIZE          TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) is running.        

​          [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) does not sort          R-tree indexes, such as spatial indexes on          `POINT` columns. (Bug #23578)

#### 13.7.2.5 REPAIR TABLE Syntax

```
REPAIR [NO_WRITE_TO_BINLOG | LOCAL]
    TABLE tbl_name [, tbl_name] ...
    [QUICK] [EXTENDED] [USE_FRM]

```

​        [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) repairs a possibly        corrupted table, for certain storage engines only.      

​        This statement requires [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select)        and [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privileges for the        table.      

​        Although normally you should never have to run        [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table), if disaster        strikes, this statement is very likely to get back all your data        from a `MyISAM` table. If your tables become        corrupted often, try to find the reason for it, to eliminate the        need to use [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table). See        [Section B.5.3.3, “What to Do If MySQL Keeps Crashing”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/error-handling.html#crashing), and        [Section 15.3.4, “MyISAM Table Problems”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#myisam-table-problems).      

​        [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) checks the table to        see whether an upgrade is required. If so, it performs the        upgrade, following the same rules as        [`CHECK TABLE ... FOR        UPGRADE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table). See [Section 13.7.2.2, “CHECK TABLE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#check-table), for more        information.

Important

- ​              Make a backup of a table before performing a table repair              operation; under some circumstances the operation might              cause data loss. Possible causes include but are not              limited to file system errors. See              [Chapter 7, *Backup and Recovery*](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/backup-and-recovery.html).            
- ​              If the server crashes during a [`REPAIR              TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) operation, it is essential after              restarting it that you immediately execute another              [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) statement for              the table before performing any other operations on it. In              the worst case, you might have a new clean index file              without information about the data file, and then the next              operation you perform could overwrite the data file. This              is an unlikely but possible scenario that underscores the              value of making a backup first.            
- ​              In the event that a table on the master becomes corrupted              and you run [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) on              it, any resulting changes to the original table are              *not* propagated to slaves.


- [REPAIR TABLE Storage Engine and Partitioning Support](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table-support)
- [REPAIR TABLE Options](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table-options)
- [REPAIR TABLE Output](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table-output)
- [Table Repair Considerations](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table-table-repair-considerations)

##### REPAIR TABLE Storage Engine and Partitioning Support

​          [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) works for          [`MyISAM`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#myisam-storage-engine),          [`ARCHIVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#archive-storage-engine), and          [`CSV`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#csv-storage-engine) tables. For          [`MyISAM`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html#myisam-storage-engine) tables, it has the same          effect as [**myisamchk --recover          tbl_name**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk) by default. This          statement does not work with views.        

​          [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) is supported for          partitioned tables. However, the `USE_FRM`          option cannot be used with this statement on a partitioned          table.        

​          You can use `ALTER TABLE ... REPAIR          PARTITION` to repair one or more partitions; for more          information, see [Section 13.1.7, “ALTER TABLE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table), and          [Section 19.3.3, “Maintenance of Partitions”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/partitioning.html#partitioning-maintenance).

##### REPAIR TABLE Options

- ​              `NO_WRITE_TO_BINLOG` or              `LOCAL`            

  ​              By default, the server writes [`REPAIR              TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) statements to the binary log so that they              replicate to replication slaves. To suppress logging,              specify the optional `NO_WRITE_TO_BINLOG`              keyword or its alias `LOCAL`.            

- ​              `QUICK`            

  ​              If you use the `QUICK` option,              [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) tries to              repair only the index file, and not the data file. This              type of repair is like that done by [**myisamchk              --recover --quick**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk).            

- ​              `EXTENDED`            

  ​              If you use the `EXTENDED` option, MySQL              creates the index row by row instead of creating one index              at a time with sorting. This type of repair is like that              done by [**myisamchk --safe-recover**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk).            

- ​              `USE_FRM`            

  ​              The `USE_FRM` option is available for use              if the `.MYI` index file is missing or              if its header is corrupted. This option tells MySQL not to              trust the information in the `.MYI`              file header and to re-create it using information from the              `.frm` file. This kind of repair cannot              be done with [**myisamchk**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk).

  Caution

  ​                Use the `USE_FRM` option                *only* if you cannot use regular                `REPAIR` modes. Telling the server to                ignore the `.MYI` file makes                important table metadata stored in the                `.MYI` unavailable to the repair                process, which can have deleterious consequences:

  - ​                    The current `AUTO_INCREMENT` value                    is lost.                  
  - ​                    The link to deleted records in the table is lost,                    which means that free space for deleted records will                    remain unoccupied thereafter.                  
  - ​                    The `.MYI` header indicates                    whether the table is compressed. If the server                    ignores this information, it cannot tell that a                    table is compressed and repair can cause change or                    loss of table contents. This means that                    `USE_FRM` should not be used with                    compressed tables. That should not be necessary,                    anyway: Compressed tables are read only, so they                    should not become corrupt.

  ​                If you use `USE_FRM` for a table that                was created by a different version of the MySQL server                than the one you are currently running,                [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) does not                attempt to repair the table. In this case, the result                set returned by [`REPAIR                TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) contains a line with a                `Msg_type` value of                `error` and a                `Msg_text` value of `Failed                repairing incompatible .FRM file`.              

  ​                If `USE_FRM` is used,                [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) does not                check the table to see whether an upgrade is required.

##### REPAIR TABLE Output

​          [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) returns a result          set with the columns shown in the following table.

| Column     | Value                                    |
| ---------- | ---------------------------------------- |
| `Table`    | The table name                           |
| `Op`       | Always `repair`                          |
| `Msg_type` | `status`, `error`,                  `info`, `note`, or`warning` |
| `Msg_text` | An informational message                 |

​          The [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) statement          might produce many rows of information for each repaired          table. The last row has a `Msg_type` value of          `status` and `Msg_test`          normally should be `OK`. For a          `MyISAM` table, if you do not get          `OK`, you should try repairing it with          [**myisamchk --safe-recover**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk).          ([`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) does not          implement all the options of [**myisamchk**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk).          With [**myisamchk --safe-recover**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk), you can also          use options that [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table)          does not support, such as          [`--max-record-length`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#option_myisamchk_max-record-length).)        

​          [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) table catches and          throws any errors that occur while copying table statistics          from the old corrupted file to the newly created file. For          example. if the user ID of the owner of the          `.frm`, `.MYD`, or          `.MYI` file is different from the user ID          of the [**mysqld**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqld) process,          [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) generates a          "cannot change ownership of the file" error unless          [**mysqld**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqld) is started by the          `root` user.

##### Table Repair Considerations

​          You may be able to increase [`REPAIR          TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) performance by setting certain system          variables. See [Section 8.6.3, “Optimizing REPAIR TABLE Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#repair-table-optimization).

### 13.7.3 Plugin and User-Defined Function Statements

- [13.7.3.1 CREATE FUNCTION Syntax for User-Defined Functions](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-function-udf)
- [13.7.3.2 DROP FUNCTION Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-function-udf)
- [13.7.3.3 INSTALL PLUGIN Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin)
- [13.7.3.4 UNINSTALL PLUGIN Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin)

#### 13.7.3.1 CREATE FUNCTION Syntax for User-Defined Functions

```
CREATE [AGGREGATE] FUNCTION function_name
    RETURNS {STRING|INTEGER|REAL|DECIMAL}
    SONAME shared_library_name

```

​        A user-defined function (UDF) is a way to extend MySQL with a        new function that works like a native (built-in) MySQL function        such as [`ABS()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_abs) or        [`CONCAT()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_concat).      

​        *function_name* is the name that should        be used in SQL statements to invoke the function. The        `RETURNS` clause indicates the type of the        function's return value. [`DECIMAL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#fixed-point-types)        is a legal value after `RETURNS`, but currently        [`DECIMAL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#fixed-point-types) functions return string        values and should be written like `STRING`        functions.      

​        *shared_library_name* is the base name        of the shared library file that contains the code that        implements the function. The file must be located in the plugin        directory. This directory is given by the value of the        [`plugin_dir`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_plugin_dir) system variable. For        more information, see [Section 24.4.2.5, “UDF Compiling and Installing”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/extending-mysql.html#udf-compiling).      

​        To create a function, you must have the        [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privilege for the        `mysql` database. This is necessary because        [`CREATE FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-function) adds a row to the        `mysql.func` system table that records the        function's name, type, and shared library name. If you do not        have this table, you should run the        [**mysql_upgrade**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-upgrade) command to create it. See        [Section 4.4.7, “**mysql_upgrade** — Check and Upgrade MySQL Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-upgrade).      

​        An active function is one that has been loaded with        [`CREATE FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-function) and not removed        with [`DROP FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-function). All active        functions are reloaded each time the server starts, unless you        start [**mysqld**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqld) with the        [`--skip-grant-tables`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#option_mysqld_skip-grant-tables) option. In        this case, UDF initialization is skipped and UDFs are        unavailable.      

​        For instructions on writing user-defined functions, see        [Section 24.4.2, “Adding a New User-Defined Function”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/extending-mysql.html#adding-udf). For the UDF mechanism to work,        functions must be written in C or C++ (or another language that        can use C calling conventions), your operating system must        support dynamic loading and you must have compiled        [**mysqld**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqld) dynamically (not statically).      

​        An `AGGREGATE` function works exactly like a        native MySQL aggregate (summary) function such as        `SUM` or        [`COUNT()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_count). For        `AGGREGATE` to work, your        `mysql.func` table must contain a        `type` column. If your        `mysql.func` table does not have this column,        you should run the [**mysql_upgrade**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-upgrade) program to        create it (see [Section 4.4.7, “**mysql_upgrade** — Check and Upgrade MySQL Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-upgrade)).

Note

​          To upgrade the shared library associated with a UDF, issue a          [`DROP FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-function) statement,          upgrade the shared library, and then issue a          [`CREATE FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-function) statement. If          you upgrade the shared library first and then use          [`DROP FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-function), the server may          crash.

#### 13.7.3.2 DROP FUNCTION Syntax

```
DROP FUNCTION function_name

```

​        This statement drops the user-defined function (UDF) named        *function_name*.      

​        To drop a function, you must have the        [`DELETE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_delete) privilege for the        `mysql` database. This is because        [`DROP FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-function) removes a row from        the `mysql.func` system table that records the        function's name, type, and shared library name.

Note

​          To upgrade the shared library associated with a UDF, issue a          [`DROP FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-function) statement,          upgrade the shared library, and then issue a          [`CREATE FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-function) statement. If          you upgrade the shared library first and then use          [`DROP FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-function), the server may          crash.

​        [`DROP FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-function) is also used to        drop stored functions (see [Section 13.1.26, “DROP PROCEDURE and DROP FUNCTION Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-procedure)).

#### 13.7.3.3 INSTALL PLUGIN Syntax

```
INSTALL PLUGIN plugin_name SONAME 'shared_library_name'

```

​        This statement installs a server plugin. It requires the        [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_insert) privilege for the        `mysql.plugin` system table.      

​        *plugin_name* is the name of the plugin        as defined in the plugin descriptor structure contained in the        library file (see [Section 24.2.4.2, “Plugin Data Structures”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/extending-mysql.html#plugin-data-structures)).        Plugin names are not case sensitive. For maximal compatibility,        plugin names should be limited to ASCII letters, digits, and        underscore because they are used in C source files, shell        command lines, M4 and Bourne shell scripts, and SQL        environments.      

​        *shared_library_name* is the name of        the shared library that contains the plugin code. The name        includes the file name extension (for example,        `libmyplugin.so`,        `libmyplugin.dll`, or        `libmyplugin.dylib`).      

​        The shared library must be located in the plugin directory (the        directory named by the        [`plugin_dir`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_plugin_dir) system variable).        The library must be in the plugin directory itself, not in a        subdirectory. By default,        [`plugin_dir`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_plugin_dir) is the        `plugin` directory under the directory named        by the `pkglibdir` configuration variable, but        it can be changed by setting the value of        [`plugin_dir`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_plugin_dir) at server startup.        For example, set its value in a `my.cnf`        file:      

```
[mysqld]
plugin_dir=/path/to/plugin/directory

```

​        If the value of [`plugin_dir`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_plugin_dir) is a        relative path name, it is taken to be relative to the MySQL base        directory (the value of the        [`basedir`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_basedir) system variable).      

​        [`INSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) loads and        initializes the plugin code to make the plugin available for        use. A plugin is initialized by executing its initialization        function, which handles any setup that the plugin must perform        before it can be used. When the server shuts down, it executes        the deinitialization function for each plugin that is loaded so        that the plugin has a chance to perform any final cleanup.      

​        [`INSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) also registers the        plugin by adding a line that indicates the plugin name and        library file name to the `mysql.plugin` table.        At server startup, the server loads and initializes any plugin        that is listed in the `mysql.plugin` table.        This means that a plugin is installed with        [`INSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) only once, not        every time the server starts. Plugin loading at startup does not        occur if the server is started with the        [`--skip-grant-tables`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#option_mysqld_skip-grant-tables) option.      

​        A plugin library can contain multiple plugins. For each of them        to be installed, use a separate [`INSTALL        PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) statement. Each statement names a different        plugin, but all of them specify the same library name.      

​        [`INSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) causes the server        to read option (`my.cnf`) files just as        during server startup. This enables the plugin to pick up any        relevant options from those files. It is possible to add plugin        options to an option file even before loading a plugin (if the        `loose` prefix is used). It is also possible to        uninstall a plugin, edit `my.cnf`, and        install the plugin again. Restarting the plugin this way enables        it to the new option values without a server restart.      

​        For options that control individual plugin loading at server        startup, see [Section 5.5.1, “Installing and Uninstalling Plugins”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-plugin-loading). If you        need to load plugins for a single server startup when the        [`--skip-grant-tables`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#option_mysqld_skip-grant-tables) option is        given (which tells the server not to read system tables), use        the [`--plugin-load`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#option_mysqld_plugin-load) option. See        [Section 5.1.4, “Server Command Options”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-options).      

​        To remove a plugin, use the [`UNINSTALL        PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin) statement.      

​        For additional information about plugin loading, see        [Section 5.5.1, “Installing and Uninstalling Plugins”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-plugin-loading).      

​        To see what plugins are installed, use the        [`SHOW PLUGINS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-plugins) statement or query        the [`INFORMATION_SCHEMA.PLUGINS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#plugins-table)        table.      

​        If you recompile a plugin library and need to reinstall it, you        can use either of the following methods:

- ​            Use [`UNINSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin) to            uninstall all plugins in the library, install the new plugin            library file in the plugin directory, and then use            [`INSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) to install all            plugins in the library. This procedure has the advantage            that it can be used without stopping the server. However, if            the plugin library contains many plugins, you must issue            many [`INSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) and            [`UNINSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin) statements.          
- ​            Stop the server, install the new plugin library file in the            plugin directory, and restart the server.

#### 13.7.3.4 UNINSTALL PLUGIN Syntax

```
UNINSTALL PLUGIN plugin_name

```

​        This statement removes an installed server plugin. It requires        the [`DELETE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_delete) privilege for the        `mysql.plugin` system table.        [`UNINSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin) is the        complement of [`INSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin).      

​        *plugin_name* must be the name of some        plugin that is listed in the `mysql.plugin`        table. The server executes the plugin's deinitialization        function and removes the row for the plugin from the        `mysql.plugin` table, so that subsequent server        restarts will not load and initialize the plugin.        [`UNINSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin) does not remove        the plugin's shared library file.      

​        You cannot uninstall a plugin if any table that uses it is open.      

​        Plugin removal has implications for the use of associated        tables. For example, if a full-text parser plugin is associated        with a `FULLTEXT` index on the table,        uninstalling the plugin makes the table unusable. Any attempt to        access the table results in an error. The table cannot even be        opened, so you cannot drop an index for which the plugin is        used. This means that uninstalling a plugin is something to do        with care unless you do not care about the table contents. If        you are uninstalling a plugin with no intention of reinstalling        it later and you care about the table contents, you should dump        the table with [**mysqldump**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqldump) and remove the        `WITH PARSER` clause from the dumped        [`CREATE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table) statement so that        you can reload the table later. If you do not care about the        table, [`DROP TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-table) can be used        even if any plugins associated with the table are missing.      

​        For additional information about plugin loading, see        [Section 5.5.1, “Installing and Uninstalling Plugins”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-plugin-loading).

### 13.7.4 SET Syntax

- [13.7.4.1 SET Syntax for Variable Assignment](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)
- [13.7.4.2 SET CHARACTER SET Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-character-set)
- [13.7.4.3 SET NAMES Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-names)

​      The [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-statement)      statement has several forms. Descriptions for those forms that are      not associated with a specific server capability appear in      subsections of this section:

- ​          [`SET          *var_name* =          *value*`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable) enables you to          assign values to variables that affect the operation of the          server or clients. See [Section 13.7.4.1, “SET Syntax for Variable Assignment”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable).        
- ​          [`SET CHARACTER SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-character-set) and          [`SET NAMES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-names) assign values to          character set and collation variables associated with the          current connection to the server. See          [Section 13.7.4.2, “SET CHARACTER SET Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-character-set), and          [Section 13.7.4.3, “SET NAMES Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-names).

​      Descriptions for the other forms appear elsewhere, grouped with      other statements related to the capability they help implement:

- ​          [`SET PASSWORD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password) assigns account          passwords. See [Section 13.7.1.6, “SET PASSWORD Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-password).        
- ​          [`SET          TRANSACTION ISOLATION LEVEL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-transaction) sets the isolation level          for transaction processing. See          [Section 13.3.6, “SET TRANSACTION Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-transaction).

#### 13.7.4.1 SET Syntax for Variable Assignment

```
SET variable_assignment [, variable_assignment] ...

variable_assignment:
      user_var_name = expr
    | param_name = expr
    | local_var_name = expr
    | [GLOBAL | SESSION]
        system_var_name = expr
    | [@@global. | @@session. | @@]
        system_var_name = expr

SET ONE_SHOT system_var_name = expr

```

​        [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        syntax for variable assignment enables you to assign values to        different types of variables that affect the operation of the        server or clients:

- ​            System variables. See            [Section 5.1.5, “Server System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-system-variables). System variables            also can be set at server startup, as described in            [Section 5.1.6, “Using System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#using-system-variables). (To            *display* system variable names and            values, use the [`SHOW            VARIABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-variables) statement; see            [Section 13.7.5.40, “SHOW VARIABLES Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-variables).)          
- ​            User-defined variables. See            [Section 9.4, “User-Defined Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/language-structure.html#user-variables).          
- ​            Stored procedure and function parameters, and stored program            local variables. See            [Section 13.6.4, “Variables in Stored Programs”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#stored-program-variables).

​        Older versions of MySQL employed `SET OPTION`,        but this syntax is deprecated in favor of        [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        without `OPTION`.      

​        A [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        statement that assigns variable values is not written to the        binary log, so in replication scenarios it affects only the host        on which you execute it. To affect all replication hosts,        execute the statement on each one.      

​        The following examples illustrate        [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        syntax for setting variables. They use the        [`=`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_assign-equal)        assignment operator, but the        [`:=`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_assign-value)        assignment operator is also permitted for this purpose.      

​        A user variable is written as        `@*var_name*` and is        assigned an expression value as follows:      

```
SET @var_name = expr;

```

​        Examples:      

```
SET @name = 43;
SET @total_tax = (SELECT SUM(tax) FROM taxable_transactions);

```

​        The *expr* can range from simple (a        literal value) to more complex (the value returned by a scalar        subquery).      

​        [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        applies to parameters and local variables in the context of the        stored object within which they are defined. The following        procedure uses the `counter` local variable as        a loop counter:      

```
CREATE PROCEDURE p()
BEGIN
  DECLARE counter INT DEFAULT 0;
  WHILE counter < 10 DO
    -- ... do work ...
    SET counter = counter + 1;
  END WHILE;
END;

```

​        Many system variables are dynamic and can be changed at runtime        by using the        [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        statement. For a list, see        [Section 5.1.6.2, “Dynamic System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#dynamic-system-variables). To change a system        variable with        [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable),        refer to it by name, optionally preceded by a modifier:

- ​            To indicate that a variable is a global variable, precede            its name by the `GLOBAL` keyword or the            `@@global.` qualifier:          

  ```
  SET GLOBAL max_connections = 1000;
  SET @@global.max_connections = 1000;

  ```

  ​            The [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege is            required to set global variables.          

- ​            To indicate that a variable is a session variable, precede            its name by the `SESSION` keyword or either            the `@@session.` or `@@`            qualifier:          

  ```
  SET SESSION sql_mode = 'TRADITIONAL';
  SET @@session.sql_mode = 'TRADITIONAL';
  SET @@sql_mode = 'TRADITIONAL';

  ```

  ​            Setting a session variable normally requires no special            privilege, although there are exceptions that require the            [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege (such as            [`sql_log_bin`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_sql_log_bin)). A client can            change its own session variables, but not those of any other            client.          

- ​            `LOCAL` and `@@local.` are            synonyms for `SESSION` and            `@@session.`.          

- ​            If no modifier is present,            [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)            changes the session variable.          

- ​            An error occurs under these circumstances:

  - ​                Use of [`SET                GLOBAL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable) (or `@@global.`) when                setting a variable that has only a session value:              

    ```
    mysql> SET GLOBAL sql_log_bin = ON;
    ERROR 1231 (42000): Variable 'sql_log_bin' can't be
    set to the value of 'ON'

    ```

  - ​                Omission of `GLOBAL` (or                `@@global.`) when setting a variable                that has only a global value:              

    ```
    mysql> SET max_connections = 1000;
    ERROR 1229 (HY000): Variable 'max_connections' is a
    GLOBAL variable and should be set with SET GLOBAL

    ```

  - ​                Use of [`SET                SESSION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable) (or `@@SESSION.`)                when setting a variable that has only a global value:              

    ```
    mysql> SET SESSION max_connections = 1000;
    ERROR 1229 (HY000): Variable 'max_connections' is a
    GLOBAL variable and should be set with SET GLOBAL

    ```

​        The preceding modifiers apply only to system variables. An error        occurs for attempts to apply them to user-defined variables,        stored procedure or function parameters, or stored program local        variables.      

​        A [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        statement can contain multiple variable assignments, separated        by commas. This statement assigns values to a user-defined        variable and a system variable:      

```
SET @x = 1, SESSION sql_mode = '';

```

​        If you set multiple system variables, the most recent        `GLOBAL` or `SESSION` modifier        in the statement is used for following assignments that have no        modifier specified.      

​        Examples of multiple-variable assignment:      

```
SET GLOBAL sort_buffer_size = 1000000, SESSION sort_buffer_size = 1000000;
SET @@global.sort_buffer_size = 1000000, @@local.sort_buffer_size = 1000000;
SET GLOBAL max_connections = 1000, sort_buffer_size = 1000000;

```

​        If any variable assignment in a        [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        statement fails, the entire statement fails and no variables are        changed.      

​        If you change a session system variable, the value remains in        effect within your session until you change the variable to a        different value or the session ends. The change has no effect on        other sessions.      

​        If you change a global system variable, the value is remembered        and used for new sessions until you change the variable to a        different value or the server exits. The change is visible to        any client that accesses the global variable. However, the        change affects the corresponding session variable only for        clients that connect after the change. The global variable        change does not affect the session variable for any current        client sessions (not even the session within which the        [`SET        GLOBAL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable) statement occurred).      

​        To make a global system variable setting permanent so that it        applies across server restarts, you should also set it in an        option file.      

​        To set a `GLOBAL` value to the compiled-in        MySQL default value or a `SESSION` variable to        the current corresponding `GLOBAL` value, set        the variable to the value `DEFAULT`. For        example, the following two statements are identical in setting        the session value of        [`max_join_size`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_join_size) to the current        global value:      

```
SET @@session.max_join_size=DEFAULT;
SET @@session.max_join_size=@@global.max_join_size;

```

​        Not all system variables can be set to        `DEFAULT`. In such cases, assigning        `DEFAULT` results in an error.      

​        It is not permitted to assign `DEFAULT` to        user-defined variables, and not supported for stored procedure        or function parameters or stored program local variables. This        results in an error for user-defined variables, and the results        are undefined for parameters or local variables.      

​        To refer to the value of a system variable in expressions, use        one of the `@@`-modifiers. For example, you can        retrieve values in a [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select)        statement like this:      

```
SELECT @@global.sql_mode, @@session.sql_mode, @@sql_mode;

```

​        For a reference to a system variable in an expression as        `@@*var_name*` (rather        than with `@@global.` or        `@@session.`), MySQL returns the session value        if it exists and the global value otherwise. This differs from        `SET @@*var_name* =        *expr*`, which always refers        to the session value.      

​        The `SET ONE_SHOT` syntax is        *only* for internal use for replication:        [**mysqlbinlog**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlbinlog) uses `SET        ONE_SHOT` to modify temporarily the values of character        set, collation, and time zone variables to reflect at        rollforward what they were originally.        `ONE_SHOT` is for internal use only and is        deprecated for MySQL 5.0 and up.      

​        `ONE_SHOT` is intended for use only with the        permitted set of variables. It changes the variables as        requested, but only for the next        non-[`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        statement. After that, the server resets all character set,        collation, and time zone-related system variables to their        previous values. Example:      

```
mysql> SET ONE_SHOT character_set_connection = latin5;

mysql> SET ONE_SHOT collation_connection = latin5_turkish_ci;

mysql> SHOW VARIABLES LIKE '%_connection';
+--------------------------+-------------------+
| Variable_name            | Value             |
+--------------------------+-------------------+
| character_set_connection | latin5            |
| collation_connection     | latin5_turkish_ci |
+--------------------------+-------------------+

mysql> SHOW VARIABLES LIKE '%_connection';
+--------------------------+-------------------+
| Variable_name            | Value             |
+--------------------------+-------------------+
| character_set_connection | latin1            |
| collation_connection     | latin1_swedish_ci |
+--------------------------+-------------------+

```

#### 13.7.4.2 SET CHARACTER SET Syntax

```
SET {CHARACTER SET | CHARSET}
    {'charset_name' | DEFAULT}

```

​        This statement maps all strings sent between the server and the        current client with the given mapping. `SET CHARACTER        SET` sets three session system variables:        [`character_set_client`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_client) and        [`character_set_results`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_results) are set        to the given character set, and        [`character_set_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_connection) to the        value of        [`character_set_database`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_database). See        [Section 10.1.4, “Connection Character Sets and Collations”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/globalization.html#charset-connection).      

​        *charset_name* may be quoted or        unquoted.      

​        The default character set mapping can be restored by using the        value `DEFAULT`. The default depends on the        server configuration.      

​        `ucs2`, `utf16`, and        `utf32` cannot be used as a client character        set, which means that they do not work for `SET        CHARACTER SET`.

#### 13.7.4.3 SET NAMES Syntax

```
SET NAMES {'charset_name'
    [COLLATE 'collation_name'] | DEFAULT}

```

​        This statement sets the three session system variables        [`character_set_client`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_client),        [`character_set_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_connection), and        [`character_set_results`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_results) to the        given character set. Setting        [`character_set_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_connection) to        `charset_name` also sets        [`collation_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_collation_connection) to the        default collation for `charset_name`. See        [Section 10.1.4, “Connection Character Sets and Collations”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/globalization.html#charset-connection).      

​        The optional `COLLATE` clause may be used to        specify a collation explicitly. If given, the collation must one        of the permitted collations for        *charset_name*.      

​        *charset_name* and        *collation_name* may be quoted or        unquoted.      

​        The default mapping can be restored by using a value of        `DEFAULT`. The default depends on the server        configuration.      

​        `ucs2`, `utf16`, and        `utf32` cannot be used as a client character        set, which means that they do not work for        [`SET NAMES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-names).

### 13.7.5 SHOW Syntax

- [13.7.5.1 SHOW AUTHORS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-authors)
- [13.7.5.2 SHOW BINARY LOGS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-binary-logs)
- [13.7.5.3 SHOW BINLOG EVENTS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-binlog-events)
- [13.7.5.4 SHOW CHARACTER SET Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-character-set)
- [13.7.5.5 SHOW COLLATION Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-collation)
- [13.7.5.6 SHOW COLUMNS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-columns)
- [13.7.5.7 SHOW CONTRIBUTORS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-contributors)
- [13.7.5.8 SHOW CREATE DATABASE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-database)
- [13.7.5.9 SHOW CREATE EVENT Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-event)
- [13.7.5.10 SHOW CREATE FUNCTION Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-function)
- [13.7.5.11 SHOW CREATE PROCEDURE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-procedure)
- [13.7.5.12 SHOW CREATE TABLE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-table)
- [13.7.5.13 SHOW CREATE TRIGGER Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-trigger)
- [13.7.5.14 SHOW CREATE VIEW Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-view)
- [13.7.5.15 SHOW DATABASES Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-databases)
- [13.7.5.16 SHOW ENGINE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engine)
- [13.7.5.17 SHOW ENGINES Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engines)
- [13.7.5.18 SHOW ERRORS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-errors)
- [13.7.5.19 SHOW EVENTS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-events)
- [13.7.5.20 SHOW FUNCTION CODE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-function-code)
- [13.7.5.21 SHOW FUNCTION STATUS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-function-status)
- [13.7.5.22 SHOW GRANTS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants)
- [13.7.5.23 SHOW INDEX Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-index)
- [13.7.5.24 SHOW MASTER STATUS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-master-status)
- [13.7.5.25 SHOW OPEN TABLES Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-open-tables)
- [13.7.5.26 SHOW PLUGINS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-plugins)
- [13.7.5.27 SHOW PRIVILEGES Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-privileges)
- [13.7.5.28 SHOW PROCEDURE CODE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-procedure-code)
- [13.7.5.29 SHOW PROCEDURE STATUS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-procedure-status)
- [13.7.5.30 SHOW PROCESSLIST Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist)
- [13.7.5.31 SHOW PROFILE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profile)
- [13.7.5.32 SHOW PROFILES Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profiles)
- [13.7.5.33 SHOW RELAYLOG EVENTS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-relaylog-events)
- [13.7.5.34 SHOW SLAVE HOSTS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-slave-hosts)
- [13.7.5.35 SHOW SLAVE STATUS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-slave-status)
- [13.7.5.36 SHOW STATUS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-status)
- [13.7.5.37 SHOW TABLE STATUS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-table-status)
- [13.7.5.38 SHOW TABLES Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-tables)
- [13.7.5.39 SHOW TRIGGERS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-triggers)
- [13.7.5.40 SHOW VARIABLES Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-variables)
- [13.7.5.41 SHOW WARNINGS Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings)

​      [`SHOW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show) has many forms that provide      information about databases, tables, columns, or status      information about the server. This section describes those      following:    

```
SHOW AUTHORS
SHOW {BINARY | MASTER} LOGS
SHOW BINLOG EVENTS [IN 'log_name'] [FROM pos] [LIMIT [offset,] row_count]
SHOW CHARACTER SET [like_or_where]
SHOW COLLATION [like_or_where]
SHOW [FULL] COLUMNS FROM tbl_name [FROM db_name] [like_or_where]
SHOW CONTRIBUTORS
SHOW CREATE DATABASE db_name
SHOW CREATE EVENT event_name
SHOW CREATE FUNCTION func_name
SHOW CREATE PROCEDURE proc_name
SHOW CREATE TABLE tbl_name
SHOW CREATE TRIGGER trigger_name
SHOW CREATE VIEW view_name
SHOW DATABASES [like_or_where]
SHOW ENGINE engine_name {STATUS | MUTEX}
SHOW [STORAGE] ENGINES
SHOW ERRORS [LIMIT [offset,] row_count]
SHOW EVENTS
SHOW FUNCTION CODE func_name
SHOW FUNCTION STATUS [like_or_where]
SHOW GRANTS FOR user
SHOW INDEX FROM tbl_name [FROM db_name]
SHOW MASTER STATUS
SHOW OPEN TABLES [FROM db_name] [like_or_where]
SHOW PLUGINS
SHOW PROCEDURE CODE proc_name
SHOW PROCEDURE STATUS [like_or_where]
SHOW PRIVILEGES
SHOW [FULL] PROCESSLIST
SHOW PROFILE [types] [FOR QUERY n] [OFFSET n] [LIMIT n]
SHOW PROFILES
SHOW RELAYLOG EVENTS [IN 'log_name'] [FROM pos] [LIMIT [offset,] row_count]
SHOW SLAVE HOSTS
SHOW SLAVE STATUS
SHOW [GLOBAL | SESSION] STATUS [like_or_where]
SHOW TABLE STATUS [FROM db_name] [like_or_where]
SHOW [FULL] TABLES [FROM db_name] [like_or_where]
SHOW TRIGGERS [FROM db_name] [like_or_where]
SHOW [GLOBAL | SESSION] VARIABLES [like_or_where]
SHOW WARNINGS [LIMIT [offset,] row_count]

like_or_where:
    LIKE 'pattern'
  | WHERE expr

```

​      If the syntax for a given [`SHOW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show)      statement includes a [`LIKE      '*pattern*'`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) part,      `'*pattern*'` is a      string that can contain the SQL `%` and      `_` wildcard characters. The pattern is useful      for restricting statement output to matching values.    

​      Several [`SHOW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show) statements also accept      a `WHERE` clause that provides more flexibility      in specifying which rows to display. See      [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).    

​      Many MySQL APIs (such as PHP) enable you to treat the result      returned from a [`SHOW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show) statement as      you would a result set from a      [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select); see      [Chapter 23, *Connectors and APIs*](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/connectors-apis.html), or your API documentation for      more information. In addition, you can work in SQL with results      from queries on tables in the      `INFORMATION_SCHEMA` database, which you cannot      easily do with results from [`SHOW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show)      statements. See [Chapter 21, *INFORMATION_SCHEMA Tables*](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html).

#### 13.7.5.1 SHOW AUTHORS Syntax

```
SHOW AUTHORS

```

​        The [`SHOW AUTHORS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-authors) statement        displays information about the people who work on MySQL. For        each author, it displays `Name`,        `Location`, and `Comment`        values.      

​        This statement is deprecated as of MySQL 5.5.29 and is removed        in MySQL 5.6.

#### 13.7.5.2 SHOW BINARY LOGS Syntax

```
SHOW BINARY LOGS
SHOW MASTER LOGS

```

​        Lists the binary log files on the server. This statement is used        as part of the procedure described in        [Section 13.4.1.1, “PURGE BINARY LOGS Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#purge-binary-logs), that shows how to determine        which logs can be purged.      

```
mysql> SHOW BINARY LOGS;
+---------------+-----------+
| Log_name      | File_size |
+---------------+-----------+
| binlog.000015 |    724935 |
| binlog.000016 |    733481 |
+---------------+-----------+

```

​        [`SHOW MASTER        LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-binary-logs) is equivalent to [`SHOW BINARY        LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-binary-logs).      

​        In MySQL 5.5.24 and earlier, the        [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege was required to        use this statement. Starting with MySQL 5.5.25, a user with the        [`REPLICATION CLIENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_replication-client) privilege may        also execute this statement.

#### 13.7.5.3 SHOW BINLOG EVENTS Syntax

```
SHOW BINLOG EVENTS
   [IN 'log_name']
   [FROM pos]
   [LIMIT [offset,] row_count]

```

​        Shows the events in the binary log. If you do not specify        `'*log_name*'`, the        first binary log is displayed.      

​        The `LIMIT` clause has the same syntax as for        the [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) statement. See        [Section 13.2.9, “SELECT Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select).

Note

​          Issuing a [`SHOW BINLOG EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-binlog-events)          with no `LIMIT` clause could start a very          time- and resource-consuming process because the server          returns to the client the complete contents of the binary log          (which includes all statements executed by the server that          modify data). As an alternative to [`SHOW          BINLOG EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-binlog-events), use the          [**mysqlbinlog**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlbinlog) utility to save the binary log          to a text file for later examination and analysis. See          [Section 4.6.7, “**mysqlbinlog** — Utility for Processing Binary Log Files”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlbinlog).

Note

​          Some events relating to the setting of user and system          variables are not included in the output from          [`SHOW BINLOG EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-binlog-events). To get          complete coverage of events within a binary log, use          [**mysqlbinlog**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlbinlog).

Note

​          [`SHOW BINLOG EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-binlog-events) does          *not* work with relay log files. You can          use [`SHOW RELAYLOG EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-relaylog-events) for          this purpose.

#### 13.7.5.4 SHOW CHARACTER SET Syntax

```
SHOW CHARACTER SET
    [LIKE 'pattern' | WHERE expr]

```

​        The [`SHOW CHARACTER SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-character-set) statement        shows all available character sets. The        [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if present, indicates        which character set names to match. The `WHERE`        clause can be given to select rows using more general        conditions, as discussed in [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show). For        example:      

```
mysql> SHOW CHARACTER SET LIKE 'latin%';
+---------+-----------------------------+-------------------+--------+
| Charset | Description                 | Default collation | Maxlen |
+---------+-----------------------------+-------------------+--------+
| latin1  | cp1252 West European        | latin1_swedish_ci |      1 |
| latin2  | ISO 8859-2 Central European | latin2_general_ci |      1 |
| latin5  | ISO 8859-9 Turkish          | latin5_turkish_ci |      1 |
| latin7  | ISO 8859-13 Baltic          | latin7_general_ci |      1 |
+---------+-----------------------------+-------------------+--------+

```

​        The `Maxlen` column shows the maximum number of        bytes required to store one character.      

​        The `filename` character set is for internal        use only; consequently, [`SHOW CHARACTER        SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-character-set) does not display it.      

​        You can also obtain information about character sets from        `INFORMATION_SCHEMA`, which contains a        [`CHARACTER_SETS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#character-sets-table) table. See        [Section 21.1, “The INFORMATION_SCHEMA CHARACTER_SETS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#character-sets-table).

#### 13.7.5.5 SHOW COLLATION Syntax

```
SHOW COLLATION
    [LIKE 'pattern' | WHERE expr]

```

​        This statement lists collations supported by the server. By        default, the output from [`SHOW        COLLATION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-collation) includes all available collations. The        [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if present, indicates        which collation names to match. The `WHERE`        clause can be given to select rows using more general        conditions, as discussed in [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show). For        example:      

```
mysql> SHOW COLLATION WHERE Charset = 'latin1';
+-------------------+---------+----+---------+----------+---------+
| Collation         | Charset | Id | Default | Compiled | Sortlen |
+-------------------+---------+----+---------+----------+---------+
| latin1_german1_ci | latin1  |  5 |         | Yes      |       1 |
| latin1_swedish_ci | latin1  |  8 | Yes     | Yes      |       1 |
| latin1_danish_ci  | latin1  | 15 |         | Yes      |       1 |
| latin1_german2_ci | latin1  | 31 |         | Yes      |       2 |
| latin1_bin        | latin1  | 47 |         | Yes      |       1 |
| latin1_general_ci | latin1  | 48 |         | Yes      |       1 |
| latin1_general_cs | latin1  | 49 |         | Yes      |       1 |
| latin1_spanish_ci | latin1  | 94 |         | Yes      |       1 |
+-------------------+---------+----+---------+----------+---------+

```

​        The `Collation` and `Charset`        columns indicate the names of the collation and the character        set with which it is associated. `Id` is the        collation ID. `Default` indicates whether the        collation is the default for its character set.        `Compiled` indicates whether the character set        is compiled into the server. `Sortlen` is        related to the amount of memory required to sort strings        expressed in the character set.      

​        To see the default collation for each character set, use the        following statement. `Default` is a reserved        word, so to use it as an identifier, it must be quoted as such:      

```
mysql> SHOW COLLATION WHERE `Default` = 'Yes';
+---------------------+----------+----+---------+----------+---------+
| Collation           | Charset  | Id | Default | Compiled | Sortlen |
+---------------------+----------+----+---------+----------+---------+
| big5_chinese_ci     | big5     |  1 | Yes     | Yes      |       1 |
| dec8_swedish_ci     | dec8     |  3 | Yes     | Yes      |       1 |
| cp850_general_ci    | cp850    |  4 | Yes     | Yes      |       1 |
| hp8_english_ci      | hp8      |  6 | Yes     | Yes      |       1 |
| koi8r_general_ci    | koi8r    |  7 | Yes     | Yes      |       1 |
| latin1_swedish_ci   | latin1   |  8 | Yes     | Yes      |       1 |
...

```

​        You can also obtain information about collations from        `INFORMATION_SCHEMA`, which contains a        [`COLLATIONS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#collations-table) table. See        [Section 21.2, “The INFORMATION_SCHEMA COLLATIONS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#collations-table).

#### 13.7.5.6 SHOW COLUMNS Syntax

```
SHOW [FULL] {COLUMNS | FIELDS}
    {FROM | IN} tbl_name
    [{FROM | IN} db_name]
    [LIKE 'pattern' | WHERE expr]

```

​        [`SHOW COLUMNS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-columns) displays information        about the columns in a given table. It also works for views.        [`SHOW COLUMNS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-columns) displays information        only for those columns for which you have some privilege.      

​        You can use *db_name.tbl_name* as an        alternative to the `*tbl_name*        FROM *db_name*` syntax. In        other words, these two statements are equivalent:      

```
SHOW COLUMNS FROM mytable FROM mydb;
SHOW COLUMNS FROM mydb.mytable;

```

​        The optional `FULL` keyword causes the output        to include the column collation and comments, as well as the        privileges you have for each column.      

​        The [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if present,        indicates which column names to match. The        `WHERE` clause can be given to select rows        using more general conditions, as discussed in        [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

```
mysql> SHOW COLUMNS FROM City;
+-------------+----------+------+-----+---------+----------------+
| Field       | Type     | Null | Key | Default | Extra          |
+-------------+----------+------+-----+---------+----------------+
| ID          | int(11)  | NO   | PRI | NULL    | auto_increment |
| Name        | char(35) | NO   |     |         |                |
| CountryCode | char(3)  | NO   | MUL |         |                |
| District    | char(20) | NO   |     |         |                |
| Population  | int(11)  | NO   |     | 0       |                |
+-------------+----------+------+-----+---------+----------------+

```

​        The data types may differ from what you expect them to be based        on a [`CREATE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table) statement        because MySQL sometimes changes data types when you create or        alter a table. The conditions under which this occurs are        described in [Section 13.1.17.7, “Silent Column Specification Changes”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#silent-column-changes).      

​        [`SHOW COLUMNS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-columns) displays the        following values for each table column:

- ​            `Field`          

  ​            The column name.          

- ​            `Type`          

  ​            The column data type.          

- ​            `Collation`          

  ​            The collation for nonbinary string columns, or            `NULL` for other columns. This value is            displayed only if you use the `FULL`            keyword.          

- ​            `Null`          

  ​            Column nullability. The value is `YES` if            `NULL` values can be stored in the column,            `NO` if not.          

- ​            `Key`          

  ​            Whether the column is indexed:

  - ​                If `Key` is empty, the column either is                not indexed or is indexed only as a secondary column in                a multiple-column, nonunique index.              
  - ​                If `Key` is `PRI`, the                column is a `PRIMARY KEY` or is one of                the columns in a multiple-column `PRIMARY                KEY`.              
  - ​                If `Key` is `UNI`, the                column is the first column of a                `UNIQUE` index. (A                `UNIQUE` index permits multiple                `NULL` values, but you can tell whether                the column permits `NULL` by checking                the `Null` field.)              
  - ​                If `Key` is `MUL`, the                column is the first column of a nonunique index in which                multiple occurrences of a given value are permitted                within the column.

  ​            If more than one of the `Key` values            applies to a given column of a table, `Key`            displays the one with the highest priority, in the order            `PRI`, `UNI`,            `MUL`.          

  ​            A `UNIQUE` index may be displayed as            `PRI` if it cannot contain            `NULL` values and there is no            `PRIMARY KEY` in the table. A            `UNIQUE` index may display as            `MUL` if several columns form a composite            `UNIQUE` index; although the combination of            the columns is unique, each column can still hold multiple            occurrences of a given value.          

- ​            `Default`          

  ​            The default value for the column. This is            `NULL` if the column has an explicit            default of `NULL`, or if the column            definition includes no `DEFAULT` clause.          

- ​            `Extra`          

  ​            Any additional information that is available about a given            column. The value is nonempty in these cases:            `auto_increment` for columns that have the            `AUTO_INCREMENT` attribute; `on            update CURRENT_TIMESTAMP` for            [`TIMESTAMP`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#datetime) columns that have            the `ON UPDATE CURRENT_TIMESTAMP`            attribute.          

- ​            `Privileges`          

  ​            The privileges you have for the column. This value is            displayed only if you use the `FULL`            keyword.          

- ​            `Comment`          

  ​            Any comment included in the column definition. This value is            displayed only if you use the `FULL`            keyword.

​        You can also obtain information about table columns from        `INFORMATION_SCHEMA`, which contains a        [`COLUMNS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#columns-table) table. See        [Section 21.4, “The INFORMATION_SCHEMA COLUMNS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#columns-table).      

​        You can list a table's columns with the [**mysqlshow        db_name        tbl_name**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlshow) command.      

​        The [`DESCRIBE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#describe) statement provides        information similar to [`SHOW        COLUMNS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-columns). See [Section 13.8.1, “DESCRIBE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#describe).      

​        The [`SHOW CREATE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-table),        [`SHOW TABLE STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-table-status), and        [`SHOW INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-index) statements also        provide information about tables. See [Section 13.7.5, “SHOW Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show).

#### 13.7.5.7 SHOW CONTRIBUTORS Syntax

```
SHOW CONTRIBUTORS

```

​        The [`SHOW CONTRIBUTORS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-contributors) statement        displays information about the people who contribute to MySQL        source or to causes that we support. For each contributor, it        displays `Name`, `Location`,        and `Comment` values.      

​        This statement is deprecated as of MySQL 5.5.29 and is removed        in MySQL 5.6.

#### 13.7.5.8 SHOW CREATE DATABASE Syntax

```
SHOW CREATE {DATABASE | SCHEMA} [IF NOT EXISTS] db_name

```

​        Shows the [`CREATE DATABASE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-database)        statement that creates the named database. If the        `SHOW` statement includes an `IF NOT        EXISTS` clause, the output too includes such a clause.        [`SHOW        CREATE SCHEMA`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-database) is a synonym for        [`SHOW CREATE DATABASE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-database).      

```
mysql> SHOW CREATE DATABASE test\G
*************************** 1. row ***************************
       Database: test
Create Database: CREATE DATABASE `test`
                 /*!40100 DEFAULT CHARACTER SET latin1 */

mysql> SHOW CREATE SCHEMA test\G
*************************** 1. row ***************************
       Database: test
Create Database: CREATE DATABASE `test`
                 /*!40100 DEFAULT CHARACTER SET latin1 */

```

​        [`SHOW CREATE DATABASE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-database) quotes table        and column names according to the value of the        [`sql_quote_show_create`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_sql_quote_show_create) option.        See [Section 5.1.5, “Server System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-system-variables).

#### 13.7.5.9 SHOW CREATE EVENT Syntax

```
SHOW CREATE EVENT event_name

```

​        This statement displays the [`CREATE        EVENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-event) statement needed to re-create a given event. It        requires the [`EVENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_event) privilege for        the database from which the event is to be shown. For example        (using the same event `e_daily` defined and        then altered in [Section 13.7.5.19, “SHOW EVENTS Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-events)):      

```
mysql> SHOW CREATE EVENT test.e_daily\G
*************************** 1. row ***************************
               Event: e_daily
            sql_mode:
           time_zone: SYSTEM
        Create Event: CREATE EVENT `e_daily`
                        ON SCHEDULE EVERY 1 DAY
                        STARTS CURRENT_TIMESTAMP + INTERVAL 6 HOUR
                        ON COMPLETION NOT PRESERVE
                        ENABLE
                        COMMENT 'Saves total number of sessions then
                                clears the table each day'
                        DO BEGIN
                          INSERT INTO site_activity.totals (time, total)
                            SELECT CURRENT_TIMESTAMP, COUNT(*)
                            FROM site_activity.sessions;
                          DELETE FROM site_activity.sessions;
                        END
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci

```

​        `character_set_client` is the session value of        the [`character_set_client`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_client) system        variable when the event was created.        `collation_connection` is the session value of        the [`collation_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_collation_connection) system        variable when the event was created. `Database        Collation` is the collation of the database with which        the event is associated.      

​        Note that the output reflects the current status of the event        (`ENABLE`) rather than the status with which it        was created.

#### 13.7.5.10 SHOW CREATE FUNCTION Syntax

```
SHOW CREATE FUNCTION func_name

```

​        This statement is similar to [`SHOW CREATE        PROCEDURE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-procedure) but for stored functions. See        [Section 13.7.5.11, “SHOW CREATE PROCEDURE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-procedure).

#### 13.7.5.11 SHOW CREATE PROCEDURE Syntax

```
SHOW CREATE PROCEDURE proc_name

```

​        This statement is a MySQL extension. It returns the exact string        that can be used to re-create the named stored procedure. A        similar statement, [`SHOW CREATE        FUNCTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-function), displays information about stored functions        (see [Section 13.7.5.10, “SHOW CREATE FUNCTION Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-function)).      

​        To use either statement, you must be the user named in the        routine `DEFINER` clause or have        [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) access to the        `mysql.proc` table. If you do not have        privileges for the routine itself, the value displayed for the        `Create Procedure` or `Create        Function` field will be `NULL`.      

```
mysql> SHOW CREATE PROCEDURE test.simpleproc\G
*************************** 1. row ***************************
           Procedure: simpleproc
            sql_mode:
    Create Procedure: CREATE PROCEDURE `simpleproc`(OUT param1 INT)
                      BEGIN
                      SELECT COUNT(*) INTO param1 FROM t;
                      END
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci

mysql> SHOW CREATE FUNCTION test.hello\G
*************************** 1. row ***************************
            Function: hello
            sql_mode:
     Create Function: CREATE FUNCTION `hello`(s CHAR(20))
                      RETURNS CHAR(50)
                      RETURN CONCAT('Hello, ',s,'!')
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci

```

​        `character_set_client` is the session value of        the [`character_set_client`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_client) system        variable when the routine was created.        `collation_connection` is the session value of        the [`collation_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_collation_connection) system        variable when the routine was created. `Database        Collation` is the collation of the database with which        the routine is associated.

#### 13.7.5.12 SHOW CREATE TABLE Syntax

```
SHOW CREATE TABLE tbl_name

```

​        Shows the [`CREATE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table) statement        that creates the named table. To use this statement, you must        have some privilege for the table. This statement also works        with views.      

```
mysql> SHOW CREATE TABLE t\G
*************************** 1. row ***************************
       Table: t
Create Table: CREATE TABLE `t` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `s` char(60) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
```

​        [`SHOW CREATE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-table) quotes table        and column names according to the value of the        [`sql_quote_show_create`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_sql_quote_show_create) option.        See [Section 5.1.5, “Server System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-system-variables).      

​        For information about how [`CREATE        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table) statements are stored by MySQL, see        [Section 13.1.17.1, “CREATE TABLE Statement Retention”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table-statement-retention).



#### 13.7.5.13 SHOW CREATE TRIGGER Syntax

```
SHOW CREATE TRIGGER trigger_name

```

​        This statement shows the [`CREATE        TRIGGER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-trigger) statement that creates the named trigger. This        statement requires the [`TRIGGER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_trigger)        privilege for the table associated with the trigger.      

```
mysql> SHOW CREATE TRIGGER ins_sum\G
*************************** 1. row ***************************
               Trigger: ins_sum
              sql_mode:
SQL Original Statement: CREATE DEFINER=`bob`@`localhost` TRIGGER ins_sum
                        BEFORE INSERT ON account
                        FOR EACH ROW SET @sum = @sum + NEW.amount
  character_set_client: latin1
  collation_connection: latin1_swedish_ci
    Database Collation: latin1_swedish_ci

```

​        [`SHOW CREATE TRIGGER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-trigger) output has        the following columns:

- ​            `Trigger`: The trigger name.          
- ​            `sql_mode`: The SQL mode in effect when the            trigger executes.          
- ​            `SQL Original Statement`: The            [`CREATE TRIGGER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-trigger) statement that            defines the trigger.          
- ​            `character_set_client`: The session value            of the [`character_set_client`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_client)            system variable when the trigger was created.          
- ​            `collation_connection`: The session value            of the [`collation_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_collation_connection)            system variable when the trigger was created.          
- ​            `Database Collation`: The collation of the            database with which the trigger is associated.

​        You can also obtain information about trigger objects from        `INFORMATION_SCHEMA`, which contains a        [`TRIGGERS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#triggers-table) table. See        [Section 21.25, “The INFORMATION_SCHEMA TRIGGERS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#triggers-table).

#### 13.7.5.14 SHOW CREATE VIEW Syntax

```
SHOW CREATE VIEW view_name

```

​        This statement shows the [`CREATE        VIEW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-view) statement that creates the named view.      

```
mysql> SHOW CREATE VIEW v\G
*************************** 1. row ***************************
                View: v
         Create View: CREATE ALGORITHM=UNDEFINED
                      DEFINER=`bob`@`localhost`
                      SQL SECURITY DEFINER VIEW
                      `v` AS select 1 AS `a`,2 AS `b`
character_set_client: latin1
collation_connection: latin1_swedish_ci

```

​        `character_set_client` is the session value of        the [`character_set_client`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_client) system        variable when the view was created.        `collation_connection` is the session value of        the [`collation_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_collation_connection) system        variable when the view was created.      

​        Use of [`SHOW CREATE VIEW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-view) requires        the [`SHOW VIEW`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_show-view) privilege, and the        [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select) privilege for the view in        question.      

​        You can also obtain information about view objects from        `INFORMATION_SCHEMA`, which contains a        [`VIEWS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#views-table) table. See        [Section 21.27, “The INFORMATION_SCHEMA VIEWS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#views-table).      

​        MySQL lets you use different        [`sql_mode`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_sql_mode) settings to tell the        server the type of SQL syntax to support. For example, you might        use the [`ANSI`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sqlmode_ansi) SQL mode to        ensure MySQL correctly interprets the standard SQL concatenation        operator, the double bar (`||`), in your        queries. If you then create a view that concatenates items, you        might worry that changing the        [`sql_mode`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_sql_mode) setting to a value        different from [`ANSI`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sqlmode_ansi) could        cause the view to become invalid. But this is not the case. No        matter how you write out a view definition, MySQL always stores        it the same way, in a canonical form. Here is an example that        shows how the server changes a double bar concatenation operator        to a [`CONCAT()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_concat) function:      

```
mysql> SET sql_mode = 'ANSI';
Query OK, 0 rows affected (0.00 sec)

mysql> CREATE VIEW test.v AS SELECT 'a' || 'b' as col1;
Query OK, 0 rows affected (0.01 sec)

mysql> SHOW CREATE VIEW test.v\G
*************************** 1. row ***************************
                View: v
         Create View: CREATE VIEW "v" AS select concat('a','b') AS "col1"
...
1 row in set (0.00 sec)

```

​        The advantage of storing a view definition in canonical form is        that changes made later to the value of        [`sql_mode`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_sql_mode) will not affect the        results from the view. However an additional consequence is that        comments prior to [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) are        stripped from the definition by the server.

#### 13.7.5.15 SHOW DATABASES Syntax

```
SHOW {DATABASES | SCHEMAS}
    [LIKE 'pattern' | WHERE expr]

```

​        [`SHOW DATABASES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-databases) lists the        databases on the MySQL server host.        [`SHOW        SCHEMAS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-databases) is a synonym for [`SHOW        DATABASES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-databases). The [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like)        clause, if present, indicates which database names to match. The        `WHERE` clause can be given to select rows        using more general conditions, as discussed in        [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

​        You see only those databases for which you have some kind of        privilege, unless you have the global [`SHOW        DATABASES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-databases) privilege. You can also get this list using        the [**mysqlshow**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlshow) command.      

​        If the server was started with the        [`--skip-show-database`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#option_mysqld_skip-show-database) option, you        cannot use this statement at all unless you have the        [`SHOW DATABASES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_show-databases) privilege.      

​        MySQL implements databases as directories in the data directory,        so this statement simply lists directories in that location.        However, the output may include names of directories that do not        correspond to actual databases.

#### 13.7.5.16 SHOW ENGINE Syntax

```
SHOW ENGINE engine_name {STATUS | MUTEX}

```

​        [`SHOW ENGINE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engine) displays operational        information about a storage engine. It requires the        [`PROCESS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_process) privilege. The statement        has these variants:      

```
SHOW ENGINE INNODB STATUS
SHOW ENGINE INNODB MUTEX
SHOW ENGINE {NDB | NDBCLUSTER} STATUS
SHOW ENGINE PERFORMANCE_SCHEMA STATUS

```

​        [`SHOW ENGINE INNODB        STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engine) displays extensive information from the        standard `InnoDB` Monitor about the state of        the `InnoDB` storage engine. For information        about the standard monitor and other `InnoDB`        Monitors that provide information about        `InnoDB` processing, see        [Section 14.20, “InnoDB Monitors”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/innodb-storage-engine.html#innodb-monitors).      

​        [`SHOW ENGINE INNODB        MUTEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engine) displays `InnoDB`        [mutex](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_mutex) and        [rw-lock](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_rw_lock) statistics.        Statement output has the following columns:

- ​            `Type`          

  ​            Always `InnoDB`.          

- ​            `Name`          

  ​            The source file where the mutex is implemented, and the line            number in the file where the mutex is created. The line            number is specific to your version of MySQL.          

- ​            `Status`          

  ​            The mutex status. This field displays several values if            `UNIV_DEBUG` was defined at MySQL            compilation time (for example, in            `include/univ.i` in the            `InnoDB` part of the MySQL source tree). If            `UNIV_DEBUG` was not defined, the statement            displays only the `os_waits` value. In the            latter case (without `UNIV_DEBUG`), the            information on which the output is based is insufficient to            distinguish regular mutexes and mutexes that protect            rw-locks (which permit multiple readers or a single writer).            Consequently, the output may appear to contain multiple rows            for the same mutex.

  - ​                `count` indicates how many times the                mutex was requested.              
  - ​                `spin_waits` indicates how many times                the spinlock had to run.              
  - ​                `spin_rounds` indicates the number of                spinlock rounds. (`spin_rounds` divided                by `spin_waits` provides the average                round count.)              
  - ​                `os_waits` indicates the number of                operating system waits. This occurs when the spinlock                did not work (the mutex was not locked during the                spinlock and it was necessary to yield to the operating                system and wait).              
  - ​                `os_yields` indicates the number of                times a thread trying to lock a mutex gave up its                timeslice and yielded to the operating system (on the                presumption that permitting other threads to run will                free the mutex so that it can be locked).              
  - ​                `os_wait_times` indicates the amount of                time (in ms) spent in operating system waits. In MySQL                5.5 timing is disabled and this value is                always 0.

​        `SHOW ENGINE INNODB MUTEX` skips the        [mutexes](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_mutex) and        [rw-locks](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_rw_lock) of        [buffer pool](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_buffer_pool) blocks, as        the amount of output can be overwhelming on systems with a large        buffer pool. (There is one mutex and one rw-lock in each 16K        buffer pool block, and there are 65,536 blocks per gigabyte.)        `SHOW ENGINE INNODB MUTEX` also does not list        any mutexes or rw-locks that have never been waited on        (`os_waits=0`). Thus, `SHOW ENGINE        INNODB MUTEX` only displays information about mutexes        and rw-locks outside of the buffer pool that have caused at        least one OS-level [wait](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_wait).      

​        `SHOW ENGINE INNODB MUTEX` information can be        used to diagnose system problems. For example, large values of        `spin_waits` and `spin_rounds`        may indicate scalability problems.      

​        Use [`SHOW ENGINE        PERFORMANCE_SCHEMA STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engine) to inspect the internal        operation of the Performance Schema code:      

```
mysql> SHOW ENGINE PERFORMANCE_SCHEMA STATUS\G
...
*************************** 3. row ***************************
  Type: performance_schema
  Name: events_waits_history.row_size
Status: 76
*************************** 4. row ***************************
  Type: performance_schema
  Name: events_waits_history.row_count
Status: 10000
*************************** 5. row ***************************
  Type: performance_schema
  Name: events_waits_history.memory
Status: 760000
...
*************************** 57. row ***************************
  Type: performance_schema
  Name: performance_schema.memory
Status: 26459600
...

```

​        This statement is intended to help the DBA understand the        effects that different Performance Schema options have on memory        requirements.      

​        `Name` values consist of two parts, which name        an internal buffer and a buffer attribute, respectively.        Interpret buffer names as follows:

- ​            An internal buffer that is not exposed as a table is named            within parentheses. Examples:            `(pfs_cond_class).row_size`,            `(pfs_mutex_class).memory`.          
- ​            An internal buffer that is exposed as a table in the            `performance_schema` database is named            after the table, without parentheses. Examples:            `events_waits_history.row_size`,            `mutex_instances.row_count`.          
- ​            A value that applies to the Performance Schema as a whole            begins with `performance_schema`. Example:            `performance_schema.memory`.

​        Buffer attributes have these meanings:

- ​            `row_size` is the size of the internal            record used by the implementation, such as the size of a row            in a table. `row_size` values cannot be            changed.          
- ​            `row_count` is the number of internal            records, such as the number of rows in a table.            `row_count` values can be changed using            Performance Schema configuration options.          
- ​            For a table,            `*tbl_name*.memory`            is the product of `row_size` and            `row_count`. For the Performance Schema as            a whole, `performance_schema.memory` is the            sum of all the memory used (the sum of all other            `memory` values).

​        In some cases, there is a direct relationship between a        Performance Schema configuration parameter and a `SHOW        ENGINE` value. For example,        `events_waits_history_long.row_count`        corresponds to        [`performance_schema_events_waits_history_long_size`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/performance-schema.html#sysvar_performance_schema_events_waits_history_long_size).        In other cases, the relationship is more complex. For example,        `events_waits_history.row_count` corresponds to        [`performance_schema_events_waits_history_size`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/performance-schema.html#sysvar_performance_schema_events_waits_history_size)        (the number of rows per thread) multiplied by        [`performance_schema_max_thread_instances`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/performance-schema.html#sysvar_performance_schema_max_thread_instances)        ( the number of threads).      

​        If the server has the [`NDBCLUSTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html)        storage engine enabled,        [`SHOW ENGINE NDB        STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engine) displays cluster status information such as the        number of connected data nodes, the cluster connectstring, and        cluster binary log epochs, as well as counts of various Cluster        API objects created by the MySQL Server when connected to the        cluster. Sample output from this statement is shown here:      

```
mysql> SHOW ENGINE NDB STATUS;
+------------+-----------------------+--------------------------------------------------+
| Type       | Name                  | Status                                           |
+------------+-----------------------+--------------------------------------------------+
| ndbcluster | connection            | cluster_node_id=7,
  connected_host=198.51.100.103, connected_port=1186, number_of_data_nodes=4,
  number_of_ready_data_nodes=3, connect_count=0                                         |
| ndbcluster | NdbTransaction        | created=6, free=0, sizeof=212                    |
| ndbcluster | NdbOperation          | created=8, free=8, sizeof=660                    |
| ndbcluster | NdbIndexScanOperation | created=1, free=1, sizeof=744                    |
| ndbcluster | NdbIndexOperation     | created=0, free=0, sizeof=664                    |
| ndbcluster | NdbRecAttr            | created=1285, free=1285, sizeof=60               |
| ndbcluster | NdbApiSignal          | created=16, free=16, sizeof=136                  |
| ndbcluster | NdbLabel              | created=0, free=0, sizeof=196                    |
| ndbcluster | NdbBranch             | created=0, free=0, sizeof=24                     |
| ndbcluster | NdbSubroutine         | created=0, free=0, sizeof=68                     |
| ndbcluster | NdbCall               | created=0, free=0, sizeof=16                     |
| ndbcluster | NdbBlob               | created=1, free=1, sizeof=264                    |
| ndbcluster | NdbReceiver           | created=4, free=0, sizeof=68                     |
| ndbcluster | binlog                | latest_epoch=155467, latest_trans_epoch=148126,
  latest_received_binlog_epoch=0, latest_handled_binlog_epoch=0,
  latest_applied_binlog_epoch=0                                                         |
+------------+-----------------------+--------------------------------------------------+

```

​        The rows with `connection` and        `binlog` in the `Name` column        were added to the output of this statement in MySQL 5.1. The        `Status` column in each of these rows provides        information about the MySQL server's connection to the cluster        and about the cluster binary log's status, respectively. The        `Status` information is in the form of        comma-delimited set of name/value pairs.      

​        The `connection` row's        `Status` column contains the name/value pairs        described in the following table.

| Name                         | Value                                    |
| ---------------------------- | ---------------------------------------- |
| `cluster_node_id`            | The node ID of the MySQL server in the cluster |
| `connected_host`             | The host name or IP address of the cluster management server to which                the MySQL server is connected |
| `connected_port`             | The port used by the MySQL server to connect to the management server                (`connected_host`) |
| `number_of_data_nodes`       | The number of data nodes configured for the cluster (that is, the number                of `[ndbd]` sections in the cluster                `config.ini` file) |
| `number_of_ready_data_nodes` | The number of data nodes in the cluster that are actually running |
| `connect_count`              | The number of times this [**mysqld**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqld) has connected orreconnected to cluster data nodes |

​        The `binlog` row's `Status`        column contains information relating to NDB Cluster Replication.        The name/value pairs it contains are described in the following        table.

| Name                           | Value                                    |
| ------------------------------ | ---------------------------------------- |
| `latest_epoch`                 | The most recent epoch most recently run on this MySQL server (that is,                the sequence number of the most recent transaction run                on the server) |
| `latest_trans_epoch`           | The most recent epoch processed by the cluster's data nodes |
| `latest_received_binlog_epoch` | The most recent epoch received by the binary log thread |
| `latest_handled_binlog_epoch`  | The most recent epoch processed by the binary log thread (for writing tothe binary log) |
| `latest_applied_binlog_epoch`  | The most recent epoch actually written to the binlog |

​        See [Section 18.6, “NDB Cluster Replication”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html#mysql-cluster-replication), for more        information.      

​        The remaining rows from the output of        [`SHOW ENGINE NDB        STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engine) which are most likely to prove useful in        monitoring the cluster are listed here by        `Name`:

- ​            `NdbTransaction`: The number and size of            `NdbTransaction` objects that have been            created. An `NdbTransaction` is created            each time a table schema operation (such as            [`CREATE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table) or            [`ALTER TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table)) is performed on            an [`NDB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html) table.          
- ​            `NdbOperation`: The number and size of            `NdbOperation` objects that have been            created.          
- ​            `NdbIndexScanOperation`: The number and            size of `NdbIndexScanOperation` objects            that have been created.          
- ​            `NdbIndexOperation`: The number and size of            `NdbIndexOperation` objects that have been            created.          
- ​            `NdbRecAttr`: The number and size of            `NdbRecAttr` objects that have been            created. In general, one of these is created each time a            data manipulation statement is performed by an SQL node.          
- ​            `NdbBlob`: The number and size of            `NdbBlob` objects that have been created.            An `NdbBlob` is created for each new            operation involving a [`BLOB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#blob)            column in an [`NDB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html) table.          
- ​            `NdbReceiver`: The number and size of any            `NdbReceiver` object that have been            created. The number in the `created` column            is the same as the number of data nodes in the cluster to            which the MySQL server has connected.

Note

​          [`SHOW ENGINE NDB          STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engine) returns an empty result if no operations          involving [`NDB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html) tables have been          performed during the current session by the MySQL client          accessing the SQL node on which this statement is run.

#### 13.7.5.17 SHOW ENGINES Syntax

```
SHOW [STORAGE] ENGINES

```

​        [`SHOW ENGINES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engines) displays status        information about the server's storage engines. This is        particularly useful for checking whether a storage engine is        supported, or to see what the default engine is. This        information can also be obtained from the        `INFORMATION_SCHEMA`        [`ENGINES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#engines-table) table. See        [Section 21.6, “The INFORMATION_SCHEMA ENGINES Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#engines-table).      

```
mysql> SHOW ENGINES\G
*************************** 1. row ***************************
      Engine: FEDERATED
     Support: NO
     Comment: Federated MySQL storage engine
Transactions: NULL
          XA: NULL
  Savepoints: NULL
*************************** 2. row ***************************
      Engine: MRG_MYISAM
     Support: YES
     Comment: Collection of identical MyISAM tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 3. row ***************************
      Engine: MyISAM
     Support: YES
     Comment: MyISAM storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 4. row ***************************
      Engine: BLACKHOLE
     Support: YES
     Comment: /dev/null storage engine (anything you write to it disappears)
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 5. row ***************************
      Engine: CSV
     Support: YES
     Comment: CSV storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 6. row ***************************
      Engine: MEMORY
     Support: YES
     Comment: Hash based, stored in memory, useful for temporary tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 7. row ***************************
      Engine: ARCHIVE
     Support: YES
     Comment: Archive storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 8. row ***************************
      Engine: InnoDB
     Support: DEFAULT
     Comment: Supports transactions, row-level locking, and foreign keys
Transactions: YES
          XA: YES
  Savepoints: YES
*************************** 9. row ***************************
      Engine: PERFORMANCE_SCHEMA
     Support: YES
     Comment: Performance Schema
Transactions: NO
          XA: NO
  Savepoints: NO

```

​        The output from [`SHOW ENGINES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-engines) may        vary according to the MySQL version used and other factors. The        values shown in the `Support` column indicate        the server's level of support for the storage engine, as shown        in the following table.

| Value      | Meaning                                  |
| ---------- | ---------------------------------------- |
| `YES`      | The engine is supported and is active    |
| `DEFAULT`  | Like `YES`, plus this is the default engine |
| `NO`       | The engine is not supported              |
| `DISABLED` | The engine is supported but has been disabled |

​        A value of `NO` means that the server was        compiled without support for the engine, so it cannot be enabled        at runtime.      

​        A value of `DISABLED` occurs either because the        server was started with an option that disables the engine, or        because not all options required to enable it were given. In the        latter case, the error log should contain a reason indicating        why the option is disabled. See [Section 5.4.2, “The Error Log”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#error-log).      

​        You might also see `DISABLED` for a storage        engine if the server was compiled to support it, but was started        with a        `--skip-*engine_name*`        option. For the [`NDBCLUSTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html) storage        engine, `DISABLED` means the server was        compiled with support for NDB Cluster, but was not started with        the [`--ndbcluster`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html#option_mysqld_ndbcluster) option.      

​        All MySQL servers support `MyISAM` tables. It        is not possible to disable `MyISAM`.      

​        The `Transactions`, `XA`, and        `Savepoints` columns indicate whether the        storage engine supports transactions, XA transactions, and        savepoints, respectively.

#### 13.7.5.18 SHOW ERRORS Syntax

```
SHOW ERRORS [LIMIT [offset,] row_count]
SHOW COUNT(*) ERRORS

```

​        [`SHOW ERRORS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-errors) is a diagnostic        statement that is similar to [`SHOW        WARNINGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings), except that it displays information only for        errors, rather than for errors, warnings, and notes.      

​        The `LIMIT` clause has the same syntax as for        the [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) statement. See        [Section 13.2.9, “SELECT Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select).      

​        The [`SHOW COUNT(*)        ERRORS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-errors) statement displays the number of errors. You        can also retrieve this number from the        [`error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_error_count) variable:      

```
SHOW COUNT(*) ERRORS;
SELECT @@error_count;

```

​        [`SHOW ERRORS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-errors) and        [`error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_error_count) apply only to        errors, not warnings or notes. In other respects, they are        similar to [`SHOW WARNINGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings) and        [`warning_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_warning_count). In particular,        [`SHOW ERRORS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-errors) cannot display        information for more than        [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count) messages, and        [`error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_error_count) can exceed the        value of [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count) if the        number of errors exceeds        [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count).      

​        For more information, see [Section 13.7.5.41, “SHOW WARNINGS Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings).

#### 13.7.5.19 SHOW EVENTS Syntax

```
SHOW EVENTS
    [{FROM | IN} schema_name]
    [LIKE 'pattern' | WHERE expr]

```

​        This statement displays information about Event Manager events.        It requires the [`EVENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_event) privilege        for the database from which the events are to be shown.      

​        In its simplest form, [`SHOW EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-events)        lists all of the events in the current schema:      

```
mysql> SELECT CURRENT_USER(), SCHEMA();
+----------------+----------+
| CURRENT_USER() | SCHEMA() |
+----------------+----------+
| jon@ghidora    | myschema |
+----------------+----------+
1 row in set (0.00 sec)

mysql> SHOW EVENTS\G
*************************** 1. row ***************************
                  Db: myschema
                Name: e_daily
             Definer: jon@ghidora
           Time zone: SYSTEM
                Type: RECURRING
          Execute at: NULL
      Interval value: 10
      Interval field: SECOND
              Starts: 2006-02-09 10:41:23
                Ends: NULL
              Status: ENABLED
          Originator: 0
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci

```

​        To see events for a specific schema, use the        `FROM` clause. For example, to see events for        the `test` schema, use the following statement:      

```
SHOW EVENTS FROM test;

```

​        The [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if present,        indicates which event names to match. The        `WHERE` clause can be given to select rows        using more general conditions, as discussed in        [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

​        [`SHOW EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-events) output has the        following columns:

- ​            `Db`: The schema (database) on which the            event is defined.          

- ​            `Name`: The name of the event.          

- ​            `Time zone`: The event time zone, which is            the time zone used for scheduling the event and that is in            effect within the event as it executes. The default value is            `SYSTEM`.          

- ​            `Definer`: The account of the user who            created the event, in            `'*user_name*'@'*host_name*'`            format.          

- ​            `Type`: The event repetition type, either            `ONE TIME` (transient) or            `RECURRING` (repeating).          

- ​            `Execute At`: The date and time when a            transient event is set to execute. Shown as a            [`DATETIME`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#datetime) value.          

  ​            For a recurring event, the value of this column is always            `NULL`.          

- ​            `Interval Value`: For a recurring event,            the number of intervals to wait between event executions.          

  ​            For a transient event, the value of this column is always            `NULL`.          

- ​            `Interval Field`: The time units used for            the interval which a recurring event waits before repeating.          

  ​            For a transient event, the value of this column is always            `NULL`.          

- ​            `Starts`: The start date and time for a            recurring event. This is displayed as a            [`DATETIME`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#datetime) value, and is            `NULL` if no start date and time are            defined for the event.          

  ​            For a transient event, this column is always            `NULL`.          

- ​            `Ends`: The end date and time for a            recurring event. This is displayed as a            [`DATETIME`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#datetime) value, and defaults            to `NULL` if no end date and time is            defined for the event.          

  ​            For a transient event, this column is always            `NULL`.          

- ​            `Status`: The event status. One of            `ENABLED`, `DISABLED`, or            `SLAVESIDE_DISABLED`.          

  ​            `SLAVESIDE_DISABLED` indicates that the            creation of the event occurred on another MySQL server            acting as a replication master and replicated to the current            MySQL server which is acting as a slave, but the event is            not presently being executed on the slave.          

- ​            `Originator`: The server ID of the MySQL            server on which the event was created. Defaults to 0.          

- ​            `character_set_client` is the session value            of the [`character_set_client`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_client)            system variable when the routine was created.            `collation_connection` is the session value            of the [`collation_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_collation_connection)            system variable when the routine was created.            `Database Collation` is the collation of            the database with which the routine is associated.

​        For more information about `SLAVE_DISABLED` and        the `Originator` column, see        [Section 17.4.1.15, “Replication of Invoked Features”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#replication-features-invoked).      

​        The event action statement is not shown in the output of        [`SHOW EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-events). Use        [`SHOW CREATE EVENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-create-event) or the        [`INFORMATION_SCHEMA.EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#events-table) table.      

​        Times displayed by [`SHOW EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-events)        are given in the event time zone, as discussed in        [Section 20.4.4, “Event Metadata”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/stored-programs-views.html#events-metadata).      

​        The columns in the output of [`SHOW        EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-events) are similar to, but not identical to the        columns in the        [`INFORMATION_SCHEMA.EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#events-table) table.        See [Section 21.7, “The INFORMATION_SCHEMA EVENTS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#events-table).

#### 13.7.5.20 SHOW FUNCTION CODE Syntax

```
SHOW FUNCTION CODE func_name

```

​        This statement is similar to [`SHOW PROCEDURE        CODE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-procedure-code) but for stored functions. See        [Section 13.7.5.28, “SHOW PROCEDURE CODE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-procedure-code).

#### 13.7.5.21 SHOW FUNCTION STATUS Syntax

```
SHOW FUNCTION STATUS
    [LIKE 'pattern' | WHERE expr]

```

​        This statement is similar to [`SHOW PROCEDURE        STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-procedure-status) but for stored functions. See        [Section 13.7.5.29, “SHOW PROCEDURE STATUS Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-procedure-status).

#### 13.7.5.22 SHOW GRANTS Syntax

```
SHOW GRANTS [FOR user]

```

​        This statement displays the privileges that are assigned to a        MySQL user account, in the form of        [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statements that must be        executed to duplicate the privilege assignments.      

​        [`SHOW GRANTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants) requires the        [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_select) privilege for the        `mysql` database, except to display privileges        for the current user. For output that includes an        `IDENTIFIED BY PASSWORD` clause displaying an        account password hash value, the        [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege is required to        see the actual hash value. Otherwise, the value displays as        `<secret>`.      

​        To name the account for [`SHOW        GRANTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants), use the same format as for the        [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant) statement; for example,        `'jeffrey'@'localhost'`:      

```
mysql> SHOW GRANTS FOR 'jeffrey'@'localhost';
+------------------------------------------------------------------+
| Grants for jeffrey@localhost                                     |
+------------------------------------------------------------------+
| GRANT USAGE ON *.* TO `jeffrey`@`localhost`                      |
| GRANT SELECT, INSERT, UPDATE ON `db1`.* TO `jeffrey`@`localhost` |
+------------------------------------------------------------------+

```

​        The host part, if omitted, defaults to `'%'`.        For additional information about specifying account names, see        [Section 6.2.3, “Specifying Account Names”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#account-names).      

​        To display the privileges granted to the current user (the        account you are using to connect to the server), you can use any        of the following statements:      

```
SHOW GRANTS;
SHOW GRANTS FOR CURRENT_USER;
SHOW GRANTS FOR CURRENT_USER();

```

​        If `SHOW GRANTS FOR CURRENT_USER` (or any of        the equivalent syntaxes) is used in definer context, such as        within a stored procedure that executes with definer rather than        invoker privileges), the grants displayed are those of the        definer and not the invoker.      

​        [`SHOW GRANTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants) does not display        privileges that are available to the named account but are        granted to a different account. For example, if an anonymous        account exists, the named account might be able to use its        privileges, but [`SHOW GRANTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants) does        not display them.

#### 13.7.5.23 SHOW INDEX Syntax

```
SHOW {INDEX | INDEXES | KEYS}
    {FROM | IN} tbl_name
    [{FROM | IN} db_name]
    [WHERE expr]

```

​        [`SHOW INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-index) returns table index        information. The format resembles that of the        `SQLStatistics` call in ODBC. This statement        requires some privilege for any column in the table.      

​        You can use        *db_name*.*tbl_name*        as an alternative to the        `*tbl_name* FROM        *db_name*` syntax. These two        statements are equivalent:      

```
SHOW INDEX FROM mytable FROM mydb;
SHOW INDEX FROM mydb.mytable;

```

​        The `WHERE` clause can be given to select rows        using more general conditions, as discussed in        [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

```
mysql> SHOW INDEX FROM City\G
*************************** 1. row ***************************
        Table: city
   Non_unique: 0
     Key_name: PRIMARY
 Seq_in_index: 1
  Column_name: ID
    Collation: A
  Cardinality: 4321
     Sub_part: NULL
       Packed: NULL
         Null: 
   Index_type: BTREE
      Comment: 
Index_comment: 
*************************** 2. row ***************************
        Table: city
   Non_unique: 1
     Key_name: CountryCode
 Seq_in_index: 1
  Column_name: CountryCode
    Collation: A
  Cardinality: 4321
     Sub_part: NULL
       Packed: NULL
         Null: 
   Index_type: BTREE
      Comment: 
Index_comment: 

```

​        [`SHOW INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-index) returns the following        fields:

- ​            `Table`          

  ​            The name of the table.          

- ​            `Non_unique`          

  ​            0 if the index cannot contain duplicates, 1 if it can.          

- ​            `Key_name`          

  ​            The name of the index. If the index is the primary key, the            name is always `PRIMARY`.          

- ​            `Seq_in_index`          

  ​            The column sequence number in the index, starting with 1.          

- ​            `Column_name`          

  ​            The column name.          

- ​            `Collation`          

  ​

  ​            How the column is sorted in the index. This can have values            `A` (ascending) or `NULL`            (not sorted).          

- ​            `Cardinality`          

  ​

  ​

  ​            An estimate of the number of unique values in the index. To            update this number, run [`ANALYZE            TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#analyze-table) or (for `MyISAM` tables)            [**myisamchk -a**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk).          

  ​            `Cardinality` is counted based on            statistics stored as integers, so the value is not            necessarily exact even for small tables. The higher the            cardinality, the greater the chance that MySQL uses the            index when doing joins.          

- ​            `Sub_part`          

  ​            The index prefix. That is, the number of indexed characters            if the column is only partly indexed,            `NULL` if the entire column is indexed.

  Note

  ​              Prefix limits are measured in bytes, whereas the prefix              length in [`CREATE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table),              [`ALTER TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table), and              [`CREATE INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-index) statements is              interpreted as number of characters for nonbinary string              types ([`CHAR`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#char),              [`VARCHAR`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#char),              [`TEXT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#blob)) and number of bytes              for binary string types              ([`BINARY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#binary-varbinary),              [`VARBINARY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#binary-varbinary),              [`BLOB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#blob)). Take this into              account when specifying a prefix length for a nonbinary              string column that uses a multibyte character set.

  ​            For additional information about index prefixes, see            [Section 8.3.4, “Column Indexes”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#column-indexes), and            [Section 13.1.13, “CREATE INDEX Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-index).          

- ​            `Packed`          

  ​            Indicates how the key is packed. `NULL` if            it is not.          

- ​            `Null`          

  ​            Contains `YES` if the column may contain            `NULL` values and `''` if            not.          

- ​            `Index_type`          

  ​            The index method used (`BTREE`,            `FULLTEXT`, `HASH`,            `RTREE`).          

- ​            `Comment`          

  ​            Information about the index not described in its own column,            such as `disabled` if the index is            disabled.          

- ​            `Index_comment`          

  ​            Any comment provided for the index with a            `COMMENT` attribute when the index was            created.

​        You can also obtain information about table indexes from        `INFORMATION_SCHEMA`, which contains a        [`STATISTICS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#statistics-table) table. See        [Section 21.20, “The INFORMATION_SCHEMA STATISTICS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#statistics-table).      

​        You can list a table's indexes with the [**mysqlshow -k        db_name        tbl_name**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlshow) command.

#### 13.7.5.24 SHOW MASTER STATUS Syntax

```
SHOW MASTER STATUS

```

​        This statement provides status information about the binary log        files of the master. It requires either the        [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) or        [`REPLICATION CLIENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_replication-client) privilege.      

​        Example:      

```
mysql> SHOW MASTER STATUS;
+---------------+----------+--------------+------------------+
| File          | Position | Binlog_Do_DB | Binlog_Ignore_DB |
+---------------+----------+--------------+------------------+
| mysql-bin.003 | 73       | test         | manual,mysql     |
+---------------+----------+--------------+------------------+

```

#### 13.7.5.25 SHOW OPEN TABLES Syntax

```
SHOW OPEN TABLES
    [{FROM | IN} db_name]
    [LIKE 'pattern' | WHERE expr]

```

​        [`SHOW OPEN TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-open-tables) lists the        non-`TEMPORARY` tables that are currently open        in the table cache. See [Section 8.4.3.1, “How MySQL Opens and Closes Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#table-cache). The        `FROM` clause, if present, restricts the tables        shown to those present in the *db_name*        database. The [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if        present, indicates which table names to match. The        `WHERE` clause can be given to select rows        using more general conditions, as discussed in        [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

​        [`SHOW OPEN TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-open-tables) output has the        following columns:

- ​            `Database`          

  ​            The database containing the table.          

- ​            `Table`          

  ​            The table name.          

- ​            `In_use`          

  ​            The number of table locks or lock requests there are for the            table. For example, if one client acquires a lock for a            table using `LOCK TABLE t1 WRITE`,            `In_use` will be 1. If another client            issues `LOCK TABLE t1 WRITE` while the            table remains locked, the client will block waiting for the            lock, but the lock request causes `In_use`            to be 2. If the count is zero, the table is open but not            currently being used. `In_use` is also            increased by the            [`HANDLER ...            OPEN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#handler) statement and decreased by            [`HANDLER ...            CLOSE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#handler).          

- ​            `Name_locked`          

  ​            Whether the table name is locked. Name locking is used for            operations such as dropping or renaming tables.

​        If you have no privileges for a table, it does not show up in        the output from [`SHOW OPEN TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-open-tables).

#### 13.7.5.26 SHOW PLUGINS Syntax

```
SHOW PLUGINS

```

​        [`SHOW PLUGINS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-plugins) displays information        about server plugins. Plugin information is also available in        the `INFORMATION_SCHEMA.PLUGINS` table. See        [Section 21.13, “The INFORMATION_SCHEMA PLUGINS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#plugins-table).      

​        Example of [`SHOW PLUGINS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-plugins) output:      

```
mysql> SHOW PLUGINS\G
*************************** 1. row ***************************
   Name: binlog
 Status: ACTIVE
   Type: STORAGE ENGINE
Library: NULL
License: GPL
*************************** 2. row ***************************
   Name: CSV
 Status: ACTIVE
   Type: STORAGE ENGINE
Library: NULL
License: GPL
*************************** 3. row ***************************
   Name: MEMORY
 Status: ACTIVE
   Type: STORAGE ENGINE
Library: NULL
License: GPL
*************************** 4. row ***************************
   Name: MyISAM
 Status: ACTIVE
   Type: STORAGE ENGINE
Library: NULL
License: GPL
...

```

​        [`SHOW PLUGINS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-plugins) output has the        following columns:

- ​            `Name`: The name used to refer to the            plugin in statements such as [`INSTALL            PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) and [`UNINSTALL            PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin).          
- ​            `Status`: The plugin status, one of            `ACTIVE`, `INACTIVE`,            `DISABLED`, or `DELETED`.          
- ​            `Type`: The type of plugin, such as            `STORAGE ENGINE`,            `INFORMATION_SCHEMA`, or            `AUTHENTICATION`.          
- ​            `Library`: The name of the plugin shared            library file. This is the name used to refer to the plugin            file in statements such as [`INSTALL            PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) and [`UNINSTALL            PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin). This file is located in the directory            named by the [`plugin_dir`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_plugin_dir)            system variable. If the library name is            `NULL`, the plugin is compiled in and            cannot be uninstalled with [`UNINSTALL            PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin).          
- ​            `License`: How the plugin is licensed; for            example, `GPL`.

​        For plugins installed with [`INSTALL        PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin), the `Name` and        `Library` values are also registered in the        `mysql.plugin` table.      

​        For information about plugin data structures that form the basis        of the information displayed by [`SHOW        PLUGINS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-plugins), see [Section 24.2, “The MySQL Plugin API”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/extending-mysql.html#plugin-api).

#### 13.7.5.27 SHOW PRIVILEGES Syntax

```
SHOW PRIVILEGES

```

​        [`SHOW PRIVILEGES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-privileges) shows the list of        system privileges that the MySQL server supports. The exact list        of privileges depends on the version of your server.      

```
mysql> SHOW PRIVILEGES\G
*************************** 1. row ***************************
Privilege: Alter
  Context: Tables
  Comment: To alter the table
*************************** 2. row ***************************
Privilege: Alter routine
  Context: Functions,Procedures
  Comment: To alter or drop stored functions/procedures
*************************** 3. row ***************************
Privilege: Create
  Context: Databases,Tables,Indexes
  Comment: To create new databases and tables
*************************** 4. row ***************************
Privilege: Create routine
  Context: Databases
  Comment: To use CREATE FUNCTION/PROCEDURE
*************************** 5. row ***************************
Privilege: Create temporary tables
  Context: Databases
  Comment: To use CREATE TEMPORARY TABLE
...

```

​        Privileges belonging to a specific user are displayed by the        [`SHOW GRANTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants) statement. See        [Section 13.7.5.22, “SHOW GRANTS Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-grants), for more information.

#### 13.7.5.28 SHOW PROCEDURE CODE Syntax

```
SHOW PROCEDURE CODE proc_name

```

​        This statement is a MySQL extension that is available only for        servers that have been built with debugging support. It displays        a representation of the internal implementation of the named        stored procedure. A similar statement, [`SHOW        FUNCTION CODE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-function-code), displays information about stored        functions (see [Section 13.7.5.20, “SHOW FUNCTION CODE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-function-code)).      

​        To use either statement, you must be the owner of the routine or        have [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) access to the        `mysql.proc` table.      

​        If the named routine is available, each statement produces a        result set. Each row in the result set corresponds to one        “instruction” in the routine. The first column is        `Pos`, which is an ordinal number beginning        with 0. The second column is `Instruction`,        which contains an SQL statement (usually changed from the        original source), or a directive which has meaning only to the        stored-routine handler.      

```
mysql> DELIMITER //
mysql> CREATE PROCEDURE p1 ()
    -> BEGIN
    ->   DECLARE fanta INT DEFAULT 55;
    ->   DROP TABLE t2;
    ->   LOOP
    ->     INSERT INTO t3 VALUES (fanta);
    ->     END LOOP;
    ->   END//
Query OK, 0 rows affected (0.00 sec)

mysql> SHOW PROCEDURE CODE p1//
+-----+----------------------------------------+
| Pos | Instruction                            |
+-----+----------------------------------------+
|   0 | set fanta@0 55                         |
|   1 | stmt 9 "DROP TABLE t2"                 |
|   2 | stmt 5 "INSERT INTO t3 VALUES (fanta)" |
|   3 | jump 2                                 |
+-----+----------------------------------------+
4 rows in set (0.00 sec)

```

​        In this example, the nonexecutable `BEGIN` and        `END` statements have disappeared, and for the        `DECLARE        *variable_name*` statement,        only the executable part appears (the part where the default is        assigned). For each statement that is taken from source, there        is a code word `stmt` followed by a type (9        means `DROP`, 5 means        [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#insert), and so on). The final row        contains an instruction `jump 2`, meaning        `GOTO instruction #2`.

#### 13.7.5.29 SHOW PROCEDURE STATUS Syntax

```
SHOW PROCEDURE STATUS
    [LIKE 'pattern' | WHERE expr]

```

​        This statement is a MySQL extension. It returns characteristics        of a stored procedure, such as the database, name, type,        creator, creation and modification dates, and character set        information. A similar statement, [`SHOW        FUNCTION STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-function-status), displays information about stored        functions (see [Section 13.7.5.21, “SHOW FUNCTION STATUS Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-function-status)).      

​        The [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if present,        indicates which procedure or function names to match. The        `WHERE` clause can be given to select rows        using more general conditions, as discussed in        [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

```
mysql> SHOW PROCEDURE STATUS LIKE 'sp1'\G
*************************** 1. row ***************************
                  Db: test
                Name: sp1
                Type: PROCEDURE
             Definer: testuser@localhost
            Modified: 2004-08-03 15:29:37
             Created: 2004-08-03 15:29:37
       Security_type: DEFINER
             Comment:
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci

```

​        `character_set_client` is the session value of        the [`character_set_client`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_client) system        variable when the routine was created.        `collation_connection` is the session value of        the [`collation_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_collation_connection) system        variable when the routine was created. `Database        Collation` is the collation of the database with which        the routine is associated.      

​        You can also get information about stored routines from the        [`ROUTINES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#routines-table) table in        `INFORMATION_SCHEMA`. See        [Section 21.17, “The INFORMATION_SCHEMA ROUTINES Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#routines-table).

#### 13.7.5.30 SHOW PROCESSLIST Syntax

```
SHOW [FULL] PROCESSLIST

```

​        [`SHOW PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist) shows you which        threads are running. You can also get this information from the        `INFORMATION_SCHEMA`        [`PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#processlist-table) table or the        [**mysqladmin processlist**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin) command. If you have        the [`PROCESS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_process) privilege, you can        see all threads. Otherwise, you can see only your own threads        (that is, threads associated with the MySQL account that you are        using). If you do not use the `FULL` keyword,        only the first 100 characters of each statement are shown in the        `Info` field.      

​        This statement is very useful if you get the “too many        connections” error message and want to find out what is        going on. MySQL reserves one extra connection to be used by        accounts that have the [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super)        privilege, to ensure that administrators should always be able        to connect and check the system (assuming that you are not        giving this privilege to all your users).      

​        Threads can be killed with the        [`KILL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill) statement. See        [Section 13.7.6.4, “KILL Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill).      

​        Here is an example of [`SHOW        PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist) output:      

```
mysql> SHOW FULL PROCESSLIST\G
*************************** 1. row ***************************
Id: 1
User: system user
Host:
db: NULL
Command: Connect
Time: 1030455
State: Waiting for master to send event
Info: NULL
*************************** 2. row ***************************
Id: 2
User: system user
Host:
db: NULL
Command: Connect
Time: 1004
State: Has read all relay log; waiting for the slave
       I/O thread to update it
Info: NULL
*************************** 3. row ***************************
Id: 3112
User: replikator
Host: artemis:2204
db: NULL
Command: Binlog Dump
Time: 2144
State: Has sent all binlog to slave; waiting for binlog to be updated
Info: NULL
*************************** 4. row ***************************
Id: 3113
User: replikator
Host: iconnect2:45781
db: NULL
Command: Binlog Dump
Time: 2086
State: Has sent all binlog to slave; waiting for binlog to be updated
Info: NULL
*************************** 5. row ***************************
Id: 3123
User: stefan
Host: localhost
db: apollon
Command: Query
Time: 0
State: NULL
Info: SHOW FULL PROCESSLIST
5 rows in set (0.00 sec)

```

​        The columns produced by [`SHOW        PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist) have the following meanings:

- ​            `Id`          

  ​            The connection identifier. This is the same type of value            displayed in the `ID` column of the            [`INFORMATION_SCHEMA.PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#processlist-table)            table, the `PROCESSLIST_ID` column of the            Performance Schema [`threads`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/performance-schema.html#threads-table)            table, and returned by the            [`CONNECTION_ID()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_connection-id) function.          

- ​            `User`          

  ​            The MySQL user who issued the statement. If this is            `system user`, it refers to a nonclient            thread spawned by the server to handle tasks internally.            This could be the I/O or SQL thread used on replication            slaves or a delayed-row handler. `unauthenticated            user` refers to a thread that has become associated            with a client connection but for which authentication of the            client user has not yet been done.            `event_scheduler` refers to the thread that            monitors scheduled events. For `system            user`, there is no host specified in the            `Host` column.          

- ​            `Host`          

  ​            The host name of the client issuing the statement (except            for `system user` where there is no host).            [`SHOW PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist) reports the            host name for TCP/IP connections in            `*host_name*:*client_port*`            format to make it easier to determine which client is doing            what.          

- ​            `db`          

  ​            The default database, if one is selected, otherwise            `NULL`.          

- ​            `Command`          

  ​            The type of command the thread is executing. For            descriptions for thread commands, see            [Section 8.14, “Examining Thread Information”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#thread-information). The value of this            column corresponds to the            `COM_*xxx*`            commands of the client/server protocol and            `Com_*xxx*` status            variables. See [Section 5.1.7, “Server Status Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-status-variables)          

- ​            `Time`          

  ​            The time in seconds that the thread has been in its current            state. For a slave SQL thread, the value is the number of            seconds between the timestamp of the last replicated event            and the real time of the slave machine. See            [Section 17.2.1, “Replication Implementation Details”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#replication-implementation-details).          

- ​            `State`          

  ​            An action, event, or state that indicates what the thread is            doing. Descriptions for `State` values can            be found at [Section 8.14, “Examining Thread Information”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#thread-information).          

  ​            Most states correspond to very quick operations. If a thread            stays in a given state for many seconds, there might be a            problem that needs to be investigated.          

  ​            For the [`SHOW PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist)            statement, the value of `State` is            `NULL`.          

- ​            `Info`          

  ​            The statement the thread is executing, or            `NULL` if it is not executing any            statement. The statement might be the one sent to the            server, or an innermost statement if the statement executes            other statements. For example, if a `CALL`            statement executes a stored procedure that is executing a            [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) statement, the            `Info` value shows the            [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) statement.

#### 13.7.5.31 SHOW PROFILE Syntax

```
SHOW PROFILE [type [, type] ... ]
    [FOR QUERY n]
    [LIMIT row_count [OFFSET offset]]

type:
    ALL
  | BLOCK IO
  | CONTEXT SWITCHES
  | CPU
  | IPC
  | MEMORY
  | PAGE FAULTS
  | SOURCE
  | SWAPS

```

​        The [`SHOW PROFILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profile) and        [`SHOW PROFILES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profiles) statements display        profiling information that indicates resource usage for        statements executed during the course of the current session.      

​        Profiling is controlled by the        [`profiling`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_profiling) session variable,        which has a default value of 0 (`OFF`).        Profiling is enabled by setting        [`profiling`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_profiling) to 1 or        `ON`:      

```
mysql> SET profiling = 1;

```

​        [`SHOW PROFILES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profiles) displays a list of        the most recent statements sent to the server. The size of the        list is controlled by the        [`profiling_history_size`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_profiling_history_size) session        variable, which has a default value of 15. The maximum value is        100. Setting the value to 0 has the practical effect of        disabling profiling.      

​        All statements are profiled except [`SHOW        PROFILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profile) and [`SHOW        PROFILES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profiles), so you will find neither of those statements        in the profile list. Malformed statements are profiled. For        example, `SHOW PROFILING` is an illegal        statement, and a syntax error occurs if you try to execute it,        but it will show up in the profiling list.      

​        [`SHOW PROFILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profile) displays detailed        information about a single statement. Without the `FOR        QUERY *n*` clause, the output        pertains to the most recently executed statement. If        `FOR QUERY *n*` is        included, [`SHOW PROFILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profile) displays        information for statement *n*. The        values of *n* correspond to the        `Query_ID` values displayed by        [`SHOW PROFILES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profiles).      

​        The `LIMIT        *row_count*` clause may be        given to limit the output to        *row_count* rows. If        `LIMIT` is given, `OFFSET        *offset*` may be added to        begin the output *offset* rows into the        full set of rows.      

​        By default, [`SHOW PROFILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profile) displays        `Status` and `Duration`        columns. The `Status` values are like the        `State` values displayed by        [`SHOW PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist), although there        might be some minor differences in interpretion for the two        statements for some status values (see        [Section 8.14, “Examining Thread Information”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#thread-information)).      

​        Optional *type* values may be specified        to display specific additional types of information:

- ​            `ALL` displays all information          
- ​            `BLOCK IO` displays counts for block input            and output operations          
- ​            `CONTEXT SWITCHES` displays counts for            voluntary and involuntary context switches          
- ​            `CPU` displays user and system CPU usage            times          
- ​            `IPC` displays counts for messages sent and            received          
- ​            `MEMORY` is not currently implemented          
- ​            `PAGE FAULTS` displays counts for major and            minor page faults          
- ​            `SOURCE` displays the names of functions            from the source code, together with the name and line number            of the file in which the function occurs          
- ​            `SWAPS` displays swap counts

​        Profiling is enabled per session. When a session ends, its        profiling information is lost.      

```
mysql> SELECT @@profiling;
+-------------+
| @@profiling |
+-------------+
|           0 |
+-------------+
1 row in set (0.00 sec)

mysql> SET profiling = 1;
Query OK, 0 rows affected (0.00 sec)

mysql> DROP TABLE IF EXISTS t1;
Query OK, 0 rows affected, 1 warning (0.00 sec)

mysql> CREATE TABLE T1 (id INT);
Query OK, 0 rows affected (0.01 sec)

mysql> SHOW PROFILES;
+----------+----------+--------------------------+
| Query_ID | Duration | Query                    |
+----------+----------+--------------------------+
|        0 | 0.000088 | SET PROFILING = 1        |
|        1 | 0.000136 | DROP TABLE IF EXISTS t1  |
|        2 | 0.011947 | CREATE TABLE t1 (id INT) |
+----------+----------+--------------------------+
3 rows in set (0.00 sec)

mysql> SHOW PROFILE;
+----------------------+----------+
| Status               | Duration |
+----------------------+----------+
| checking permissions | 0.000040 |
| creating table       | 0.000056 |
| After create         | 0.011363 |
| query end            | 0.000375 |
| freeing items        | 0.000089 |
| logging slow query   | 0.000019 |
| cleaning up          | 0.000005 |
+----------------------+----------+
7 rows in set (0.00 sec)

mysql> SHOW PROFILE FOR QUERY 1;
+--------------------+----------+
| Status             | Duration |
+--------------------+----------+
| query end          | 0.000107 |
| freeing items      | 0.000008 |
| logging slow query | 0.000015 |
| cleaning up        | 0.000006 |
+--------------------+----------+
4 rows in set (0.00 sec)

mysql> SHOW PROFILE CPU FOR QUERY 2;
+----------------------+----------+----------+------------+
| Status               | Duration | CPU_user | CPU_system |
+----------------------+----------+----------+------------+
| checking permissions | 0.000040 | 0.000038 |   0.000002 |
| creating table       | 0.000056 | 0.000028 |   0.000028 |
| After create         | 0.011363 | 0.000217 |   0.001571 |
| query end            | 0.000375 | 0.000013 |   0.000028 |
| freeing items        | 0.000089 | 0.000010 |   0.000014 |
| logging slow query   | 0.000019 | 0.000009 |   0.000010 |
| cleaning up          | 0.000005 | 0.000003 |   0.000002 |
+----------------------+----------+----------+------------+
7 rows in set (0.00 sec)

```

Note

​          Profiling is only partially functional on some architectures.          For values that depend on the `getrusage()`          system call, `NULL` is returned on systems          such as Windows that do not support the call. In addition,          profiling is per process and not per thread. This means that          activity on threads within the server other than your own may          affect the timing information that you see.

​        You can also get profiling information from the        [`PROFILING`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#profiling-table) table in        `INFORMATION_SCHEMA`. See        [Section 21.15, “The INFORMATION_SCHEMA PROFILING Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#profiling-table). For example, the following        queries produce the same result:      

```
SHOW PROFILE FOR QUERY 2;

SELECT STATE, FORMAT(DURATION, 6) AS DURATION
FROM INFORMATION_SCHEMA.PROFILING
WHERE QUERY_ID = 2 ORDER BY SEQ;

```

#### 13.7.5.32 SHOW PROFILES Syntax

```
SHOW PROFILES

```

​        The [`SHOW PROFILES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profiles) statement,        together with [`SHOW PROFILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profile),        displays profiling information that indicates resource usage for        statements executed during the course of the current session.        For more information, see [Section 13.7.5.31, “SHOW PROFILE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-profile).

#### 13.7.5.33 SHOW RELAYLOG EVENTS Syntax

```
SHOW RELAYLOG EVENTS
    [IN 'log_name']
    [FROM pos]
    [LIMIT [offset,] row_count]

```

​        Shows the events in the relay log of a replication slave. If you        do not specify        `'*log_name*'`, the        first relay log is displayed. This statement has no effect on        the master.      

​        The `LIMIT` clause has the same syntax as for        the [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) statement. See        [Section 13.2.9, “SELECT Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select).

Note

​          Issuing a [`SHOW RELAYLOG EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-relaylog-events)          with no `LIMIT` clause could start a very          time- and resource-consuming process because the server          returns to the client the complete contents of the relay log          (including all statements modifying data that have been          received by the slave).

Note

​          Some events relating to the setting of user and system          variables are not included in the output from          [`SHOW RELAYLOG EVENTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-relaylog-events). To get          complete coverage of events within a relay log, use          [**mysqlbinlog**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlbinlog).

#### 13.7.5.34 SHOW SLAVE HOSTS Syntax

```
SHOW SLAVE HOSTS

```

​        Displays a list of replication slaves currently registered with        the master.      

​        `SHOW SLAVE HOSTS` should be executed on a        server that acts as a replication master. The statement displays        information about servers that are or have been connected as        replication slaves, with each row of the result corresponding to        one slave server, as shown here:      

```
mysql> SHOW SLAVE HOSTS;
+------------+-----------+------+-----------+
| Server_id  | Host      | Port | Master_id |
+------------+-----------+------+-----------+
|  192168010 | iconnect2 | 3306 | 192168011 |
| 1921680101 | athena    | 3306 | 192168011 |
+------------+-----------+------+-----------+

```

- ​            `Server_id`: The unique server ID of the            slave server, as configured in the slave server's            option file, or on the command line with            [`--server-id=*value*`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_server-id).          

- ​            `Host`: The host name of the slave server            as specified on the slave with the            [`--report-host`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_report-host) option. This            can differ from the machine name as configured in the            operating system.          

- ​            `User`: The slave server user name as,            specified on the slave with the            [`--report-user`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_report-user) option.            Statement output includes this column only if the master            server is started with the            [`--show-slave-auth-info`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_show-slave-auth-info)            option.          

- ​            `Password`: The slave server password as,            specified on the slave with the            [`--report-password`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_report-password) option.            Statement output includes this column only if the master            server is started with the            [`--show-slave-auth-info`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_show-slave-auth-info)            option.          

- ​            `Port`: The port on the master to which the            slave server is listening, as specified on the slave with            the [`--report-port`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_report-port) option.          

  ​            In MySQL 5.5.23 and later, a zero in this column means that            the slave port            ([`--report-port`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_report-port)) was not set.            Prior to MySQL 5.5.23, 3306 was used as the default in such            cases (Bug #13333431).          

- ​            `Master_id`: The unique server ID of the            master server that the slave server is replicating from.            This is the server ID of the server on which `SHOW            SLAVE HOSTS` is executed, so this same value is            listed for each row in the result.

#### 13.7.5.35 SHOW SLAVE STATUS Syntax

```
SHOW SLAVE STATUS

```

​        This statement provides status information on essential        parameters of the slave threads. It requires either the        [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) or        [`REPLICATION CLIENT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_replication-client) privilege.      

​        If you issue this statement using the [**mysql**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql)        client, you can use a `\G` statement terminator        rather than a semicolon to obtain a more readable vertical        layout:      

```
mysql> SHOW SLAVE STATUS\G
*************************** 1. row ***************************
               Slave_IO_State: Waiting for master to send event
                  Master_Host: localhost
                  Master_User: root
                  Master_Port: 3306
                Connect_Retry: 3
              Master_Log_File: gbichot-bin.005
          Read_Master_Log_Pos: 79
               Relay_Log_File: gbichot-relay-bin.005
                Relay_Log_Pos: 548
        Relay_Master_Log_File: gbichot-bin.005
             Slave_IO_Running: Yes
            Slave_SQL_Running: Yes
              Replicate_Do_DB:
          Replicate_Ignore_DB:
           Replicate_Do_Table:
       Replicate_Ignore_Table:
      Replicate_Wild_Do_Table:
  Replicate_Wild_Ignore_Table:
                   Last_Errno: 0
                   Last_Error:
                 Skip_Counter: 0
          Exec_Master_Log_Pos: 79
              Relay_Log_Space: 552
              Until_Condition: None
               Until_Log_File:
                Until_Log_Pos: 0
           Master_SSL_Allowed: No
           Master_SSL_CA_File:
           Master_SSL_CA_Path:
              Master_SSL_Cert:
            Master_SSL_Cipher:
               Master_SSL_Key:
        Seconds_Behind_Master: 8
Master_SSL_Verify_Server_Cert: No
                Last_IO_Errno: 0
                Last_IO_Error:
               Last_SQL_Errno: 0
               Last_SQL_Error:
  Replicate_Ignore_Server_Ids: 0
             Master_Server_Id: 1

```

​        The following list describes the fields returned by        [`SHOW SLAVE STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-slave-status). For additional        information about interpreting their meanings, see        [Section 8.14.6, “Replication Slave I/O Thread States”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#slave-io-thread-states).

- ​            `Slave_IO_State`          

  ​            A copy of the `State` field of the            [`SHOW PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist) output for            the slave I/O thread. This tells you what the thread is            doing: trying to connect to the master, waiting for events            from the master, reconnecting to the master, and so on. For            a listing of possible states, see            [Section 8.14.6, “Replication Slave I/O Thread States”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#slave-io-thread-states).          

- ​            `Master_Host`          

  ​            The master host that the slave is connected to.          

- ​            `Master_User`          

  ​            The user name of the account used to connect to the master.          

- ​            `Master_Port`          

  ​            The port used to connect to the master.          

- ​            `Connect_Retry`          

  ​            The number of seconds between connect retries (default 60).            This can be set with the [`CHANGE MASTER            TO`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#change-master-to) statement.          

- ​            `Master_Log_File`          

  ​            The name of the master binary log file from which the I/O            thread is currently reading.          

- ​            `Read_Master_Log_Pos`          

  ​            The position in the current master binary log file up to            which the I/O thread has read.          

- ​            `Relay_Log_File`          

  ​            The name of the relay log file from which the SQL thread is            currently reading and executing.          

- ​            `Relay_Log_Pos`          

  ​            The position in the current relay log file up to which the            SQL thread has read and executed.          

- ​            `Relay_Master_Log_File`          

  ​            The name of the master binary log file containing the most            recent event executed by the SQL thread.          

- ​            `Slave_IO_Running`          

  ​            Whether the I/O thread is started and has connected            successfully to the master. Internally, the state of this            thread is represented by one of the following three values:

  - **MYSQL_SLAVE_NOT_RUN. **                  The slave I/O thread is not running. For this state,                  `Slave_IO_Running` is                  `No`.                

  - **MYSQL_SLAVE_RUN_NOT_CONNECT. **                  The slave I/O thread is running, but is not connected                  to a replication master. For this state,                  `Slave_IO_Running` depends on the                  server version as shown in the following table.

    | MySQL Version                            | `Slave_IO_Running` |
    | ---------------------------------------- | ------------------ |
    | 4.1 (4.1.13 and earlier); 5.0 (5.0.11 and earlier) | `Yes`              |
    | 4.1 (4.1.14 and later); 5.0 (5.0.12 and later) | `No`               |
    | 5.1 (5.1.45 and earlier)                 | `No`               |
    | 5.1 (5.1.46 and later); 5.5              | `Connecting`       |

  - **MYSQL_SLAVE_RUN_CONNECT. **                  The slave I/O thread is running, and is connected to a                  replication master. For this state,                  `Slave_IO_Running` is                  `Yes`.

  ​            The value of the            [`Slave_running`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#statvar_Slave_running) system            status variable corresponds with this value.          

- ​            `Slave_SQL_Running`          

  ​            Whether the SQL thread is started.          

- ​            `Replicate_Do_DB`,            `Replicate_Ignore_DB`          

  ​            The lists of databases that were specified with the            [`--replicate-do-db`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_replicate-do-db) and            [`--replicate-ignore-db`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_replicate-ignore-db)            options, if any.          

- ​            `Replicate_Do_Table`,            `Replicate_Ignore_Table`,            `Replicate_Wild_Do_Table`,            `Replicate_Wild_Ignore_Table`          

  ​            The lists of tables that were specified with the            [`--replicate-do-table`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_replicate-do-table),            [`--replicate-ignore-table`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_replicate-ignore-table),            [`--replicate-wild-do-table`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_replicate-wild-do-table),            and            [`--replicate-wild-ignore-table`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_replicate-wild-ignore-table)            options, if any.          

- ​            `Last_Errno`, `Last_Error`          

  ​            These columns are aliases for            `Last_SQL_Errno` and            `Last_SQL_Error`.          

  ​            Issuing [`RESET MASTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-master) or            [`RESET SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-slave) resets the values            shown in these columns.

  Note

  ​              When the slave SQL thread receives an error, it reports              the error first, then stops the SQL thread. This means              that there is a small window of time during which              [`SHOW SLAVE STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-slave-status) shows a              nonzero value for `Last_SQL_Errno` even              though `Slave_SQL_Running` still displays              `Yes`.

- ​            `Skip_Counter`          

  ​            The current value of the            [`sql_slave_skip_counter`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#sysvar_sql_slave_skip_counter)            system variable. See            [Section 13.4.2.4, “SET GLOBAL sql_slave_skip_counter Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-global-sql-slave-skip-counter).          

- ​            `Exec_Master_Log_Pos`          

  ​            The position in the current master binary log file to which            the SQL thread has read and executed, marking the start of            the next transaction or event to be processed. You can use            this value with the [`CHANGE MASTER            TO`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#change-master-to) statement's            `MASTER_LOG_POS` option when starting a new            slave from an existing slave, so that the new slave reads            from this point. The coordinates given by            (`Relay_Master_Log_File`,            `Exec_Master_Log_Pos`) in the master's            binary log correspond to the coordinates given by            (`Relay_Log_File`,            `Relay_Log_Pos`) in the relay log.          

- ​            `Relay_Log_Space`          

  ​            The total combined size of all existing relay log files.          

- ​            `Until_Condition`,            `Until_Log_File`,            `Until_Log_Pos`          

  ​            The values specified in the `UNTIL` clause            of the [`START SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#start-slave) statement.          

  ​            `Until_Condition` has these values:

  - ​                `None` if no `UNTIL`                clause was specified              
  - ​                `Master` if the slave is reading until                a given position in the master's binary log              
  - ​                `Relay` if the slave is reading until a                given position in its relay log

  ​            `Until_Log_File` and            `Until_Log_Pos` indicate the log file name            and position that define the coordinates at which the SQL            thread stops executing.          

- ​            `Master_SSL_Allowed`,            `Master_SSL_CA_File`,            `Master_SSL_CA_Path`,            `Master_SSL_Cert`,            `Master_SSL_Cipher`,            `Master_SSL_Key`,            `Master_SSL_Verify_Server_Cert`          

  ​            These fields show the SSL parameters used by the slave to            connect to the master, if any.          

  ​            `Master_SSL_Allowed` has these values:

  - ​                `Yes` if an SSL connection to the                master is permitted              
  - ​                `No` if an SSL connection to the master                is not permitted              
  - ​                `Ignored` if an SSL connection is                permitted but the slave server does not have SSL support                enabled

  ​            The values of the other SSL-related fields correspond to the            values of the `MASTER_SSL_CA`,            `MASTER_SSL_CAPATH`,            `MASTER_SSL_CERT`,            `MASTER_SSL_CIPHER`,            `MASTER_SSL_KEY`, and            `MASTER_SSL_VERIFY_SERVER_CERT` options to            the [`CHANGE MASTER TO`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#change-master-to)            statement. See [Section 13.4.2.1, “CHANGE MASTER TO Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#change-master-to).          

- ​            `Seconds_Behind_Master`          

  ​            This field is an indication of how “late” the            slave is:

  - ​                When the slave is actively processing updates, this                field shows the difference between the current timestamp                on the slave and the original timestamp logged on the                master for the event currently being processed on the                slave.              
  - ​                When no event is currently being processed on the slave,                this value is 0.

  ​            In essence, this field measures the time difference in            seconds between the slave SQL thread and the slave I/O            thread. If the network connection between master and slave            is fast, the slave I/O thread is very close to the master,            so this field is a good approximation of how late the slave            SQL thread is compared to the master. If the network is            slow, this is *not* a good approximation;            the slave SQL thread may quite often be caught up with the            slow-reading slave I/O thread, so            `Seconds_Behind_Master` often shows a value            of 0, even if the I/O thread is late compared to the master.            In other words, *this column is useful only for            fast networks*.          

  ​            This time difference computation works even if the master            and slave do not have identical clock times, provided that            the difference, computed when the slave I/O thread starts,            remains constant from then on. Any changes—including            NTP updates—can lead to clock skews that can make            calculation of `Seconds_Behind_Master` less            reliable.          

  ​            This field is `NULL` (undefined or unknown)            if the slave SQL thread is not running, or if the slave I/O            thread is not running or is not connected to the master. For            example, if the slave I/O thread is running but is not            connected to the master and is sleeping for the number of            seconds given by the [`CHANGE MASTER            TO`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#change-master-to) statement or            [`--master-connect-retry`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_master-connect-retry) option            (default 60) before reconnecting, the value is            `NULL`. This is because the slave cannot            know what the master is doing, and so cannot say reliably            how late it is.          

  ​            The value of `Seconds_Behind_Master` is            based on the timestamps stored in events, which are            preserved through replication. This means that if a master            M1 is itself a slave of M0, any event from M1's binary log            that originates from M0's binary log has M0's timestamp for            that event. This enables MySQL to replicate            [`TIMESTAMP`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#datetime) successfully.            However, the problem for            `Seconds_Behind_Master` is that if M1 also            receives direct updates from clients, the            `Seconds_Behind_Master` value randomly            fluctuates because sometimes the last event from M1            originates from M0 and sometimes is the result of a direct            update on M1.          

- ​            `Last_IO_Errno`,            `Last_IO_Error`          

  ​            The error number and error message of the most recent error            that caused the I/O thread to stop. An error number of 0 and            message of the empty string mean “no error.” If            the `Last_IO_Error` value is not empty, the            error values also appear in the slave's error log.          

  ​            Issuing [`RESET MASTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-master) or            [`RESET SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-slave) resets the values            shown in these columns.          

- ​            `Last_SQL_Errno`,            `Last_SQL_Error`          

  ​            The error number and error message of the most recent error            that caused the SQL thread to stop. An error number of 0 and            message of the empty string mean “no error.” If            the `Last_SQL_Error` value is not empty,            the error values also appear in the slave's error log.          

  ​            Example:          

  ```
  Last_SQL_Errno: 1051
  Last_SQL_Error: error 'Unknown table 'z'' on query 'drop table z'

  ```

  ​            The message indicates that the table `z`            existed on the master and was dropped there, but it did not            exist on the slave, so [`DROP            TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-table) failed on the slave. (This might occur, for            example, if you forget to copy the table to the slave when            setting up replication.)          

  ​            Issuing [`RESET MASTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-master) or            [`RESET SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-slave) resets the values            shown in these columns.          

- ​            `Replicate_Ignore_Server_Ids`          

  ​            You can tell a slave to ignore events from 0 or more masters            using the `IGNORE_SERVER_IDS` option of the            [`CHANGE MASTER TO`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#change-master-to) statement.            This is normally of interest only when using a circular or            other multi-master replication setup.          

  ​            The message shown for            `Replicate_Ignore_Server_Ids` consists of a            space-delimited list of one or more numbers, the first value            indicating the number of servers to be ignored; if not 0            (the default), this server-count value is followed by the            actual server IDs. For example, if a            [`CHANGE MASTER TO`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#change-master-to) statement            containing the `IGNORE_SERVER_IDS =            (2,6,9)` option has been issued to tell a slave to            ignore masters having the server ID 2, 6, or 9, that            information appears as shown here:          

  ```
    Replicate_Ignore_Server_Ids: 3 2 6 9

  ```

  ​            `Replicate_Ignore_Server_Ids` filtering is            performed by the I/O thread, rather than by the SQL thread,            which means that events which are filtered out are not            written to the relay log. This differs from the filtering            actions taken by server options such            [`--replicate-do-table`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/replication.html#option_mysqld_replicate-do-table), which            apply to the SQL thread.          

- ​            `Master_Server_Id`          

  ​            The [`server_id`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_server_id) value from            the master.

#### 13.7.5.36 SHOW STATUS Syntax

```
SHOW [GLOBAL | SESSION] STATUS
    [LIKE 'pattern' | WHERE expr]

```

​        [`SHOW STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-status) provides server        status information (see        [Section 5.1.7, “Server Status Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-status-variables)). This statement does        not require any privilege. It requires only the ability to        connect to the server.      

​        Status variable information is also available from these        sources:

- ​            The            [`GLOBAL_STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#variables-table)            and            [`SESSION_STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#variables-table)            tables. See [Section 21.8, “The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#status-table).          
- ​            The [**mysqladmin extended-status**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin) command.            See [Section 4.5.2, “**mysqladmin** — Client for Administering a MySQL Server”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin).

​        For [`SHOW STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-status), a        [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if present, indicates        which variable names to match. A `WHERE` clause        can be given to select rows using more general conditions, as        discussed in [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

​        [`SHOW STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-status) accepts an optional        `GLOBAL` or `SESSION` variable        scope modifier:

- ​            With a `GLOBAL` modifier, the statement            displays the global status values. A global status variable            may represent status for some aspect of the server itself            (for example, `Aborted_connects`), or the            aggregated status over all connections to MySQL (for            example, `Bytes_received` and            `Bytes_sent`). If a variable has no global            value, the session value is displayed.          
- ​            With a `SESSION` modifier, the statement            displays the status variable values for the current            connection. If a variable has no session value, the global            value is displayed. `LOCAL` is a synonym            for `SESSION`.          
- ​            If no modifier is present, the default is            `SESSION`.

​        The scope for each status variable is listed at        [Section 5.1.7, “Server Status Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-status-variables).      

​        Each invocation of the [`SHOW        STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-status) statement uses an internal temporary table and        increments the global        [`Created_tmp_tables`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#statvar_Created_tmp_tables) value.      

​        Partial output is shown here. The list of names and values may        differ for your server. The meaning of each variable is given in        [Section 5.1.7, “Server Status Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-status-variables).      

```
mysql> SHOW STATUS;
+--------------------------+------------+
| Variable_name            | Value      |
+--------------------------+------------+
| Aborted_clients          | 0          |
| Aborted_connects         | 0          |
| Bytes_received           | 155372598  |
| Bytes_sent               | 1176560426 |
| Connections              | 30023      |
| Created_tmp_disk_tables  | 0          |
| Created_tmp_tables       | 8340       |
| Created_tmp_files        | 60         |
...
| Open_tables              | 1          |
| Open_files               | 2          |
| Open_streams             | 0          |
| Opened_tables            | 44600      |
| Questions                | 2026873    |
...
| Table_locks_immediate    | 1920382    |
| Table_locks_waited       | 0          |
| Threads_cached           | 0          |
| Threads_created          | 30022      |
| Threads_connected        | 1          |
| Threads_running          | 1          |
| Uptime                   | 80380      |
+--------------------------+------------+

```

​        With a [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, the statement        displays only rows for those variables with names that match the        pattern:      

```
mysql> SHOW STATUS LIKE 'Key%';
+--------------------+----------+
| Variable_name      | Value    |
+--------------------+----------+
| Key_blocks_used    | 14955    |
| Key_read_requests  | 96854827 |
| Key_reads          | 162040   |
| Key_write_requests | 7589728  |
| Key_writes         | 3813196  |
+--------------------+----------+

```

#### 13.7.5.37 SHOW TABLE STATUS Syntax

```
SHOW TABLE STATUS
    [{FROM | IN} db_name]
    [LIKE 'pattern' | WHERE expr]

```

​        [`SHOW TABLE STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-table-status) works likes        [`SHOW TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-tables), but provides a lot        of information about each non-`TEMPORARY`        table. You can also get this list using the [**mysqlshow        --status db_name**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlshow) command.        The [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if present,        indicates which table names to match. The        `WHERE` clause can be given to select rows        using more general conditions, as discussed in        [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

​        This statement also displays information about views.      

​        [`SHOW TABLE STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-table-status) output has the        following columns:

- ​            `Name`          

  ​            The name of the table.          

- ​            `Engine`          

  ​            The storage engine for the table. See            [Chapter 15, *Alternative Storage Engines*](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/storage-engines.html).          

- ​            `Version`          

  ​            The version number of the table's `.frm`            file.          

- ​            `Row_format`          

  ​            The row-storage format (`Fixed`,            `Dynamic`, `Compressed`,            `Redundant`, `Compact`).            For `MyISAM` tables,            `Dynamic` corresponds to what            [**myisamchk -dvv**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk) reports as            `Packed`. `InnoDB` table            format is either `Redundant` or            `Compact` when using the            `Antelope` file format, or            `Compressed` or `Dynamic`            when using the `Barracuda` file format.          

- ​            `Rows`          

  ​            The number of rows. Some storage engines, such as            `MyISAM`, store the exact count. For other            storage engines, such as `InnoDB`, this            value is an approximation, and may vary from the actual            value by as much as 40 to 50%. In such cases, use            `SELECT COUNT(*)` to obtain an accurate            count.          

  ​            The `Rows` value is `NULL`            for tables in the `INFORMATION_SCHEMA`            database.          

- ​            `Avg_row_length`          

  ​            The average row length.          

  ​            Refer to the notes at the end of this section for related            information.          

- ​            `Data_length`          

  ​            For `MyISAM`,            `Data_length` is the length of the data            file, in bytes.          

  ​            For `InnoDB`,            `Data_length` is the approximate amount of            memory allocated for the clustered index, in bytes.            Specifically, it is the clustered index size, in pages,            multiplied by the `InnoDB` page size.          

  ​            Refer to the notes at the end of this section for            information regarding other storage engines.          

- ​            `Max_data_length`          

  ​            For `MyISAM`,            `Max_data_length` is maximum length of the            data file. This is the total number of bytes of data that            can be stored in the table, given the data pointer size            used.          

  ​            Unused for `InnoDB`.          

  ​            Refer to the notes at the end of this section for            information regarding other storage engines.          

- ​            `Index_length`          

  ​            For `MyISAM`,            `Index_length` is the length of the index            file, in bytes.          

  ​            For `InnoDB`,            `Index_length` is the approximate amount of            memory allocated for non-clustered indexes, in bytes.            Specifically, it is the sum of non-clustered index sizes, in            pages, multiplied by the `InnoDB` page            size.          

  ​            Refer to the notes at the end of this section for            information regarding other storage engines.          

- ​            `Data_free`          

  ​            The number of allocated but unused bytes.          

  ​            This information is also shown for `InnoDB`            tables (previously, it was in the `Comment`            value). `InnoDB` tables report the free            space of the tablespace to which the table belongs. For a            table located in the shared tablespace, this is the free            space of the shared tablespace. If you are using multiple            tablespaces and the table has its own tablespace, the free            space is for only that table. Free space means the number of            bytes in completely free extents minus a safety margin. Even            if free space displays as 0, it may be possible to insert            rows as long as new extents need not be allocated.          

  ​            For partitioned tables, this value is only an estimate and            may not be absolutely correct. A more accurate method of            obtaining this information in such cases is to query the            `INFORMATION_SCHEMA.PARTITIONS` table, as            shown in this example:          

  ```
  SELECT    SUM(DATA_FREE)
      FROM  INFORMATION_SCHEMA.PARTITIONS
      WHERE TABLE_SCHEMA = 'mydb'
      AND   TABLE_NAME   = 'mytable';

  ```

  ​            For more information, see            [Section 21.12, “The INFORMATION_SCHEMA PARTITIONS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#partitions-table).          

- ​            `Auto_increment`          

  ​            The next `AUTO_INCREMENT` value.          

- ​            `Create_time`          

  ​            When the table was created.          

- ​            `Update_time`          

  ​            When the data file was last updated. For some storage            engines, this value is `NULL`. For example,            `InnoDB` stores multiple tables in its            [system            tablespace](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_system_tablespace) and the data file timestamp does not            apply. Even with            [file-per-table](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_file_per_table)            mode with each `InnoDB` table in a separate            `.ibd` file,            [change            buffering](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/glossary.html#glos_change_buffering) can delay the write to the data file, so            the file modification time is different from the time of the            last insert, update, or delete. For            `MyISAM`, the data file timestamp is used;            however, on Windows the timestamp is not updated by updates            so the value is inaccurate.          

- ​            `Check_time`          

  ​            When the table was last checked. Not all storage engines            update this time, in which case the value is always            `NULL`.          

- ​            `Collation`          

  ​            The table's character set and collation.          

- ​            `Checksum`          

  ​            The live checksum value (if any).          

- ​            `Create_options`          

  ​            Extra options used with [`CREATE            TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table). The original options supplied when            [`CREATE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table) is called are            retained and the options reported here may differ from the            active table settings and options.          

- ​            `Comment`          

  ​            The comment used when creating the table (or information as            to why MySQL could not access the table information).

​        **Notes**:

- ​            For `MEMORY` tables, the            `Data_length`,            `Max_data_length`, and            `Index_length` values approximate the            actual amount of allocated memory. The allocation algorithm            reserves memory in large amounts to reduce the number of            allocation operations.          
- ​            For [`NDBCLUSTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/mysql-cluster.html) tables, the            output of this statement shows appropriate values for the            `Avg_row_length` and            `Data_length` columns, with the exception            that [`BLOB`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/data-types.html#blob) columns are not            taken into account          
- ​            For views, all the fields displayed by            [`SHOW TABLE STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-table-status) are            `NULL` except that `Name`            indicates the view name and `Comment` says            `view`.

#### 13.7.5.38 SHOW TABLES Syntax

```
SHOW [FULL] TABLES
    [{FROM | IN} db_name]
    [LIKE 'pattern' | WHERE expr]

```

​        [`SHOW TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-tables) lists the        non-`TEMPORARY` tables in a given database. You        can also get this list using the [**mysqlshow        db_name**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlshow) command. The        [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if present, indicates        which table names to match. The `WHERE` clause        can be given to select rows using more general conditions, as        discussed in [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

​        Matching performed by the `LIKE` clause is        dependent on the setting of the        [`lower_case_table_names`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_lower_case_table_names) system        variable.      

​        This statement also lists any views in the database. The        optional `FULL` modifier causes        [`SHOW TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-tables) to display a second        output column with values of `BASE TABLE` for a        table and `VIEW` for a view.      

​        If you have no privileges for a base table or view, it does not        show up in the output from [`SHOW        TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-tables) or [**mysqlshow db_name**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlshow).

#### 13.7.5.39 SHOW TRIGGERS Syntax

```
SHOW TRIGGERS
    [{FROM | IN} db_name]
    [LIKE 'pattern' | WHERE expr]

```

​        [`SHOW TRIGGERS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-triggers) lists the triggers        currently defined for tables in a database (the default database        unless a `FROM` clause is given). This        statement returns results only for databases and tables for        which you have the [`TRIGGER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_trigger)        privilege. The [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if        present, indicates which table names to match (not trigger        names) and causes the statement to display triggers for those        tables. The `WHERE` clause can be given to        select rows using more general conditions, as discussed in        [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

​        For the trigger `ins_sum` as defined in        [Section 20.3, “Using Triggers”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/stored-programs-views.html#triggers), the output of this statement is as        shown here:      

```
mysql> SHOW TRIGGERS LIKE 'acc%'\G
*************************** 1. row ***************************
             Trigger: ins_sum
               Event: INSERT
               Table: account
           Statement: SET @sum = @sum + NEW.amount
              Timing: BEFORE
             Created: NULL
            sql_mode:
             Definer: myname@localhost
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci

```

​        [`SHOW TRIGGERS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-triggers) output has the        following columns:

- ​            `Trigger`: The trigger name.          
- ​            `Event`: The type of operation that causes            trigger activation. The value is            `'INSERT'`, `'UPDATE'`, or            `'DELETE'`.          
- ​            `Table`: The table for which the trigger is            defined.          
- ​            `Statement`: The trigger body; that is, the            statement executed when the trigger activates.          
- ​            `Timing`: Whether the trigger activates            before or after the triggering event. The value is            `'BEFORE'` or `'AFTER'`.          
- ​            `Created`: The value of this column is            always `NULL`.          
- ​            `sql_mode`: The SQL mode in effect when the            trigger executes.          
- ​            `Definer`: The account of the user who            created the trigger, in            `'*user_name*'@'*host_name*'`            format.          
- ​            `character_set_client`: The session value            of the [`character_set_client`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_character_set_client)            system variable when the trigger was created.          
- ​            `collation_connection`: The session value            of the [`collation_connection`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_collation_connection)            system variable when the trigger was created.          
- ​            `Database Collation`: The collation of the            database with which the trigger is associated.

​        You can also obtain information about trigger objects from        `INFORMATION_SCHEMA`, which contains a        [`TRIGGERS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#triggers-table) table. See        [Section 21.25, “The INFORMATION_SCHEMA TRIGGERS Table”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#triggers-table).

#### 13.7.5.40 SHOW VARIABLES Syntax

```
SHOW [GLOBAL | SESSION] VARIABLES
    [LIKE 'pattern' | WHERE expr]

```

​        [`SHOW VARIABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-variables) shows the values        of MySQL system variables (see        [Section 5.1.5, “Server System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-system-variables)). This statement does        not require any privilege. It requires only the ability to        connect to the server.      

​        System variable information is also available from these        sources:

- ​            The            [`GLOBAL_VARIABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#variables-table)            and            [`SESSION_VARIABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#variables-table)            tables. See [Section 21.9, “The INFORMATION_SCHEMA GLOBAL_VARIABLES and SESSION_VARIABLES Tables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#variables-table).          
- ​            The [**mysqladmin variables**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin) command. See            [Section 4.5.2, “**mysqladmin** — Client for Administering a MySQL Server”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin).

​        For [`SHOW VARIABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-variables), a        [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, if present, indicates        which variable names to match. A `WHERE` clause        can be given to select rows using more general conditions, as        discussed in [Section 21.31, “Extensions to SHOW Statements”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#extended-show).      

​        [`SHOW VARIABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-variables) accepts an        optional `GLOBAL` or `SESSION`        variable scope modifier:

- ​            With a `GLOBAL` modifier, the statement            displays global system variable values. These are the values            used to initialize the corresponding session variables for            new connections to MySQL. If a variable has no global value,            no value is displayed.          
- ​            With a `SESSION` modifier, the statement            displays the system varaible values that are in effect for            the current connection. If a variable has no session value,            the global value is displayed. `LOCAL` is a            synonym for `SESSION`.          
- ​            If no modifier is present, the default is            `SESSION`.

​        The scope for each system variable is listed at        [Section 5.1.5, “Server System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-system-variables).      

​        [`SHOW VARIABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-variables) is subject to a        version-dependent display-width limit. For variables with very        long values that are not completely displayed, use        [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) as a workaround. For        example:      

```
SELECT @@GLOBAL.innodb_data_file_path;

```

​        Most system variables can be set at server startup (read-only        variables such as        [`version_comment`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_version_comment) are        exceptions). Many can be changed at runtime with the        [`SET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable)        statement. See [Section 5.1.6, “Using System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#using-system-variables), and        [Section 13.7.4.1, “SET Syntax for Variable Assignment”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#set-variable).      

​        Partial output is shown here. The list of names and values may        differ for your server.        [Section 5.1.5, “Server System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-system-variables), describes the meaning        of each variable, and [Section 5.1.1, “Configuring the Server”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-configuration),        provides information about tuning them.      

```
mysql> SHOW VARIABLES;
+-----------------------------------------+---------------------------+
| Variable_name                           | Value                     |
+-----------------------------------------+---------------------------+
| auto_increment_increment                | 1                         |
| auto_increment_offset                   | 1                         |
| autocommit                              | ON                        |
| automatic_sp_privileges                 | ON                        |
| back_log                                | 50                        |
| basedir                                 | /home/jon/bin/mysql-5.5   |
| big_tables                              | OFF                       |
| binlog_cache_size                       | 32768                     |
| binlog_direct_non_transactional_updates | OFF                       |
| binlog_format                           | STATEMENT                 |
| binlog_stmt_cache_size                  | 32768                     |
| bulk_insert_buffer_size                 | 8388608                   |
...
| max_allowed_packet                      | 1048576                   |
| max_binlog_cache_size                   | 18446744073709547520      |
| max_binlog_size                         | 1073741824                |
| max_binlog_stmt_cache_size              | 18446744073709547520      |
| max_connect_errors                      | 10                        |
| max_connections                         | 151                       |
| max_delayed_threads                     | 20                        |
| max_error_count                         | 64                        |
| max_heap_table_size                     | 16777216                  |
| max_insert_delayed_threads              | 20                        |
| max_join_size                           | 18446744073709551615      |
...

| thread_handling                         | one-thread-per-connection |
| thread_stack                            | 262144                    |
| time_format                             | %H:%i:%s                  |
| time_zone                               | SYSTEM                    |
| timed_mutexes                           | OFF                       |
| timestamp                               | 1316689732                |
| tmp_table_size                          | 16777216                  |
| tmpdir                                  | /tmp                      |
| transaction_alloc_block_size            | 8192                      |
| transaction_prealloc_size               | 4096                      |
| tx_isolation                            | REPEATABLE-READ           |
| unique_checks                           | ON                        |
| updatable_views_with_limit              | YES                       |
| version                                 | 5.5.17-log                |
| version_comment                         | Source distribution       |
| version_compile_machine                 | x86_64                    |
| version_compile_os                      | Linux                     |
| wait_timeout                            | 28800                     |
| warning_count                           | 0                         |
+-----------------------------------------+---------------------------+

```

​        With a [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause, the statement        displays only rows for those variables with names that match the        pattern. To obtain the row for a specific variable, use a        [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause as shown:      

```
SHOW VARIABLES LIKE 'max_join_size';
SHOW SESSION VARIABLES LIKE 'max_join_size';

```

​        To get a list of variables whose name match a pattern, use the        `%` wildcard character in a        [`LIKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#operator_like) clause:      

```
SHOW VARIABLES LIKE '%size%';
SHOW GLOBAL VARIABLES LIKE '%size%';

```

​        Wildcard characters can be used in any position within the        pattern to be matched. Strictly speaking, because        `_` is a wildcard that matches any single        character, you should escape it as `\_` to        match it literally. In practice, this is rarely necessary.

#### 13.7.5.41 SHOW WARNINGS Syntax

```
SHOW WARNINGS [LIMIT [offset,] row_count]
SHOW COUNT(*) WARNINGS

```

​        [`SHOW WARNINGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings) is a diagnostic        statement that displays information about the conditions        (errors, warnings, and notes) resulting from executing a        statement in the current session. Warnings are generated for DML        statements such as [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#insert),        [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#update), and        [`LOAD DATA        INFILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#load-data) as well as DDL statements such as        [`CREATE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-table) and        [`ALTER TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table).      

​        The `LIMIT` clause has the same syntax as for        the [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) statement. See        [Section 13.2.9, “SELECT Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select).      

​        [`SHOW WARNINGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings) is also used        following [`EXPLAIN EXTENDED`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#explain-extended), to        display the extra information generated by        [`EXPLAIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#explain) when the        `EXTENDED` keyword is used. See        [Section 8.8.3, “Extended EXPLAIN Output Format”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/optimization.html#explain-extended).      

​        [`SHOW WARNINGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings) displays        information about the conditions resulting from the most recent        statement in the current session that generated messages. It        shows nothing if the most recent statement used a table and        generated no messages. (That is, statements that use a table but        generate no messages clear the message list.) Statements that do        not use tables and do not generate messages have no effect on        the message list.      

​        The [`SHOW COUNT(*)        WARNINGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings) diagnostic statement displays the total        number of errors, warnings, and notes. You can also retrieve        this number from the        [`warning_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_warning_count) system variable:      

```
SHOW COUNT(*) WARNINGS;
SELECT @@warning_count;

```

​        A related diagnostic statement, [`SHOW        ERRORS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-errors), shows only error conditions (it excludes        warnings and notes), and        [`SHOW COUNT(*)        ERRORS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings) statement displays the total number of errors.        See [Section 13.7.5.18, “SHOW ERRORS Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-errors).      

​        Here is a simple example that shows data-conversion warnings for        [`INSERT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#insert):      

```
mysql> CREATE TABLE t1 (a TINYINT NOT NULL, b CHAR(4));
Query OK, 0 rows affected (0.05 sec)

mysql> INSERT INTO t1 VALUES(10,'mysql'), (NULL,'test'), (300,'xyz');
Query OK, 3 rows affected, 3 warnings (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 3

mysql> SHOW WARNINGS\G
*************************** 1. row ***************************
  Level: Warning
   Code: 1265
Message: Data truncated for column 'b' at row 1
*************************** 2. row ***************************
  Level: Warning
   Code: 1048
Message: Column 'a' cannot be null
*************************** 3. row ***************************
  Level: Warning
   Code: 1264
Message: Out of range value for column 'a' at row 3
3 rows in set (0.00 sec)

```

​        The [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count) system        variable controls the maximum number of error, warning, and note        messages for which the server stores information, and thus the        number of messages that [`SHOW        WARNINGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-warnings) displays. To change the number of messages        the server can store, change the value of        [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count). The default is        64.      

​        [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count) controls only        how many messages are stored, not how many are counted. The        value of [`warning_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_warning_count) is not        limited by [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count),        even if the number of messages generated exceeds        [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count). The following        example demonstrates this. The [`ALTER        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table) statement produces three warning messages        (strict SQL mode is disabled for the example to prevent an error        from occuring after a single conversion issue). Only one message        is stored and displayed because        [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count) has been set to        1, but all three are counted (as shown by the value of        [`warning_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_warning_count)):      

```
mysql> SHOW VARIABLES LIKE 'max_error_count';
+-----------------+-------+
| Variable_name   | Value |
+-----------------+-------+
| max_error_count | 64    |
+-----------------+-------+
1 row in set (0.00 sec)

mysql> SET max_error_count=1, sql_mode = '';
Query OK, 0 rows affected (0.00 sec)

mysql> ALTER TABLE t1 MODIFY b CHAR;
Query OK, 3 rows affected, 3 warnings (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 3

mysql> SHOW WARNINGS;
+---------+------+----------------------------------------+
| Level   | Code | Message                                |
+---------+------+----------------------------------------+
| Warning | 1263 | Data truncated for column 'b' at row 1 |
+---------+------+----------------------------------------+
1 row in set (0.00 sec)

mysql> SELECT @@warning_count;
+-----------------+
| @@warning_count |
+-----------------+
|               3 |
+-----------------+
1 row in set (0.01 sec)

```

​        To disable message storage, set        [`max_error_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_error_count) to 0. In this        case, [`warning_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_warning_count) still        indicates how many warnings occurred, but messages are not        stored and cannot be displayed.      

​        The [`sql_notes`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_sql_notes) system variable        controls whether note messages increment        [`warning_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_warning_count) and whether the        server stores them. By default,        [`sql_notes`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_sql_notes) is 1, but if set to        0, notes do not increment        [`warning_count`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_warning_count) and the server        does not store them:      

```
mysql> SET sql_notes = 1;
mysql> DROP TABLE IF EXISTS test.no_such_table;
Query OK, 0 rows affected, 1 warning (0.00 sec)
mysql> SHOW WARNINGS;
+-------+------+-------------------------------+
| Level | Code | Message                       |
+-------+------+-------------------------------+
| Note  | 1051 | Unknown table 'no_such_table' |
+-------+------+-------------------------------+
1 row in set (0.00 sec)

mysql> SET sql_notes = 0;
mysql> DROP TABLE IF EXISTS test.no_such_table;
Query OK, 0 rows affected (0.00 sec)
mysql> SHOW WARNINGS;
Empty set (0.00 sec)

```

​        The MySQL server sends to each client a count indicating the        total number of errors, warnings, and notes resulting from the        most recent statement executed by that client. From the C API,        this value can be obtained by calling        [`mysql_warning_count()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/connectors-apis.html#mysql-warning-count). See        [Section 23.8.7.72, “mysql_warning_count()”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/connectors-apis.html#mysql-warning-count).      

​        In the [**mysql**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql) client, you can enable and        disable automatic warnings display using the        `warnings` and `nowarning`        commands, respectively, or their shortcuts,        `\W` and `\w` (see        [Section 4.5.1.2, “mysql Commands”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysql-commands)). For example:      

```
mysql> \W
Show warnings enabled.
mysql> SELECT 1/0;
+------+
| 1/0  |
+------+
| NULL |
+------+
1 row in set, 1 warning (0.03 sec)

Warning (Code 1365): Division by 0
mysql> \w
Show warnings disabled.

```

### 13.7.6 Other Administrative Statements

- [13.7.6.1 BINLOG Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#binlog)
- [13.7.6.2 CACHE INDEX Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#cache-index)
- [13.7.6.3 FLUSH Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush)
- [13.7.6.4 KILL Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill)
- [13.7.6.5 LOAD INDEX INTO CACHE Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#load-index)
- [13.7.6.6 RESET Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset)

#### 13.7.6.1 BINLOG Syntax

```
BINLOG 'str'

```

​        [`BINLOG`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#binlog) is an internal-use        statement. It is generated by the [**mysqlbinlog**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlbinlog)        program as the printable representation of certain events in        binary log files. (See [Section 4.6.7, “**mysqlbinlog** — Utility for Processing Binary Log Files”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqlbinlog).) The        `'*str*'` value is a        base 64-encoded string the that server decodes to determine the        data change indicated by the corresponding event. This statement        requires the [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege.

#### 13.7.6.2 CACHE INDEX Syntax

```
CACHE INDEX
  tbl_index_list [, tbl_index_list] ...
  [PARTITION (partition_list | ALL)]
  IN key_cache_name

tbl_index_list:
  tbl_name [[INDEX|KEY] (index_name[, index_name] ...)]

partition_list:
  partition_name[, partition_name][, ...]

```

​        The [`CACHE INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#cache-index) statement assigns        table indexes to a specific key cache. It is used only for        `MyISAM` tables. After the indexes have been        assigned, they can be preloaded into the cache if desired with        [`LOAD INDEX INTO        CACHE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#load-index).      

​        The following statement assigns indexes from the tables        `t1`, `t2`, and        `t3` to the key cache named        `hot_cache`:      

```
mysql> CACHE INDEX t1, t2, t3 IN hot_cache;
+---------+--------------------+----------+----------+
| Table   | Op                 | Msg_type | Msg_text |
+---------+--------------------+----------+----------+
| test.t1 | assign_to_keycache | status   | OK       |
| test.t2 | assign_to_keycache | status   | OK       |
| test.t3 | assign_to_keycache | status   | OK       |
+---------+--------------------+----------+----------+

```

​        The syntax of [`CACHE INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#cache-index) enables        you to specify that only particular indexes from a table should        be assigned to the cache. The current implementation assigns all        the table's indexes to the cache, so there is no reason to        specify anything other than the table name.      

​        The key cache referred to in a [`CACHE        INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#cache-index) statement can be created by setting its size        with a parameter setting statement or in the server parameter        settings. For example:      

```
mysql> SET GLOBAL keycache1.key_buffer_size=128*1024;

```

​        Key cache parameters can be accessed as members of a structured        system variable. See        [Section 5.1.6.1, “Structured System Variables”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#structured-system-variables).      

​        A key cache must exist before you can assign indexes to it:      

```
mysql> CACHE INDEX t1 IN non_existent_cache;
ERROR 1284 (HY000): Unknown key cache 'non_existent_cache'

```

​        By default, table indexes are assigned to the main (default) key        cache created at the server startup. When a key cache is        destroyed, all indexes assigned to it become assigned to the        default key cache again.      

​        Index assignment affects the server globally: If one client        assigns an index to a given cache, this cache is used for all        queries involving the index, no matter which client issues the        queries.      

​        In MySQL 5.5, this statement is also supported for        partitioned `MyISAM` tables. You can assign one        or more indexes for one, several, or all partitions to a given        key cache. For example, you can do the following:      

```
CREATE TABLE pt (c1 INT, c2 VARCHAR(50), INDEX i(c1))
    ENGINE=MyISAM
    PARTITION BY HASH(c1)
    PARTITIONS 4;

SET GLOBAL kc_fast.key_buffer_size = 128 * 1024;
SET GLOBAL kc_slow.key_buffer_size = 128 * 1024;

CACHE INDEX pt PARTITION (p0) IN kc_fast;
CACHE INDEX pt PARTITION (p1, p3) IN kc_slow;

```

​        The previous set of statements performs the following actions:

- ​            Creates a partitioned table with 4 partitions; these            partitions are automatically named `p0`,            ..., `p3`; this table has an index named            `i` on column `c1`.          
- ​            Creates 2 key caches named `kc_fast` and            `kc_slow`          
- ​            Assigns the index for partition `p0` to the            `kc_fast` key cache and the index for            partitions `p1` and `p3`            to the `kc_slow` key cache; the index for            the remaining partition (`p2`) uses the            server's default key cache.

​        If you wish instead to assign the indexes for all partitions in        table `pt` to a single key cache named        `kc_all`, you can use either one of the        following 2 statements:      

```
CACHE INDEX pt PARTITION (ALL) IN kc_all;

CACHE INDEX pt IN kc_all;

```

​        The two statements just shown are equivalent, and issuing either        one of them has exactly the same effect. In other words, if you        wish to assign indexes for all partitions of a partitioned table        to the same key cache, then the `PARTITION        (ALL)` clause is optional.      

​        When assigning indexes for multiple partitions to a key cache,        the partitions do not have to be contiguous, and you are not        required to list their names in any particular order. Indexes        for any partitions that are not explicitly assigned to a key        cache automatically use the server's default key cache.      

​        Index preloading is also supported for partitioned        `MyISAM` tables. For more information, see        [Section 13.7.6.5, “LOAD INDEX INTO CACHE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#load-index).

#### 13.7.6.3 FLUSH Syntax

```
FLUSH [NO_WRITE_TO_BINLOG | LOCAL] {
    flush_option [, flush_option] ...
  | tables_option
}

flush_option: {
    BINARY LOGS
  | DES_KEY_FILE
  | ENGINE LOGS
  | ERROR LOGS
  | GENERAL LOGS
  | HOSTS
  | LOGS
  | MASTER
  | PRIVILEGES
  | QUERY CACHE
  | RELAY LOGS
  | SLAVE
  | SLOW LOGS
  | STATUS
  | USER_RESOURCES
}

tables_option: {
    TABLES
  | TABLES tbl_name [, tbl_name] ...
  | TABLES WITH READ LOCK
  | TABLES tbl_name [, tbl_name] ... WITH READ LOCK
}

```

​        The [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) statement has several        variant forms that clear or reload various internal caches,        flush tables, or acquire locks. To execute        [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush), you must have the        [`RELOAD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_reload) privilege. Specific flush        options might require additional privileges, as described later.

Note

​          It is not possible to issue          [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) statements within stored          functions or triggers. However, you may use          [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) in stored procedures, so          long as these are not called from stored functions or          triggers. See [Section C.1, “Restrictions on Stored Programs”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/restrictions.html#stored-program-restrictions).

​        By default, the server writes        [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) statements to the binary        log so that they replicate to replication slaves. To suppress        logging, specify the optional        `NO_WRITE_TO_BINLOG` keyword or its alias        `LOCAL`.

Note

​          [`FLUSH LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-logs),          [`FLUSH MASTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-master),          [`FLUSH SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-slave), and          [`FLUSH TABLES WITH READ LOCK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-read-lock)          (with or without a table list) are not written to the binary          log in any case because they would cause problems if          replicated to a slave.

​        The [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) statement causes an        implicit commit. See [Section 13.3.3, “Statements That Cause an Implicit Commit”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#implicit-commit).      

​        The [**mysqladmin**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin) utility provides a        command-line interface to some flush operations, using commands        such as `flush-hosts`,        `flush-logs`,        `flush-privileges`,        `flush-status`, and        `flush-tables`. See        [Section 4.5.2, “**mysqladmin** — Client for Administering a MySQL Server”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin).      

​        Sending a `SIGHUP` signal to the server causes        several flush operations to occur that are similar to various        forms of the [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) statement. See        [Section 5.1.11, “Server Response to Signals”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#server-signal-response).      

​        The [`RESET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset) statement is similar to        [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush). See        [Section 13.7.6.6, “RESET Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset), for information about using the        [`RESET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset) statement with replication.      

​        The following list describes the permitted        [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) statement        *flush_option* values. For descriptions        of [`FLUSH        TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-variants) variants, see        [FLUSH TABLES Syntax](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-variants).

- ​            [`FLUSH BINARY LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-binary-logs)          

  ​            Closes and reopens any binary log file to which the server            is writing. If binary logging is enabled, the sequence            number of the binary log file is incremented by one relative            to the previous file.          

- ​            [`FLUSH DES_KEY_FILE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-des-key-file)          

  ​            Reloads the DES keys from the file that was specified with            the [`--des-key-file`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#option_mysqld_des-key-file) option at            server startup time.          

- ​            [`FLUSH ENGINE LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-engine-logs)          

  ​            Closes and reopens any flushable logs for installed storage            engines. This causes `InnoDB` to flush its            logs to disk.          

- ​            [`FLUSH ERROR LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-error-logs)          

  ​            Closes and reopens any error log file to which the server is            writing.          

- ​            [`FLUSH GENERAL LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-general-logs)          

  ​            Closes and reopens any general query log file to which the            server is writing.          

- ​            [`FLUSH HOSTS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-hosts)          

  ​            Empties the host cache. Flush the host cache if some of your            hosts change IP address or if the error message            `Host '*host_name*' is            blocked` occurs for connections from legitimate            hosts. (See [Section B.5.2.6, “Host 'host_name' is blocked”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/error-handling.html#blocked-host).) When more than            [`max_connect_errors`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_connect_errors) errors            occur successively for a given host while connecting to the            MySQL server, MySQL assumes that something is wrong and            blocks the host from further connection requests. Flushing            the host cache enables further connection attempts from the            host. The default value of            [`max_connect_errors`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_connect_errors) is 10.            To avoid this error message, start the server with            [`max_connect_errors`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_connect_errors) set to a            large value.          

- ​            [`FLUSH LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-logs)          

  ​            Closes and reopens any log file to which the server is            writing. If binary logging is enabled, the sequence number            of the binary log file is incremented by one relative to the            previous file. If relay logging is enabled, the sequence            number of the relay log file is incremented by one relative            to the previous file.          

  ​            [`FLUSH LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-logs) has no effect on            tables used for the general query log or for the slow query            log (see [Section 5.4.1, “Selecting General Query and Slow Query Log Output Destinations”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#log-destinations)).          

- ​            [`FLUSH MASTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-master)          

  ​            Deletes all binary logs, resets the binary log index file            and creates a new binary log. [`FLUSH            MASTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-master) is deprecated in favor of            [`RESET MASTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-master).            [`FLUSH MASTER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-master) is still            accepted in MySQL 5.5 for backward            compatibility, but is removed in MySQL 5.6. See            [Section 13.4.1.2, “RESET MASTER Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-master).          

- ​            [`FLUSH PRIVILEGES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-privileges)          

  ​            Reloads the privileges from the grant tables in the            `mysql` system database.          

  ​            The server caches information in memory as a result of            [`GRANT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#grant),            [`CREATE USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-user),            [`CREATE SERVER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#create-server), and            [`INSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#install-plugin) statements.            This memory is not released by the corresponding            [`REVOKE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#revoke),            [`DROP USER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-user),            [`DROP SERVER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#drop-server), and            [`UNINSTALL PLUGIN`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#uninstall-plugin) statements,            so for a server that executes many instances of the            statements that cause caching, there will be an increase in            memory use. This cached memory can be freed with            [`FLUSH PRIVILEGES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-privileges).          

- ​            [`FLUSH QUERY CACHE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-query-cache)          

  ​            Defragment the query cache to better utilize its memory.            [`FLUSH QUERY CACHE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-query-cache) does not            remove any queries from the cache, unlike            [`FLUSH TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables) or            `RESET QUERY CACHE`.          

- ​            [`FLUSH RELAY LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-relay-logs)          

  ​            Closes and reopens any relay log file to which the server is            writing. If relay logging is enabled, the sequence number of            the relay log file is incremented by one relative to the            previous file.          

- ​            [`FLUSH SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-slave)          

  ​            Resets all replication slave parameters, including relay log            files and replication position in the master's binary logs.            [`FLUSH SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-slave) is deprecated in            favor of [`RESET SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-slave).            [`FLUSH SLAVE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-slave) is still accepted            in MySQL 5.5 for backward compatibility, but is            removed in MySQL 5.6. See [Section 13.4.2.3, “RESET SLAVE Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset-slave).          

- ​            [`FLUSH SLOW LOGS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-slow-logs)          

  ​            Closes and reopens any slow query log file to which the            server is writing.          

- ​            [`FLUSH STATUS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-status)          

  ​            This option adds the current thread's session status            variable values to the global values and resets the session            values to zero. Some global variables may be reset to zero            as well. It also resets the counters for key caches (default            and named) to zero and sets            [`Max_used_connections`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#statvar_Max_used_connections) to            the current number of open connections. This information may            be of use when debugging a query. See            [Section 1.6, “How to Report Bugs or Problems”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/introduction.html#bug-reports).          

- ​            [`FLUSH USER_RESOURCES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-user-resources)          

  ​            Resets all per-hour user resources to zero. This enables            clients that have reached their hourly connection, query, or            update limits to resume activity immediately.            [`FLUSH USER_RESOURCES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-user-resources) does not            apply to the limit on maximum simultaneous connections that            is controlled by the            [`max_user_connections`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#sysvar_max_user_connections) system            variable. See [Section 6.3.4, “Setting Account Resource Limits”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#user-resources).

##### FLUSH TABLES Syntax

​        [`FLUSH TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables) flushes tables, and,        depending on the variant used, acquires locks. Any        `TABLES` variant used in a        [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) statement must be the only        option used. [`FLUSH        TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables) is a synonym for [`FLUSH        TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables).

Note

​          The descriptions here that indicate tables are flushed by          closing them apply differently for `InnoDB`,          which flushes table contents to disk but leaves them open.          This still permits table files to be copied while the tables          are open, as long as other activity does not modify them.

- ​            [`FLUSH TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables)          

  ​            Closes all open tables, forces all tables in use to be            closed, and flushes the query cache.            [`FLUSH TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables) also removes all            query results from the query cache, like the `RESET            QUERY CACHE` statement.          

  ​            [`FLUSH TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables) is not permitted            when there is an active            [`LOCK TABLES ...            READ`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables). To flush and lock tables, use            [`FLUSH            TABLES *tbl_name* ... WITH READ            LOCK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-read-lock-with-list) instead.          

- ​            [`FLUSH            TABLES *tbl_name* [,            *tbl_name*\] ...`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-list)          

  ​            With a list of one or more comma-separated table names, this            statement is like [`FLUSH            TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables) with no names except that the server            flushes only the named tables. If a named table does not            exist, no error occurs.          

- ​            [`FLUSH            TABLES WITH READ LOCK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-read-lock)          

  ​            Closes all open tables and locks all tables for all            databases with a global read lock. This is a very convenient            way to get backups if you have a file system such as Veritas            or ZFS that can take snapshots in time. Use            [`UNLOCK            TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) to release the lock.          

  ​            [`FLUSH TABLES WITH READ LOCK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-read-lock)            acquires a global read lock rather than table locks, so it            is not subject to the same behavior as            [`LOCK TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) and            [`UNLOCK            TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) with respect to table locking and implicit            commits:

  - ​                [`UNLOCK                TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) implicitly commits any active                transaction only if any tables currently have been                locked with [`LOCK TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables).                The commit does not occur for                [`UNLOCK                TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) following [`FLUSH                TABLES WITH READ LOCK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-read-lock) because the latter                statement does not acquire table locks.              
  - ​                Beginning a transaction causes table locks acquired with                [`LOCK TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) to be                released, as though you had executed                [`UNLOCK                TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables). Beginning a transaction does not                release a global read lock acquired with                [`FLUSH TABLES WITH READ                LOCK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-read-lock).

  ​            [`FLUSH TABLES WITH READ LOCK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-read-lock)            is not compatible with XA transactions.          

  ​            [`FLUSH TABLES WITH READ LOCK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-read-lock)            does not prevent the server from inserting rows into the log            tables (see [Section 5.4.1, “Selecting General Query and Slow Query Log Output Destinations”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/server-administration.html#log-destinations)).          

- ​            [`FLUSH            TABLES *tbl_name* [,            *tbl_name*\] ... WITH READ            LOCK`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables-with-read-lock-with-list)          

  ​            This statement flushes and acquires read locks for the named            tables. The statement first acquires exclusive metadata            locks for the tables, so it waits for transactions that have            those tables open to complete. Then the statement flushes            the tables from the table cache, reopens the tables,            acquires table locks (like            [`LOCK TABLES ...            READ`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables)), and downgrades the metadata locks from            exclusive to shared. After the statement acquires locks and            downgrades the metadata locks, other sessions can read but            not modify the tables.          

  ​            Because this statement acquires table locks, you must have            the [`LOCK TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_lock-tables) privilege for            each table, in addition to the            [`RELOAD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_reload) privilege that is            required to use any [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush)            statement.          

  ​            This statement applies only to existing base            (non-`TEMPORARY) `tables. If a name refers            to a base table, that table is used. If it refers to a            `TEMPORARY` table, it is ignored. If a name            applies to a view, an            [`ER_WRONG_OBJECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/error-handling.html#error_er_wrong_object) error            occurs. Otherwise, an            [`ER_NO_SUCH_TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/error-handling.html#error_er_no_such_table) error            occurs.          

  ​            Use [`UNLOCK            TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) to release the locks,            [`LOCK TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) to release the            locks and acquire other locks, or            [`START            TRANSACTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#commit) to release the locks and begin a new            transaction.          

  ​            This [`FLUSH TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables) variant            enables tables to be flushed and locked in a single            operation. It provides a workaround for the restriction that            [`FLUSH TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush-tables) is not permitted            when there is an active            [`LOCK TABLES ...            READ`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables).          

  ​            This statement does not perform an implicit            [`UNLOCK            TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables), so an error results if you use the            statement while there is any active            [`LOCK TABLES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#lock-tables) or use it a            second time without first releasing the locks acquired.          

  ​            If a flushed table was opened with            [`HANDLER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#handler), the handler is            implicitly flushed and loses its position.

#### 13.7.6.4 KILL Syntax

```
KILL [CONNECTION | QUERY] processlist_id

```

​        Each connection to [**mysqld**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqld) runs in a separate        thread. You can kill a thread with the `KILL        *processlist_id*` statement.      

​        Thread processlist identifiers can be determined from the        `ID` column of the        [`INFORMATION_SCHEMA.PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/information-schema.html#processlist-table)        table, the `Id` column of        [`SHOW PROCESSLIST`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#show-processlist) output, and the        `PROCESSLIST_ID` column of the Performance        Schema [`threads`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/performance-schema.html#threads-table) table. The value for        the current thread is returned by the        [`CONNECTION_ID()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_connection-id) function.      

​        [`KILL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill) permits an optional        `CONNECTION` or `QUERY`        modifier:

- ​            [`KILL            CONNECTION`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill) is the same as            [`KILL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill) with no modifier: It            terminates the connection associated with the given            *processlist_id*, after terminating            any statement the connection is executing.          
- ​            [`KILL QUERY`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill)            terminates the statement the connection is currently            executing, but leaves the connection itself intact.

​        If you have the [`PROCESS`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_process)        privilege, you can see all threads. If you have the        [`SUPER`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_super) privilege, you can kill all        threads and statements. Otherwise, you can see and kill only        your own threads and statements.      

​        You can also use the [**mysqladmin processlist**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin)        and [**mysqladmin kill**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#mysqladmin) commands to examine and        kill threads.

Note

​          You cannot use [`KILL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill) with the          Embedded MySQL Server library because the embedded server          merely runs inside the threads of the host application. It          does not create any connection threads of its own.

​        When you use [`KILL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill), a        thread-specific kill flag is set for the thread. In most cases,        it might take some time for the thread to die because the kill        flag is checked only at specific intervals:

- ​            During [`SELECT`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#select) operations, for            `ORDER BY` and `GROUP BY`            loops, the flag is checked after reading a block of rows. If            the kill flag is set, the statement is aborted.          

- ​            [`ALTER TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#alter-table) operations that            make a table copy check the kill flag periodically for each            few copied rows read from the original table. If the kill            flag was set, the statement is aborted and the temporary            table is deleted.          

  ​            The [`KILL`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#kill) statement returns            without waiting for confirmation, but the kill flag check            aborts the operation within a reasonably small amount of            time. Aborting the operation to perform any necessary            cleanup also takes some time.          

- ​            During [`UPDATE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#update) or            [`DELETE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#delete) operations, the kill            flag is checked after each block read and after each updated            or deleted row. If the kill flag is set, the statement is            aborted. If you are not using transactions, the changes are            not rolled back.          

- ​            [`GET_LOCK()`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/functions.html#function_get-lock) aborts and returns            `NULL`.          

- ​            An [`INSERT DELAYED`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#insert-delayed) thread            quickly flushes (inserts) all rows it has in memory and then            terminates.          

- ​            If the thread is in the table lock handler (state:            `Locked`), the table lock is quickly            aborted.          

- ​            If the thread is waiting for free disk space in a write            call, the write is aborted with a “disk full”            error message.

Warning

​          Killing a [`REPAIR TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#repair-table) or          [`OPTIMIZE TABLE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#optimize-table) operation on a          `MyISAM` table results in a table that is          corrupted and unusable. Any reads or writes to such a table          fail until you optimize or repair it again (without          interruption).

#### 13.7.6.5 LOAD INDEX INTO CACHE Syntax

```
LOAD INDEX INTO CACHE
  tbl_index_list [, tbl_index_list] ...

tbl_index_list:
  tbl_name
    [PARTITION (partition_list | ALL)]
    [[INDEX|KEY] (index_name[, index_name] ...)]
    [IGNORE LEAVES]

partition_list:
    partition_name[, partition_name][, ...]

```

​        The [`LOAD INDEX INTO        CACHE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#load-index) statement preloads a table index into the key        cache to which it has been assigned by an explicit        [`CACHE INDEX`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#cache-index) statement, or into        the default key cache otherwise.      

​        [`LOAD INDEX INTO        CACHE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#load-index) is used only for `MyISAM`        tables. In MySQL 5.5, it is also supported for        partitioned `MyISAM` tables; in addition,        indexes on partitioned tables can be preloaded for one, several,        or all partitions.      

​        The `IGNORE LEAVES` modifier causes only blocks        for the nonleaf nodes of the index to be preloaded.      

​        `IGNORE LEAVES` is also supported for        partitioned `MyISAM` tables.      

​        The following statement preloads nodes (index blocks) of indexes        for the tables `t1` and `t2`:      

```
mysql> LOAD INDEX INTO CACHE t1, t2 IGNORE LEAVES;
+---------+--------------+----------+----------+
| Table   | Op           | Msg_type | Msg_text |
+---------+--------------+----------+----------+
| test.t1 | preload_keys | status   | OK       |
| test.t2 | preload_keys | status   | OK       |
+---------+--------------+----------+----------+

```

​        This statement preloads all index blocks from        `t1`. It preloads only blocks for the nonleaf        nodes from `t2`.      

​        The syntax of [`LOAD        INDEX INTO CACHE`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#load-index) enables you to specify that only        particular indexes from a table should be preloaded. The current        implementation preloads all the table's indexes into the cache,        so there is no reason to specify anything other than the table        name.      

​        In MySQL 5.5, it is possible to preload indexes on        specific partitions of partitioned `MyISAM`        tables. For example, of the following 2 statements, the first        preloads indexes for partition `p0` of a        partitioned table `pt`, while the second        preloads the indexes for partitions `p1` and        `p3` of the same table:      

```
LOAD INDEX INTO CACHE pt PARTITION (p0);
LOAD INDEX INTO CACHE pt PARTITION (p1, p3);

```

​        To preload the indexes for all partitions in table        `pt`, you can use either one of the following 2        statements:      

```
LOAD INDEX INTO CACHE pt PARTITION (ALL);

LOAD INDEX INTO CACHE pt;

```

​        The two statements just shown are equivalent, and issuing either        one of them has exactly the same effect. In other words, if you        wish to preload indexes for all partitions of a partitioned        table, then the `PARTITION (ALL)` clause is        optional.      

​        When preloading indexes for multiple partitions, the partitions        do not have to be contiguous, and you are not required to list        their names in any particular order.      

​        [`LOAD INDEX INTO        CACHE ... IGNORE LEAVES`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#load-index) fails unless all indexes in a        table have the same block size. You can determine index block        sizes for a table by using [**myisamchk -dv**](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/programs.html#myisamchk) and        checking the `Blocksize` column.

#### 13.7.6.6 RESET Syntax

```
RESET reset_option [, reset_option] ...

reset_option: {
    MASTER
  | QUERY CACHE
  | SLAVE
}

```

​        The [`RESET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset) statement is used to        clear the state of various server operations. You must have the        [`RELOAD`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/security.html#priv_reload) privilege to execute        [`RESET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset).      

​        [`RESET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset) acts as a stronger version        of the [`FLUSH`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush) statement. See        [Section 13.7.6.3, “FLUSH Syntax”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#flush).      

​        The [`RESET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset) statement causes an        implicit commit. See [Section 13.3.3, “Statements That Cause an Implicit Commit”](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#implicit-commit).      

​        The following list describes the permitted        [`RESET`](file:///F:/Tech_doc/Mysql/refman-5.5-en.html-chapter/sql-syntax.html#reset) statement        *reset_option* values:

- ​            `RESET MASTER`          

  ​            Deletes all binary logs listed in the index file, resets the            binary log index file to be empty, and creates a new binary            log file.          

- ​            `RESET QUERY CACHE`          

  ​            Removes all query results from the query cache.          

- ​            `RESET SLAVE`          

  ​            Makes the slave forget its replication position in the            master binary logs. Also resets the relay log by deleting            any existing relay log files and beginning a new one.
